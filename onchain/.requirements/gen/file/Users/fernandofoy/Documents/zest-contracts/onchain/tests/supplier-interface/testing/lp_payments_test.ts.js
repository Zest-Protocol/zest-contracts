// deno-lint-ignore-file
import { Clarinet } from 'https://deno.land/x/clarinet@v1.0.3/index.ts';
import { assertEquals } from 'https://deno.land/std@0.159.0/testing/asserts.ts';
import { Pool } from '../../interfaces/pool-v1-0.ts';
import { CoverPool } from '../../interfaces/cover-pool-v1-0.ts';
import { Loan } from '../../interfaces/loan-v1-0.ts';
import { Buffer } from "https://deno.land/std@0.159.0/node/buffer.ts";
import { TestUtils } from '../../interfaces/test-utils.ts';
import { Magic } from '../../interfaces/magic_real.ts';
import { Globals } from '../../interfaces/globals.ts';
import { SupplierInterface } from '../../interfaces/supplier_interface.ts';
import { Payment } from '../../interfaces/payment.ts';
import { LiquidityVault } from '../../interfaces/liquidity-vault.ts';
import { getHash, getTxId, getExpiration, swapperBuff, generateP2SHTx } from "../util.ts";
import { runBootstrap, sendFundsP2SHTxs, registerSupplierTxs, makePaymentTxs, consumeUint, makeFullPaymentTxs, finalizeDrawdown, getBP } from '../../interfaces/common.ts';
import { LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, LIQUIDITY_VAULT, CP_TOKEN, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, recipient, sender, preimage, SWAP_ROUTER, CP_REWARDS_TOKEN, COVER_VAULT } from "../config.ts";
const MAX_MATURITY_LENGTH = 144 * 365 * 3; // 3 years
Clarinet.test({
    name: "Borrower can make a payment",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let globals = Globals.getGlobals(chain, deployerWallet.address).expectTuple();
        let cooldownTime = consumeUint(globals["lp-cooldown-period"]);
        let unstakeWindow = consumeUint(globals["lp-unstake-window"]);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        pool.createLoan(LP_TOKEN, 0, 100_000_000, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        block = pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        // chain.mineEmptyBlock(10);
        chain.mineEmptyBlockUntil(consumeUint(loan.getLoanData(0).result.expectTuple()["next-payment"]) - 1);
        // console.log(consumeUint(loan.getLoanData(0).result.expectTuple()["next-payment"]));
        // chain.mineEmptyBlock(1300);
        let prev = chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.liquidity-vault-v1-0"];
        let regularPaymentDue = consumeUint(Payment.getCurrentLoanPayment(chain, 0, wallet_8.address));
        // console.log(regularPaymentDue);
        let delegateFee = Math.floor(consumeUint(pool.getPool(0)["delegate-fee"]) / 10000 * regularPaymentDue);
        let minPaymentToReceive = Math.floor(regularPaymentDue * fee / 10_000);
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_8.address),
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "00", 0, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 1, XBTC)
        ]);
        // console.log(block);
        assertEquals(chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.liquidity-vault-v1-0"] - prev, regularPaymentDue - delegateFee);
        chain.mineEmptyBlock(1440);
        prev = chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.liquidity-vault-v1-0"];
        block = chain.mineBlock([
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "01", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 1, XBTC)
        ]);
        assertEquals(chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.liquidity-vault-v1-0"] - prev, regularPaymentDue - delegateFee);
    }
});
Clarinet.test({
    name: "Borrower can make late payments",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        // let block = runBootstrap(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        // loan.addBorrower(wallet_8.address, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        pool.createLoan(LP_TOKEN, 0, 100_000_000, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            Payment.triggerLatePayment(0, 0, wallet_7.address)
        ]);
        Payment.isPayingLateFees(chain, wallet_8.address).result.expectBool(true);
        chain.mineEmptyBlock(1442);
        let regularPaymentDue = consumeUint(Payment.getCurrentLoanPayment(chain, 0, wallet_8.address));
        let delegateFee = Math.floor(consumeUint(pool.getPool(0)["delegate-fee"]) / 10000 * regularPaymentDue);
        let minPaymentToReceive = Math.floor(regularPaymentDue * fee / 10_000);
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_8.address),
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "00", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC)
        ]);
        assertEquals(consumeUint(block.receipts[3].result.expectOk().expectTuple()["reward"]), regularPaymentDue);
    }
});
Clarinet.test({
    name: "Borrower can make late payments, next payment is back to regular amount",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        let DAY = consumeUint(Globals.getDayLengthDefault(chain, deployerWallet.address));
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        pool.createLoan(LP_TOKEN, 0, 100_000_000, XBTC, 0, XBTC, 300, DAY * 10 * 9, DAY * 10, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            Payment.triggerLatePayment(0, 0, wallet_7.address)
        ]);
        let regularPaymentDue = consumeUint(Payment.getCurrentLoanPayment(chain, 0, wallet_8.address));
        let delegateFee = Math.floor(consumeUint(pool.getPool(0)["delegate-fee"]) / 10000 * regularPaymentDue);
        let minPaymentToReceive = Math.floor(regularPaymentDue * fee / 10_000);
        chain.mineEmptyBlockUntil(consumeUint(loan.getLoanData(0).result.expectTuple()["next-payment"]) - 1);
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_8.address),
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "00", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC)
        ]);
        Payment.isPayingLateFees(chain, wallet_8.address).result.expectBool(false);
        chain.mineEmptyBlockUntil(consumeUint(loan.getLoanData(0).result.expectTuple()["next-payment"]) - 1);
        regularPaymentDue = consumeUint(Payment.getCurrentLoanPayment(chain, 0, wallet_8.address));
        block = chain.mineBlock([
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "01", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC)
        ]);
        assertEquals(consumeUint(block.receipts[2].result.expectOk().expectTuple()["reward"]), regularPaymentDue);
    }
});
Clarinet.test({
    name: "Only Pool delegate can trigger a late fee",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let wallet_9 = accounts.get("wallet_9"); // random_wallet
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        // let block = runBootstrap(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        // loan.addBorrower(wallet_8.address, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000),
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        pool.createLoan(LP_TOKEN, 0, 100_000_000, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99000000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        chain.mineBlock([
            Payment.triggerLatePayment(0, 0, deployerWallet.address)
        ]);
        Payment.isPayingLateFees(chain, wallet_8.address).result.expectBool(false);
        Payment.isPayingLateFees(chain, wallet_9.address).result.expectBool(false);
        chain.mineBlock([
            Payment.triggerLatePayment(0, 0, wallet_1.address)
        ]);
        Payment.isPayingLateFees(chain, wallet_8.address).result.expectBool(false);
        Payment.isPayingLateFees(chain, wallet_9.address).result.expectBool(false);
        chain.mineBlock([
            Payment.triggerLatePayment(0, 0, wallet_8.address)
        ]);
        Payment.isPayingLateFees(chain, wallet_8.address).result.expectBool(false);
        Payment.isPayingLateFees(chain, wallet_9.address).result.expectBool(false);
    }
});
Clarinet.test({
    name: "Borrower can make late payment even after grace period expired",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        pool.createLoan(LP_TOKEN, 0, 100_000_000, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        chain.mineEmptyBlock(10);
        chain.mineEmptyBlock(1440);
        let globals = Globals.getGlobals(chain, deployerWallet.address).expectTuple();
        let regularPaymentDue = consumeUint(Payment.getCurrentLoanPayment(chain, 0, wallet_8.address));
        let minPaymentToReceive = Math.floor(regularPaymentDue * fee / 10_000);
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_8.address),
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "00", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, block.height + 1440, XBTC)
        ]);
        let gracePeriod = consumeUint(globals["grace-period"]);
        chain.mineEmptyBlock(gracePeriod + 1440);
        block = chain.mineBlock([
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "01", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, block.height + 1440 + gracePeriod, XBTC)
        ]);
        block.receipts[2].result.expectOk();
    }
});
Clarinet.test({
    name: "Borrower can make a full payment with a premium",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let lv = new LiquidityVault(chain, LIQUIDITY_VAULT, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        let DAY = consumeUint(Globals.getDayLengthDefault(chain, deployerWallet.address));
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        pool.createLoan(LP_TOKEN, 0, 100_000_000, XBTC, 0, XBTC, 300, DAY * 10 * 9, DAY * 10, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        chain.mineEmptyBlockUntil(consumeUint(loan.getLoanData(0).result.expectTuple()["next-payment"]) - 1);
        let regularPaymentDue = consumeUint(Payment.getEarlyRepaymentAmount(chain, 0, wallet_8.address));
        let minPaymentToReceive = Math.floor(regularPaymentDue * fee / 10_000);
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_8.address),
            ...makeFullPaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "01", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC)
        ]);
        block.receipts[3].result.expectOk();
        assertEquals(chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.magic-protocol"], 9999700000 - regularPaymentDue);
    }
});
Clarinet.test({
    name: "Borrower can make a full payment with a premium with a leaked preimage",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let wallet_9 = accounts.get("wallet_9");
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let lv = new LiquidityVault(chain, LIQUIDITY_VAULT, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        let DAY = consumeUint(Globals.getDayLengthDefault(chain, deployerWallet.address));
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        pool.createLoan(LP_TOKEN, 0, 100_000_000, XBTC, 0, XBTC, 300, DAY * 10 * 9, DAY * 10, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        chain.mineEmptyBlockUntil(consumeUint(loan.getLoanData(0).result.expectTuple()["next-payment"]) - 1);
        let regularPaymentDue = consumeUint(Payment.getEarlyRepaymentAmount(chain, 0, wallet_8.address));
        let minPaymentToReceive = Math.floor(regularPaymentDue * fee / 10_000);
        let expiration = 500;
        let swapperId = 1;
        let outputValue = regularPaymentDue;
        let minToReceive = minPaymentToReceive;
        let hash = getHash("01");
        let tx1 = generateP2SHTx(sender, recipient, expiration, hash, swapperId, outputValue);
        let txid1 = getTxId(tx1);
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_8.address),
            TestUtils.setMinedTx(txid1, deployerWallet.address),
            // called by different Stacks address
            SupplierInterface.sendFunds({
                header: "",
                height: chain.blockHeight - 1
            }, [], tx1, {
                "tx-index": 0,
                "hashes": [],
                "tree-depth": 0
            }, 0, sender, recipient, getExpiration(expiration), hash, swapperBuff(swapperId), supplierId, minToReceive, wallet_8.address),
            // wrong address finalizes
            Magic.finalizeSwap(txid1, "01", wallet_9.address),
            ...makeFullPaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "01", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC),
            SupplierInterface.makeFullPaymentCompleted(txid1, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, XBTC, wallet_8.address), 
        ]);
        block.receipts[3].result.expectOk();
        block.receipts[5].result.expectErr();
        block.receipts[7].result.expectOk();
    }
});
Clarinet.test({
    name: "Can make all the payments for the loan after missing multiple payments.",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let LP_1 = accounts.get("wallet_1"); // LP_1
        let LP_2 = accounts.get("wallet_2"); // LP_2
        let cover = accounts.get("wallet_3"); // Cover_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let coverPool = new CoverPool(chain, deployerWallet);
        let block = runBootstrap(chain, deployerWallet);
        block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        block = coverPool.sendFunds(CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, 0, 100_000_000_000n, 10, REWARDS_CALC, cover.address);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(LP_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, LP_1.address, sender, recipient, 500, 0, 100_000_000, preimage, 0, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        const LOAN_AMOUNT = 100_000_000;
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, 0, XBTC, 300, 5760, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        block = pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        block = chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        chain.mineEmptyBlock(10);
        let globals = Globals.getGlobals(chain, deployerWallet.address).expectTuple();
        let totalInvestorFees = getBP(LOAN_AMOUNT, consumeUint(globals["treasury-fee"]) + consumeUint(globals["investor-fee"]));
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        let gracePeriod = consumeUint(globals["grace-period"]);
        let nextPaymentIn = consumeUint(loan.getNextpaymentIn(0).result);
        chain.mineEmptyBlock(nextPaymentIn);
        chain.mineEmptyBlock(nextPaymentIn);
        chain.mineEmptyBlock(nextPaymentIn);
        chain.mineEmptyBlock(nextPaymentIn);
        chain.mineEmptyBlock(nextPaymentIn);
        let regularPaymentDue = consumeUint(Payment.getCurrentLoanPayment(chain, 0, wallet_8.address));
        let delegateFee = Math.floor(consumeUint(pool.getPool(0)["delegate-fee"]) / 10000 * regularPaymentDue);
        let minPaymentToReceive = Math.floor(regularPaymentDue * fee / 10_000);
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_8.address),
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "00", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC)
        ]);
        block = chain.mineBlock([
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "01", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC)
        ]);
        block = chain.mineBlock([
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "02", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC)
        ]);
        block = chain.mineBlock([
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue + LOAN_AMOUNT, "03", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 2, XBTC)
        ]);
        block.receipts[2].result.expectOk().expectTuple()["repayment"].expectBool(true);
        let loanResult = loan.getLoanData(0).result.expectTuple();
        loanResult["remaining-payments"].expectUint(0);
        loanResult["status"].expectBuff(Buffer.from("05", "hex"));
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvZmVybmFuZG9mb3kvRG9jdW1lbnRzL3plc3QtY29udHJhY3RzL29uY2hhaW4vdGVzdHMvc3VwcGxpZXItaW50ZXJmYWNlL3Rlc3RpbmcvbHBfcGF5bWVudHNfdGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkZW5vLWxpbnQtaWdub3JlLWZpbGVcbmltcG9ydCB7IENsYXJpbmV0LCBUeCwgQ2hhaW4sIEFjY291bnQsIHR5cGVzIH0gZnJvbSAnaHR0cHM6Ly9kZW5vLmxhbmQveC9jbGFyaW5ldEB2MS4wLjMvaW5kZXgudHMnO1xuaW1wb3J0IHsgYXNzZXJ0RXF1YWxzLCBhc3NlcnQgfSBmcm9tICdodHRwczovL2Rlbm8ubGFuZC9zdGRAMC4xNTkuMC90ZXN0aW5nL2Fzc2VydHMudHMnO1xuaW1wb3J0IHsgUG9vbCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvcG9vbC12MS0wLnRzJztcbmltcG9ydCB7IENvdmVyUG9vbCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvY292ZXItcG9vbC12MS0wLnRzJztcbmltcG9ydCB7IExvYW4gfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2xvYW4tdjEtMC50cyc7XG5pbXBvcnQgeyBMUFRva2VuIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9scC10b2tlbi50cyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiaHR0cHM6Ly9kZW5vLmxhbmQvc3RkQDAuMTU5LjAvbm9kZS9idWZmZXIudHNcIjtcbmltcG9ydCB7IFRlc3RVdGlscyB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvdGVzdC11dGlscy50cyc7XG5pbXBvcnQgeyBNYWdpYyB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvbWFnaWNfcmVhbC50cyc7XG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9nbG9iYWxzLnRzJztcbmltcG9ydCB7IFN1cHBsaWVySW50ZXJmYWNlIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9zdXBwbGllcl9pbnRlcmZhY2UudHMnO1xuaW1wb3J0IHsgUGF5bWVudCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvcGF5bWVudC50cyc7XG5pbXBvcnQgeyBMaXF1aWRpdHlWYXVsdCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvbGlxdWlkaXR5LXZhdWx0LnRzJztcbmltcG9ydCB7IFxuICBnZXRIYXNoLFxuICBnZXRSZXZlcnNlVHhJZCxcbiAgZ2V0VHhJZCxcbiAgZ2V0RXhwaXJhdGlvbixcbiAgc3dhcHBlckJ1ZmYsXG4gIGdlbmVyYXRlUDJQS0hUeCxcbmdlbmVyYXRlUDJTSFR4XG59IGZyb20gXCIuLi91dGlsLnRzXCI7XG5cbmltcG9ydCB7XG4gIHNldENvbnRyYWN0T3duZXIsXG4gIGluaXRDb250cmFjdE93bmVycyxcbiAgYm9vdHN0cmFwQXBwcm92ZWRDb250cmFjdHMsXG4gIGFkZEFwcHJvdmVkQ29udHJhY3QsXG4gIHJ1bkJvb3RzdHJhcCxcbiAgYWRkQm9ycm93ZXIsXG4gIHNlbmRGdW5kc1AyU0hUeHMsXG4gIHJlZ2lzdGVyU3VwcGxpZXJUeHMsXG4gIGZpbmFsaXplT3V0Ym91bmRUeHMsXG4gIG1ha2VQYXltZW50VHhzLFxuICBjb25zdW1lVWludCxcbiAgbWFrZUZ1bGxQYXltZW50VHhzLFxuICBmaW5hbGl6ZURyYXdkb3duLFxuICBnZXRCUCxcbn0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9jb21tb24udHMnO1xuXG5pbXBvcnQge1xuICBMUF9UT0tFTixcbiAgWlBfVE9LRU4sXG4gIFBBWU1FTlQsXG4gIFJFV0FSRFNfQ0FMQyxcbiAgTElRVUlESVRZX1ZBVUxULFxuICBDUF9UT0tFTixcbiAgWEJUQyxcbiAgQ09MTF9WQVVMVCxcbiAgRlVORElOR19WQVVMVCxcbiAgUDJQS0hfVkVSU0lPTixcbiAgSEFTSCxcbiAgcmVjaXBpZW50LFxuICBzZW5kZXIsXG4gIHByZWltYWdlLFxuICBTV0FQX1JPVVRFUixcbiAgT05FX0RBWSxcbiAgQ1BfUkVXQVJEU19UT0tFTixcbiAgQ09WRVJfVkFVTFRcbn0gZnJvbSBcIi4uL2NvbmZpZy50c1wiO1xuXG5jb25zdCBNQVhfTUFUVVJJVFlfTEVOR1RIID0gMTQ0ICogMzY1ICogMzsgLy8gMyB5ZWFyc1xuXG5DbGFyaW5ldC50ZXN0KHtcbiAgbmFtZTogXCJCb3Jyb3dlciBjYW4gbWFrZSBhIHBheW1lbnRcIixcbiAgYXN5bmMgZm4oY2hhaW46IENoYWluLCBhY2NvdW50czogTWFwPHN0cmluZywgQWNjb3VudD4pIHtcbiAgICBsZXQgZGVwbG95ZXJXYWxsZXQgPSBhY2NvdW50cy5nZXQoXCJkZXBsb3llclwiKSBhcyBBY2NvdW50O1xuICAgIGxldCB3YWxsZXRfMSA9IGFjY291bnRzLmdldChcIndhbGxldF8xXCIpIGFzIEFjY291bnQ7IC8vIExQXzFcbiAgICBsZXQgd2FsbGV0XzcgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfN1wiKSBhcyBBY2NvdW50OyAvLyBEZWxlZ2F0ZV8xXG4gICAgbGV0IHdhbGxldF84ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzhcIikgYXMgQWNjb3VudDsgLy8gYm9ycm93ZXJfMVxuXG4gICAgbGV0IGFzc2V0TWFwcyA9IGNoYWluLmdldEFzc2V0c01hcHMoKTtcbiAgICBsZXQgcG9vbCA9IG5ldyBQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuXG4gICAgbGV0IGdsb2JhbHMgPSBHbG9iYWxzLmdldEdsb2JhbHMoY2hhaW4sIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLmV4cGVjdFR1cGxlKCk7XG4gICAgbGV0IGNvb2xkb3duVGltZSA9IGNvbnN1bWVVaW50KGdsb2JhbHNbXCJscC1jb29sZG93bi1wZXJpb2RcIl0pO1xuICAgIGxldCB1bnN0YWtlV2luZG93ID0gY29uc3VtZVVpbnQoZ2xvYmFsc1tcImxwLXVuc3Rha2Utd2luZG93XCJdKTtcblxuICAgIGxldCBibG9jayA9IEdsb2JhbHMub25ib2FyZFVzZXJBZGRyZXNzKGNoYWluLCB3YWxsZXRfOC5hZGRyZXNzLCBQMlBLSF9WRVJTSU9OLCBIQVNILCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcblxuICAgIHBvb2wuY3JlYXRlUG9vbCh3YWxsZXRfNy5hZGRyZXNzLExQX1RPS0VOLFpQX1RPS0VOLFBBWU1FTlQsUkVXQVJEU19DQUxDLDEwMDAsMTAwMCwxMF8wMDBfMDAwXzAwMCwxMF8wMDBfMDAwXzAwMCwxLE1BWF9NQVRVUklUWV9MRU5HVEgsTElRVUlESVRZX1ZBVUxULENQX1RPS0VOLENPVkVSX1ZBVUxULENQX1JFV0FSRFNfVE9LRU4sWEJUQyx0cnVlKTtcbiAgICBwb29sLmZpbmFsaXplUG9vbCh3YWxsZXRfNy5hZGRyZXNzLCBMUF9UT0tFTiwgWlBfVE9LRU4sIENQX1RPS0VOLCAwKTtcblxuICAgIGxldCBzdXBwbGllcklkID0gY29uc3VtZVVpbnQoY2hhaW4ubWluZUJsb2NrKFsuLi5yZWdpc3RlclN1cHBsaWVyVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHJlY2lwaWVudCwgMTAsIDEwLCA1MDAsIDUwMCwgXCJzdXBwbGllci0xXCIsIDEwXzAwMF8wMDBfMDAwKV0pLnJlY2VpcHRzWzFdLnJlc3VsdC5leHBlY3RPaygpIGFzIHN0cmluZyk7XG4gICAgbGV0IGZlZSA9IE51bWJlcihNYWdpYy5nZXRTdXBwbGllcihjaGFpbiwgc3VwcGxpZXJJZCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykuZXhwZWN0U29tZSgpLmV4cGVjdFR1cGxlKClbXCJpbmJvdW5kLWZlZVwiXS5leHBlY3RTb21lKCkpO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIod2FsbGV0XzEuYWRkcmVzcyksXG4gICAgICAuLi5zZW5kRnVuZHNQMlNIVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsMCx3YWxsZXRfMS5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDAsMTAwXzAwMF8wMDAscHJlaW1hZ2Usc3VwcGxpZXJJZCwgMTAwXzAwMF8wMDAgKiBmZWUgLyAxMF8wMDAsMSxjaGFpbi5ibG9ja0hlaWdodCAtIDEpXG4gICAgXSk7XG5cbiAgICBwb29sLmNyZWF0ZUxvYW4oTFBfVE9LRU4sMCwxMDBfMDAwXzAwMCxYQlRDLDAsWEJUQywzMDAsMTI5NjAsMTQ0MCxDT0xMX1ZBVUxULEZVTkRJTkdfVkFVTFQsd2FsbGV0XzguYWRkcmVzcyk7XG4gICAgYmxvY2sgPSBwb29sLmZ1bmRMb2FuKDAsTFBfVE9LRU4sMCxMSVFVSURJVFlfVkFVTFQsRlVORElOR19WQVVMVCxYQlRDLHdhbGxldF83LmFkZHJlc3MpO1xuXG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS51cGRhdGVMaXF1aWRpdHkoY2hhaW4uYmxvY2tIZWlnaHQsIDEwMF8wMDBfMDAwLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pO1xuICAgIFxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIFN1cHBsaWVySW50ZXJmYWNlLmRyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBTV0FQX1JPVVRFUixYQlRDLCB3YWxsZXRfOC5hZGRyZXNzKVxuICAgIF0pO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soWy4uLmZpbmFsaXplRHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFhCVEMsIEhBU0gsIDk5NzAwMDAwLCAwLCAyOCwgd2FsbGV0XzguYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcblxuICAgIC8vIGNoYWluLm1pbmVFbXB0eUJsb2NrKDEwKTtcblxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrVW50aWwoY29uc3VtZVVpbnQobG9hbi5nZXRMb2FuRGF0YSgwKS5yZXN1bHQuZXhwZWN0VHVwbGUoKVtcIm5leHQtcGF5bWVudFwiXSkgLSAxKTtcbiAgICAvLyBjb25zb2xlLmxvZyhjb25zdW1lVWludChsb2FuLmdldExvYW5EYXRhKDApLnJlc3VsdC5leHBlY3RUdXBsZSgpW1wibmV4dC1wYXltZW50XCJdKSk7XG5cbiAgICAvLyBjaGFpbi5taW5lRW1wdHlCbG9jaygxMzAwKTtcblxuICAgIGxldCBwcmV2ID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdW1wiU1QxUFFIUUtWMFJKWFpGWTFER1g4TU5TTllWRTNWR1pKU1JUUEdaR00ubGlxdWlkaXR5LXZhdWx0LXYxLTBcIl07XG5cbiAgICBsZXQgcmVndWxhclBheW1lbnREdWUgPSAoY29uc3VtZVVpbnQoUGF5bWVudC5nZXRDdXJyZW50TG9hblBheW1lbnQoY2hhaW4sIDAsIHdhbGxldF84LmFkZHJlc3MpKSk7XG4gICAgLy8gY29uc29sZS5sb2cocmVndWxhclBheW1lbnREdWUpO1xuICAgIGxldCBkZWxlZ2F0ZUZlZSA9IE1hdGguZmxvb3IoY29uc3VtZVVpbnQocG9vbC5nZXRQb29sKDApW1wiZGVsZWdhdGUtZmVlXCJdKSAvIDEwMDAwICogcmVndWxhclBheW1lbnREdWUpO1xuICAgIGxldCBtaW5QYXltZW50VG9SZWNlaXZlID0gIE1hdGguZmxvb3IocmVndWxhclBheW1lbnREdWUgKiBmZWUgLyAxMF8wMDApO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIod2FsbGV0XzguYWRkcmVzcyksXG4gICAgICAuLi5tYWtlUGF5bWVudFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCB3YWxsZXRfOC5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDEscmVndWxhclBheW1lbnREdWUsXCIwMFwiLDAsbWluUGF5bWVudFRvUmVjZWl2ZSwwLCBQQVlNRU5ULCBMUF9UT0tFTixMSVFVSURJVFlfVkFVTFQsIDAsIENQX1RPS0VOLCBDUF9SRVdBUkRTX1RPS0VOLCBaUF9UT0tFTiwgU1dBUF9ST1VURVIsY2hhaW4uYmxvY2tIZWlnaHQgLSAxLCBYQlRDKVxuICAgIF0pO1xuICAgIC8vIGNvbnNvbGUubG9nKGJsb2NrKTtcblxuICAgIGFzc2VydEVxdWFscyhjaGFpbi5nZXRBc3NldHNNYXBzKCkuYXNzZXRzW1wiLldyYXBwZWQtQml0Y29pbi53cmFwcGVkLWJpdGNvaW5cIl1bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5saXF1aWRpdHktdmF1bHQtdjEtMFwiXSAtIHByZXYsIHJlZ3VsYXJQYXltZW50RHVlIC0gZGVsZWdhdGVGZWUpO1xuICAgIFxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKDE0NDApO1xuXG4gICAgcHJldiA9IGNoYWluLmdldEFzc2V0c01hcHMoKS5hc3NldHNbXCIuV3JhcHBlZC1CaXRjb2luLndyYXBwZWQtYml0Y29pblwiXVtcIlNUMVBRSFFLVjBSSlhaRlkxREdYOE1OU05ZVkUzVkdaSlNSVFBHWkdNLmxpcXVpZGl0eS12YXVsdC12MS0wXCJdO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgLi4ubWFrZVBheW1lbnRUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgd2FsbGV0XzguYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwxLHJlZ3VsYXJQYXltZW50RHVlLFwiMDFcIixzdXBwbGllcklkLG1pblBheW1lbnRUb1JlY2VpdmUsMCwgUEFZTUVOVCwgTFBfVE9LRU4sTElRVUlESVRZX1ZBVUxULCAwLCBDUF9UT0tFTiwgQ1BfUkVXQVJEU19UT0tFTiwgWlBfVE9LRU4sIFNXQVBfUk9VVEVSLGNoYWluLmJsb2NrSGVpZ2h0IC0gMSwgWEJUQylcbiAgICBdKTtcbiAgICBhc3NlcnRFcXVhbHMoY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdW1wiU1QxUFFIUUtWMFJKWFpGWTFER1g4TU5TTllWRTNWR1pKU1JUUEdaR00ubGlxdWlkaXR5LXZhdWx0LXYxLTBcIl0gLSBwcmV2LCByZWd1bGFyUGF5bWVudER1ZSAtIGRlbGVnYXRlRmVlKTtcbiAgfSxcbn0pO1xuXG5DbGFyaW5ldC50ZXN0KHtcbiAgbmFtZTogXCJCb3Jyb3dlciBjYW4gbWFrZSBsYXRlIHBheW1lbnRzXCIsXG4gIGFzeW5jIGZuKGNoYWluOiBDaGFpbiwgYWNjb3VudHM6IE1hcDxzdHJpbmcsIEFjY291bnQ+KSB7XG4gICAgbGV0IGRlcGxveWVyV2FsbGV0ID0gYWNjb3VudHMuZ2V0KFwiZGVwbG95ZXJcIikgYXMgQWNjb3VudDtcbiAgICBsZXQgd2FsbGV0XzEgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfMVwiKSBhcyBBY2NvdW50OyAvLyBMUF8xXG4gICAgbGV0IHdhbGxldF83ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzdcIikgYXMgQWNjb3VudDsgLy8gRGVsZWdhdGVfMVxuICAgIGxldCB3YWxsZXRfOCA9IGFjY291bnRzLmdldChcIndhbGxldF84XCIpIGFzIEFjY291bnQ7IC8vIGJvcnJvd2VyXzFcblxuICAgIGxldCBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4gICAgbGV0IHBvb2wgPSBuZXcgUG9vbChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBsb2FuID0gbmV3IExvYW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcblxuICAgIC8vIGxldCBibG9jayA9IHJ1bkJvb3RzdHJhcChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBibG9jayA9IEdsb2JhbHMub25ib2FyZFVzZXJBZGRyZXNzKGNoYWluLCB3YWxsZXRfOC5hZGRyZXNzLCBQMlBLSF9WRVJTSU9OLCBIQVNILCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcbiAgICAvLyBsb2FuLmFkZEJvcnJvd2VyKHdhbGxldF84LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuXG4gICAgcG9vbC5jcmVhdGVQb29sKHdhbGxldF83LmFkZHJlc3MsTFBfVE9LRU4sWlBfVE9LRU4sUEFZTUVOVCxSRVdBUkRTX0NBTEMsMTAwMCwxMDAwLDEwXzAwMF8wMDBfMDAwLDEwXzAwMF8wMDBfMDAwLDEsTUFYX01BVFVSSVRZX0xFTkdUSCxMSVFVSURJVFlfVkFVTFQsQ1BfVE9LRU4sQ09WRVJfVkFVTFQsQ1BfUkVXQVJEU19UT0tFTixYQlRDLHRydWUpO1xuICAgIHBvb2wuZmluYWxpemVQb29sKHdhbGxldF83LmFkZHJlc3MsIExQX1RPS0VOLCBaUF9UT0tFTiwgQ1BfVE9LRU4sIDApO1xuICAgIFxuICAgIGxldCBzdXBwbGllcklkID0gY29uc3VtZVVpbnQoY2hhaW4ubWluZUJsb2NrKFsuLi5yZWdpc3RlclN1cHBsaWVyVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHJlY2lwaWVudCwgMTAsIDEwLCA1MDAsIDUwMCwgXCJzdXBwbGllci0xXCIsIDEwXzAwMF8wMDBfMDAwKV0pLnJlY2VpcHRzWzFdLnJlc3VsdC5leHBlY3RPaygpIGFzIHN0cmluZyk7XG4gICAgbGV0IGZlZSA9IE51bWJlcihNYWdpYy5nZXRTdXBwbGllcihjaGFpbiwgc3VwcGxpZXJJZCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykuZXhwZWN0U29tZSgpLmV4cGVjdFR1cGxlKClbXCJpbmJvdW5kLWZlZVwiXS5leHBlY3RTb21lKCkpO1xuXG4gICAgY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF8xLmFkZHJlc3MpLFxuICAgICAgLi4uc2VuZEZ1bmRzUDJTSFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCAwLCB3YWxsZXRfMS5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDAsMTAwXzAwMF8wMDAscHJlaW1hZ2Usc3VwcGxpZXJJZCwxMDBfMDAwXzAwMCAqIGZlZSAvIDEwXzAwMCwxLGNoYWluLmJsb2NrSGVpZ2h0IC0gMSlcbiAgICBdKTtcblxuICAgIHBvb2wuY3JlYXRlTG9hbihMUF9UT0tFTiwwLDEwMF8wMDBfMDAwLFhCVEMsMCxYQlRDLDMwMCwxMjk2MCwxNDQwLENPTExfVkFVTFQsRlVORElOR19WQVVMVCx3YWxsZXRfOC5hZGRyZXNzKTtcbiAgICBwb29sLmZ1bmRMb2FuKDAsTFBfVE9LRU4sMCxMSVFVSURJVFlfVkFVTFQsRlVORElOR19WQVVMVCxYQlRDLHdhbGxldF83LmFkZHJlc3MpO1xuICAgIGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UudXBkYXRlTGlxdWlkaXR5KGNoYWluLmJsb2NrSGVpZ2h0LCAxMDBfMDAwXzAwMCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcbiAgICBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLmRyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBTV0FQX1JPVVRFUixYQlRDLCB3YWxsZXRfOC5hZGRyZXNzKV0pO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soWy4uLmZpbmFsaXplRHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFhCVEMsIEhBU0gsIDk5NzAwMDAwLCAwLCAyOCwgd2FsbGV0XzguYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtQYXltZW50LnRyaWdnZXJMYXRlUGF5bWVudCgwLCAwLCB3YWxsZXRfNy5hZGRyZXNzKV0pO1xuICAgIFBheW1lbnQuaXNQYXlpbmdMYXRlRmVlcyhjaGFpbiwgd2FsbGV0XzguYWRkcmVzcykucmVzdWx0LmV4cGVjdEJvb2wodHJ1ZSk7XG5cbiAgICBjaGFpbi5taW5lRW1wdHlCbG9jaygxNDQyKTtcblxuICAgIGxldCByZWd1bGFyUGF5bWVudER1ZSA9IChjb25zdW1lVWludChQYXltZW50LmdldEN1cnJlbnRMb2FuUGF5bWVudChjaGFpbiwgMCwgd2FsbGV0XzguYWRkcmVzcykpKTtcbiAgICBsZXQgZGVsZWdhdGVGZWUgPSBNYXRoLmZsb29yKGNvbnN1bWVVaW50KHBvb2wuZ2V0UG9vbCgwKVtcImRlbGVnYXRlLWZlZVwiXSkgLyAxMDAwMCAqIHJlZ3VsYXJQYXltZW50RHVlKTtcbiAgICBsZXQgbWluUGF5bWVudFRvUmVjZWl2ZSA9ICBNYXRoLmZsb29yKHJlZ3VsYXJQYXltZW50RHVlICogZmVlIC8gMTBfMDAwKTtcbiAgICBcbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfOC5hZGRyZXNzKSxcbiAgICAgIC4uLm1ha2VQYXltZW50VHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHdhbGxldF84LmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMSxyZWd1bGFyUGF5bWVudER1ZSxcIjAwXCIsc3VwcGxpZXJJZCxtaW5QYXltZW50VG9SZWNlaXZlLDAsIFBBWU1FTlQsIExQX1RPS0VOLExJUVVJRElUWV9WQVVMVCwwLCBDUF9UT0tFTiwgQ1BfUkVXQVJEU19UT0tFTiwgWlBfVE9LRU4sIFNXQVBfUk9VVEVSLGNoYWluLmJsb2NrSGVpZ2h0IC0gMiwgWEJUQylcbiAgICBdKTtcbiAgICBhc3NlcnRFcXVhbHMoY29uc3VtZVVpbnQoYmxvY2sucmVjZWlwdHNbM10ucmVzdWx0LmV4cGVjdE9rKCkuZXhwZWN0VHVwbGUoKVtcInJld2FyZFwiXSksIHJlZ3VsYXJQYXltZW50RHVlKTtcbiAgfSxcbn0pO1xuXG5DbGFyaW5ldC50ZXN0KHtcbiAgbmFtZTogXCJCb3Jyb3dlciBjYW4gbWFrZSBsYXRlIHBheW1lbnRzLCBuZXh0IHBheW1lbnQgaXMgYmFjayB0byByZWd1bGFyIGFtb3VudFwiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfNyA9IGFjY291bnRzLmdldChcIndhbGxldF83XCIpIGFzIEFjY291bnQ7IC8vIERlbGVnYXRlXzFcbiAgICBsZXQgd2FsbGV0XzggPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfOFwiKSBhcyBBY2NvdW50OyAvLyBib3Jyb3dlcl8xXG5cbiAgICBsZXQgYXNzZXRNYXBzID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpO1xuICAgIGxldCBwb29sID0gbmV3IFBvb2woY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBsZXQgbG9hbiA9IG5ldyBMb2FuKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG5cbiAgICBsZXQgYmxvY2sgPSBHbG9iYWxzLm9uYm9hcmRVc2VyQWRkcmVzcyhjaGFpbiwgd2FsbGV0XzguYWRkcmVzcywgUDJQS0hfVkVSU0lPTiwgSEFTSCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG4gICAgbGV0IERBWSA9IGNvbnN1bWVVaW50KEdsb2JhbHMuZ2V0RGF5TGVuZ3RoRGVmYXVsdChjaGFpbiwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykpO1xuXG4gICAgcG9vbC5jcmVhdGVQb29sKHdhbGxldF83LmFkZHJlc3MsTFBfVE9LRU4sWlBfVE9LRU4sUEFZTUVOVCxSRVdBUkRTX0NBTEMsMTAwMCwxMDAwLDEwXzAwMF8wMDBfMDAwLDEwXzAwMF8wMDBfMDAwLDEsTUFYX01BVFVSSVRZX0xFTkdUSCxMSVFVSURJVFlfVkFVTFQsQ1BfVE9LRU4sQ09WRVJfVkFVTFQsQ1BfUkVXQVJEU19UT0tFTixYQlRDLHRydWUpO1xuICAgIHBvb2wuZmluYWxpemVQb29sKHdhbGxldF83LmFkZHJlc3MsIExQX1RPS0VOLCBaUF9UT0tFTiwgQ1BfVE9LRU4sIDApO1xuICAgIFxuICAgIGxldCBzdXBwbGllcklkID0gY29uc3VtZVVpbnQoY2hhaW4ubWluZUJsb2NrKFsuLi5yZWdpc3RlclN1cHBsaWVyVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHJlY2lwaWVudCwgMTAsIDEwLCA1MDAsIDUwMCwgXCJzdXBwbGllci0xXCIsIDEwXzAwMF8wMDBfMDAwKV0pLnJlY2VpcHRzWzFdLnJlc3VsdC5leHBlY3RPaygpIGFzIHN0cmluZyk7XG4gICAgbGV0IGZlZSA9IE51bWJlcihNYWdpYy5nZXRTdXBwbGllcihjaGFpbiwgc3VwcGxpZXJJZCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykuZXhwZWN0U29tZSgpLmV4cGVjdFR1cGxlKClbXCJpbmJvdW5kLWZlZVwiXS5leHBlY3RTb21lKCkpO1xuXG4gICAgY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF8xLmFkZHJlc3MpLFxuICAgICAgLi4uc2VuZEZ1bmRzUDJTSFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCAwLCB3YWxsZXRfMS5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDAsMTAwXzAwMF8wMDAscHJlaW1hZ2Usc3VwcGxpZXJJZCwxMDBfMDAwXzAwMCAqIGZlZSAvIDEwXzAwMCwxLGNoYWluLmJsb2NrSGVpZ2h0IC0gMSlcbiAgICBdKTtcblxuICAgIHBvb2wuY3JlYXRlTG9hbihMUF9UT0tFTiwwLDEwMF8wMDBfMDAwLFhCVEMsMCxYQlRDLDMwMCxEQVkgKiAxMCAqIDksREFZICogMTAsQ09MTF9WQVVMVCxGVU5ESU5HX1ZBVUxULHdhbGxldF84LmFkZHJlc3MpO1xuICAgIHBvb2wuZnVuZExvYW4oMCxMUF9UT0tFTiwwLExJUVVJRElUWV9WQVVMVCxGVU5ESU5HX1ZBVUxULFhCVEMsd2FsbGV0XzcuYWRkcmVzcyk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS51cGRhdGVMaXF1aWRpdHkoY2hhaW4uYmxvY2tIZWlnaHQsIDEwMF8wMDBfMDAwLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pO1xuICAgIGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UuZHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIDAsIFNXQVBfUk9VVEVSLFhCVEMsIHdhbGxldF84LmFkZHJlc3MpXSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbLi4uZmluYWxpemVEcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgWEJUQywgSEFTSCwgOTk3MDAwMDAsIDAsIDI4LCB3YWxsZXRfOC5hZGRyZXNzLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1BheW1lbnQudHJpZ2dlckxhdGVQYXltZW50KDAsIDAsIHdhbGxldF83LmFkZHJlc3MpXSk7XG5cbiAgICBsZXQgcmVndWxhclBheW1lbnREdWUgPSAoY29uc3VtZVVpbnQoUGF5bWVudC5nZXRDdXJyZW50TG9hblBheW1lbnQoY2hhaW4sIDAsIHdhbGxldF84LmFkZHJlc3MpKSk7XG4gICAgbGV0IGRlbGVnYXRlRmVlID0gTWF0aC5mbG9vcihjb25zdW1lVWludChwb29sLmdldFBvb2woMClbXCJkZWxlZ2F0ZS1mZWVcIl0pIC8gMTAwMDAgKiByZWd1bGFyUGF5bWVudER1ZSk7XG4gICAgbGV0IG1pblBheW1lbnRUb1JlY2VpdmUgPSAgTWF0aC5mbG9vcihyZWd1bGFyUGF5bWVudER1ZSAqIGZlZSAvIDEwXzAwMCk7XG5cbiAgICBjaGFpbi5taW5lRW1wdHlCbG9ja1VudGlsKGNvbnN1bWVVaW50KGxvYW4uZ2V0TG9hbkRhdGEoMCkucmVzdWx0LmV4cGVjdFR1cGxlKClbXCJuZXh0LXBheW1lbnRcIl0pIC0gMSk7XG4gICAgXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIod2FsbGV0XzguYWRkcmVzcyksXG4gICAgICAuLi5tYWtlUGF5bWVudFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCB3YWxsZXRfOC5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDEscmVndWxhclBheW1lbnREdWUsXCIwMFwiLHN1cHBsaWVySWQsbWluUGF5bWVudFRvUmVjZWl2ZSwwLCBQQVlNRU5ULCBMUF9UT0tFTixMSVFVSURJVFlfVkFVTFQsMCwgQ1BfVE9LRU4sIENQX1JFV0FSRFNfVE9LRU4sIFpQX1RPS0VOLCBTV0FQX1JPVVRFUixjaGFpbi5ibG9ja0hlaWdodCAtIDIsIFhCVEMpXG4gICAgXSk7XG5cbiAgICBQYXltZW50LmlzUGF5aW5nTGF0ZUZlZXMoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MpLnJlc3VsdC5leHBlY3RCb29sKGZhbHNlKTtcblxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrVW50aWwoY29uc3VtZVVpbnQobG9hbi5nZXRMb2FuRGF0YSgwKS5yZXN1bHQuZXhwZWN0VHVwbGUoKVtcIm5leHQtcGF5bWVudFwiXSkgLSAxKTtcbiAgICByZWd1bGFyUGF5bWVudER1ZSA9IChjb25zdW1lVWludChQYXltZW50LmdldEN1cnJlbnRMb2FuUGF5bWVudChjaGFpbiwgMCwgd2FsbGV0XzguYWRkcmVzcykpKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIC4uLm1ha2VQYXltZW50VHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHdhbGxldF84LmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMSxyZWd1bGFyUGF5bWVudER1ZSxcIjAxXCIsc3VwcGxpZXJJZCxtaW5QYXltZW50VG9SZWNlaXZlLDAsIFBBWU1FTlQsIExQX1RPS0VOLExJUVVJRElUWV9WQVVMVCwwLCBDUF9UT0tFTiwgQ1BfUkVXQVJEU19UT0tFTiwgWlBfVE9LRU4sIFNXQVBfUk9VVEVSLGNoYWluLmJsb2NrSGVpZ2h0IC0gMiwgWEJUQylcbiAgICBdKTtcbiAgICBcbiAgICBhc3NlcnRFcXVhbHMoY29uc3VtZVVpbnQoYmxvY2sucmVjZWlwdHNbMl0ucmVzdWx0LmV4cGVjdE9rKCkuZXhwZWN0VHVwbGUoKVtcInJld2FyZFwiXSksIHJlZ3VsYXJQYXltZW50RHVlKTtcbiAgfSxcbn0pO1xuXG5DbGFyaW5ldC50ZXN0KHtcbiAgbmFtZTogXCJPbmx5IFBvb2wgZGVsZWdhdGUgY2FuIHRyaWdnZXIgYSBsYXRlIGZlZVwiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfNyA9IGFjY291bnRzLmdldChcIndhbGxldF83XCIpIGFzIEFjY291bnQ7IC8vIERlbGVnYXRlXzFcbiAgICBsZXQgd2FsbGV0XzggPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfOFwiKSBhcyBBY2NvdW50OyAvLyBib3Jyb3dlcl8xXG4gICAgbGV0IHdhbGxldF85ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzlcIikgYXMgQWNjb3VudDsgLy8gcmFuZG9tX3dhbGxldFxuXG4gICAgbGV0IGFzc2V0TWFwcyA9IGNoYWluLmdldEFzc2V0c01hcHMoKTtcbiAgICBsZXQgcG9vbCA9IG5ldyBQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuXG4gICAgLy8gbGV0IGJsb2NrID0gcnVuQm9vdHN0cmFwKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGJsb2NrID0gR2xvYmFscy5vbmJvYXJkVXNlckFkZHJlc3MoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuICAgIC8vIGxvYW4uYWRkQm9ycm93ZXIod2FsbGV0XzguYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4gICAgXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgLi4ucmVnaXN0ZXJTdXBwbGllclR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCBkZXBsb3llcldhbGxldC5hZGRyZXNzLCByZWNpcGllbnQsIDEwLCAxMCwgNTAwLCA1MDAsIFwic3VwcGxpZXItMVwiLCAxMF8wMDBfMDAwXzAwMCksXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgMCwgd2FsbGV0XzEuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwwLDEwMF8wMDBfMDAwLHByZWltYWdlLHN1cHBsaWVySWQsMTAwXzAwMF8wMDAgKiBmZWUgLyAxMF8wMDAsMSxjaGFpbi5ibG9ja0hlaWdodCAtIDEpXG4gICAgXSk7XG5cbiAgICBwb29sLmNyZWF0ZUxvYW4oTFBfVE9LRU4sMCwxMDBfMDAwXzAwMCxYQlRDLDAsWEJUQywzMDAsMTI5NjAsMTQ0MCxDT0xMX1ZBVUxULEZVTkRJTkdfVkFVTFQsd2FsbGV0XzguYWRkcmVzcyk7XG4gICAgcG9vbC5mdW5kTG9hbigwLExQX1RPS0VOLDAsTElRVUlESVRZX1ZBVUxULEZVTkRJTkdfVkFVTFQsWEJUQyx3YWxsZXRfNy5hZGRyZXNzKTtcbiAgICBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLnVwZGF0ZUxpcXVpZGl0eShjaGFpbi5ibG9ja0hlaWdodCwgMTAwXzAwMF8wMDAsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS5kcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgU1dBUF9ST1VURVIsWEJUQywgd2FsbGV0XzguYWRkcmVzcyldKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFsuLi5maW5hbGl6ZURyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBYQlRDLCBIQVNILCA5OTAwMDAwMCwgMCwgMjgsIHdhbGxldF84LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG5cbiAgICBjaGFpbi5taW5lQmxvY2soW1BheW1lbnQudHJpZ2dlckxhdGVQYXltZW50KDAsIDAsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG4gICAgUGF5bWVudC5pc1BheWluZ0xhdGVGZWVzKGNoYWluLCB3YWxsZXRfOC5hZGRyZXNzKS5yZXN1bHQuZXhwZWN0Qm9vbChmYWxzZSk7XG4gICAgUGF5bWVudC5pc1BheWluZ0xhdGVGZWVzKGNoYWluLCB3YWxsZXRfOS5hZGRyZXNzKS5yZXN1bHQuZXhwZWN0Qm9vbChmYWxzZSk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtQYXltZW50LnRyaWdnZXJMYXRlUGF5bWVudCgwLCAwLCB3YWxsZXRfMS5hZGRyZXNzKV0pO1xuICAgIFBheW1lbnQuaXNQYXlpbmdMYXRlRmVlcyhjaGFpbiwgd2FsbGV0XzguYWRkcmVzcykucmVzdWx0LmV4cGVjdEJvb2woZmFsc2UpO1xuICAgIFBheW1lbnQuaXNQYXlpbmdMYXRlRmVlcyhjaGFpbiwgd2FsbGV0XzkuYWRkcmVzcykucmVzdWx0LmV4cGVjdEJvb2woZmFsc2UpO1xuICAgIGNoYWluLm1pbmVCbG9jayhbUGF5bWVudC50cmlnZ2VyTGF0ZVBheW1lbnQoMCwgMCwgd2FsbGV0XzguYWRkcmVzcyldKTtcbiAgICBQYXltZW50LmlzUGF5aW5nTGF0ZUZlZXMoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MpLnJlc3VsdC5leHBlY3RCb29sKGZhbHNlKTtcbiAgICBQYXltZW50LmlzUGF5aW5nTGF0ZUZlZXMoY2hhaW4sIHdhbGxldF85LmFkZHJlc3MpLnJlc3VsdC5leHBlY3RCb29sKGZhbHNlKTtcbiAgfSxcbn0pO1xuXG5DbGFyaW5ldC50ZXN0KHtcbiAgbmFtZTogXCJCb3Jyb3dlciBjYW4gbWFrZSBsYXRlIHBheW1lbnQgZXZlbiBhZnRlciBncmFjZSBwZXJpb2QgZXhwaXJlZFwiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfNyA9IGFjY291bnRzLmdldChcIndhbGxldF83XCIpIGFzIEFjY291bnQ7IC8vIERlbGVnYXRlXzFcbiAgICBsZXQgd2FsbGV0XzggPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfOFwiKSBhcyBBY2NvdW50OyAvLyBib3Jyb3dlcl8xXG5cbiAgICBsZXQgYXNzZXRNYXBzID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpO1xuICAgIGxldCBwb29sID0gbmV3IFBvb2woY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBsZXQgbG9hbiA9IG5ldyBMb2FuKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG5cbiAgICBsZXQgYmxvY2sgPSBHbG9iYWxzLm9uYm9hcmRVc2VyQWRkcmVzcyhjaGFpbiwgd2FsbGV0XzguYWRkcmVzcywgUDJQS0hfVkVSU0lPTiwgSEFTSCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4gICAgXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIod2FsbGV0XzEuYWRkcmVzcyksXG4gICAgICAuLi5zZW5kRnVuZHNQMlNIVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsMCx3YWxsZXRfMS5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDAsMTAwXzAwMF8wMDAscHJlaW1hZ2Usc3VwcGxpZXJJZCwxMDBfMDAwXzAwMCAqIGZlZSAvIDEwXzAwMCwxLGNoYWluLmJsb2NrSGVpZ2h0IC0gMSlcbiAgICBdKTtcblxuICAgIHBvb2wuY3JlYXRlTG9hbihMUF9UT0tFTiwwLDEwMF8wMDBfMDAwLFhCVEMsMCxYQlRDLDMwMCwxMjk2MCwxNDQwLENPTExfVkFVTFQsRlVORElOR19WQVVMVCx3YWxsZXRfOC5hZGRyZXNzKTtcbiAgICBwb29sLmZ1bmRMb2FuKDAsTFBfVE9LRU4sMCxMSVFVSURJVFlfVkFVTFQsRlVORElOR19WQVVMVCxYQlRDLHdhbGxldF83LmFkZHJlc3MpO1xuICAgIGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UudXBkYXRlTGlxdWlkaXR5KGNoYWluLmJsb2NrSGVpZ2h0LCAxMDBfMDAwXzAwMCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcbiAgICBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLmRyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBTV0FQX1JPVVRFUixYQlRDLCB3YWxsZXRfOC5hZGRyZXNzKV0pO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soWy4uLmZpbmFsaXplRHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFhCVEMsIEhBU0gsIDk5NzAwMDAwLCAwLCAyOCwgd2FsbGV0XzguYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcblxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKDEwKTtcblxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKDE0NDApO1xuXG4gICAgbGV0IGdsb2JhbHMgPSBHbG9iYWxzLmdldEdsb2JhbHMoY2hhaW4sIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLmV4cGVjdFR1cGxlKCk7XG4gICAgbGV0IHJlZ3VsYXJQYXltZW50RHVlID0gKGNvbnN1bWVVaW50KFBheW1lbnQuZ2V0Q3VycmVudExvYW5QYXltZW50KGNoYWluLCAwLCB3YWxsZXRfOC5hZGRyZXNzKSkpO1xuICAgIGxldCBtaW5QYXltZW50VG9SZWNlaXZlID0gIE1hdGguZmxvb3IocmVndWxhclBheW1lbnREdWUgKiBmZWUgLyAxMF8wMDApO1xuICAgIFxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF84LmFkZHJlc3MpLFxuICAgICAgLi4ubWFrZVBheW1lbnRUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgd2FsbGV0XzguYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwxLHJlZ3VsYXJQYXltZW50RHVlLFwiMDBcIixzdXBwbGllcklkLG1pblBheW1lbnRUb1JlY2VpdmUsMCwgUEFZTUVOVCwgTFBfVE9LRU4sTElRVUlESVRZX1ZBVUxULDAsIENQX1RPS0VOLCBDUF9SRVdBUkRTX1RPS0VOLCBaUF9UT0tFTiwgU1dBUF9ST1VURVIsYmxvY2suaGVpZ2h0ICsgMTQ0MCwgWEJUQylcbiAgICBdKTtcblxuICAgIGxldCBncmFjZVBlcmlvZCA9IGNvbnN1bWVVaW50KGdsb2JhbHNbXCJncmFjZS1wZXJpb2RcIl0pO1xuXG4gICAgY2hhaW4ubWluZUVtcHR5QmxvY2soZ3JhY2VQZXJpb2QgKyAxNDQwKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIC4uLm1ha2VQYXltZW50VHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHdhbGxldF84LmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMSxyZWd1bGFyUGF5bWVudER1ZSxcIjAxXCIsc3VwcGxpZXJJZCxtaW5QYXltZW50VG9SZWNlaXZlLDAsIFBBWU1FTlQsIExQX1RPS0VOLExJUVVJRElUWV9WQVVMVCwwLCBDUF9UT0tFTiwgQ1BfUkVXQVJEU19UT0tFTiwgWlBfVE9LRU4sIFNXQVBfUk9VVEVSLGJsb2NrLmhlaWdodCArIDE0NDAgKyBncmFjZVBlcmlvZCwgWEJUQylcbiAgICBdKTtcblxuICAgIGJsb2NrLnJlY2VpcHRzWzJdLnJlc3VsdC5leHBlY3RPaygpO1xuICB9LFxufSk7XG5cbkNsYXJpbmV0LnRlc3Qoe1xuICBuYW1lOiBcIkJvcnJvd2VyIGNhbiBtYWtlIGEgZnVsbCBwYXltZW50IHdpdGggYSBwcmVtaXVtXCIsXG4gIGFzeW5jIGZuKGNoYWluOiBDaGFpbiwgYWNjb3VudHM6IE1hcDxzdHJpbmcsIEFjY291bnQ+KSB7XG4gICAgbGV0IGRlcGxveWVyV2FsbGV0ID0gYWNjb3VudHMuZ2V0KFwiZGVwbG95ZXJcIikgYXMgQWNjb3VudDtcbiAgICBsZXQgd2FsbGV0XzEgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfMVwiKSBhcyBBY2NvdW50OyAvLyBMUF8xXG4gICAgbGV0IHdhbGxldF83ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzdcIikgYXMgQWNjb3VudDsgLy8gRGVsZWdhdGVfMVxuICAgIGxldCB3YWxsZXRfOCA9IGFjY291bnRzLmdldChcIndhbGxldF84XCIpIGFzIEFjY291bnQ7IC8vIGJvcnJvd2VyXzFcblxuICAgIGxldCBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4gICAgbGV0IHBvb2wgPSBuZXcgUG9vbChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBsb2FuID0gbmV3IExvYW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBsZXQgbHYgID0gbmV3IExpcXVpZGl0eVZhdWx0KGNoYWluLCBMSVFVSURJVFlfVkFVTFQsIGRlcGxveWVyV2FsbGV0KTtcblxuICAgIGxldCBibG9jayA9IEdsb2JhbHMub25ib2FyZFVzZXJBZGRyZXNzKGNoYWluLCB3YWxsZXRfOC5hZGRyZXNzLCBQMlBLSF9WRVJTSU9OLCBIQVNILCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcbiAgICBsZXQgREFZID0gY29uc3VtZVVpbnQoR2xvYmFscy5nZXREYXlMZW5ndGhEZWZhdWx0KGNoYWluLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKSk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG5cbiAgICBsZXQgc3VwcGxpZXJJZCA9IGNvbnN1bWVVaW50KGNoYWluLm1pbmVCbG9jayhbLi4ucmVnaXN0ZXJTdXBwbGllclR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCBkZXBsb3llcldhbGxldC5hZGRyZXNzLCByZWNpcGllbnQsIDEwLCAxMCwgNTAwLCA1MDAsIFwic3VwcGxpZXItMVwiLCAxMF8wMDBfMDAwXzAwMCldKS5yZWNlaXB0c1sxXS5yZXN1bHQuZXhwZWN0T2soKSBhcyBzdHJpbmcpO1xuICAgIGxldCBmZWUgPSBOdW1iZXIoTWFnaWMuZ2V0U3VwcGxpZXIoY2hhaW4sIHN1cHBsaWVySWQsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLmV4cGVjdFNvbWUoKS5leHBlY3RUdXBsZSgpW1wiaW5ib3VuZC1mZWVcIl0uZXhwZWN0U29tZSgpKTtcblxuICAgIGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSxzdXBwbGllcklkLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDEsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKVxuICAgIF0pO1xuXG4gICAgcG9vbC5jcmVhdGVMb2FuKExQX1RPS0VOLDAsMTAwXzAwMF8wMDAsWEJUQywwLFhCVEMsMzAwLERBWSAqIDEwICogOSxEQVkgKiAxMCxDT0xMX1ZBVUxULEZVTkRJTkdfVkFVTFQsd2FsbGV0XzguYWRkcmVzcyk7XG4gICAgcG9vbC5mdW5kTG9hbigwLExQX1RPS0VOLDAsTElRVUlESVRZX1ZBVUxULEZVTkRJTkdfVkFVTFQsWEJUQyx3YWxsZXRfNy5hZGRyZXNzKTtcbiAgICBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLnVwZGF0ZUxpcXVpZGl0eShjaGFpbi5ibG9ja0hlaWdodCwgMTAwXzAwMF8wMDAsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS5kcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgU1dBUF9ST1VURVIsWEJUQywgd2FsbGV0XzguYWRkcmVzcyldKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFsuLi5maW5hbGl6ZURyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBYQlRDLCBIQVNILCA5OTcwMDAwMCwgMCwgMjgsIHdhbGxldF84LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG5cbiAgICBjaGFpbi5taW5lRW1wdHlCbG9ja1VudGlsKGNvbnN1bWVVaW50KGxvYW4uZ2V0TG9hbkRhdGEoMCkucmVzdWx0LmV4cGVjdFR1cGxlKClbXCJuZXh0LXBheW1lbnRcIl0pIC0gMSk7XG5cbiAgICBsZXQgcmVndWxhclBheW1lbnREdWUgPSAoY29uc3VtZVVpbnQoUGF5bWVudC5nZXRFYXJseVJlcGF5bWVudEFtb3VudChjaGFpbiwgMCwgd2FsbGV0XzguYWRkcmVzcykpKTtcbiAgICBsZXQgbWluUGF5bWVudFRvUmVjZWl2ZSA9ICBNYXRoLmZsb29yKHJlZ3VsYXJQYXltZW50RHVlICogZmVlIC8gMTBfMDAwKTtcbiAgICBcbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfOC5hZGRyZXNzKSxcbiAgICAgIC4uLm1ha2VGdWxsUGF5bWVudFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCB3YWxsZXRfOC5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDEscmVndWxhclBheW1lbnREdWUsXCIwMVwiLHN1cHBsaWVySWQsbWluUGF5bWVudFRvUmVjZWl2ZSwwLCBQQVlNRU5ULCBMUF9UT0tFTixMSVFVSURJVFlfVkFVTFQsMCwgQ1BfVE9LRU4sIENQX1JFV0FSRFNfVE9LRU4sIFpQX1RPS0VOLCBTV0FQX1JPVVRFUixjaGFpbi5ibG9ja0hlaWdodCAtIDIsIFhCVEMpXG4gICAgXSk7XG4gICAgYmxvY2sucmVjZWlwdHNbM10ucmVzdWx0LmV4cGVjdE9rKCk7XG5cbiAgICBhc3NlcnRFcXVhbHMoY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdW1wiU1QxUFFIUUtWMFJKWFpGWTFER1g4TU5TTllWRTNWR1pKU1JUUEdaR00ubWFnaWMtcHJvdG9jb2xcIl0sIDk5OTk3MDAwMDAgLSByZWd1bGFyUGF5bWVudER1ZSk7XG4gIH0sXG59KTtcblxuQ2xhcmluZXQudGVzdCh7XG4gIG5hbWU6IFwiQm9ycm93ZXIgY2FuIG1ha2UgYSBmdWxsIHBheW1lbnQgd2l0aCBhIHByZW1pdW0gd2l0aCBhIGxlYWtlZCBwcmVpbWFnZVwiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfNyA9IGFjY291bnRzLmdldChcIndhbGxldF83XCIpIGFzIEFjY291bnQ7IC8vIERlbGVnYXRlXzFcbiAgICBsZXQgd2FsbGV0XzggPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfOFwiKSBhcyBBY2NvdW50OyAvLyBib3Jyb3dlcl8xXG4gICAgbGV0IHdhbGxldF85ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzlcIikgYXMgQWNjb3VudDtcblxuICAgIGxldCBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4gICAgbGV0IHBvb2wgPSBuZXcgUG9vbChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBsb2FuID0gbmV3IExvYW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBsZXQgbHYgID0gbmV3IExpcXVpZGl0eVZhdWx0KGNoYWluLCBMSVFVSURJVFlfVkFVTFQsIGRlcGxveWVyV2FsbGV0KTtcblxuICAgIGxldCBibG9jayA9IEdsb2JhbHMub25ib2FyZFVzZXJBZGRyZXNzKGNoYWluLCB3YWxsZXRfOC5hZGRyZXNzLCBQMlBLSF9WRVJTSU9OLCBIQVNILCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcbiAgICBsZXQgREFZID0gY29uc3VtZVVpbnQoR2xvYmFscy5nZXREYXlMZW5ndGhEZWZhdWx0KGNoYWluLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKSk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG5cbiAgICBsZXQgc3VwcGxpZXJJZCA9IGNvbnN1bWVVaW50KGNoYWluLm1pbmVCbG9jayhbLi4ucmVnaXN0ZXJTdXBwbGllclR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCBkZXBsb3llcldhbGxldC5hZGRyZXNzLCByZWNpcGllbnQsIDEwLCAxMCwgNTAwLCA1MDAsIFwic3VwcGxpZXItMVwiLCAxMF8wMDBfMDAwXzAwMCldKS5yZWNlaXB0c1sxXS5yZXN1bHQuZXhwZWN0T2soKSBhcyBzdHJpbmcpO1xuICAgIGxldCBmZWUgPSBOdW1iZXIoTWFnaWMuZ2V0U3VwcGxpZXIoY2hhaW4sIHN1cHBsaWVySWQsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLmV4cGVjdFNvbWUoKS5leHBlY3RUdXBsZSgpW1wiaW5ib3VuZC1mZWVcIl0uZXhwZWN0U29tZSgpKTtcblxuICAgIGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSxzdXBwbGllcklkLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDEsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKVxuICAgIF0pO1xuXG4gICAgcG9vbC5jcmVhdGVMb2FuKExQX1RPS0VOLDAsMTAwXzAwMF8wMDAsWEJUQywwLFhCVEMsMzAwLERBWSAqIDEwICogOSxEQVkgKiAxMCxDT0xMX1ZBVUxULEZVTkRJTkdfVkFVTFQsd2FsbGV0XzguYWRkcmVzcyk7XG4gICAgcG9vbC5mdW5kTG9hbigwLExQX1RPS0VOLDAsTElRVUlESVRZX1ZBVUxULEZVTkRJTkdfVkFVTFQsWEJUQyx3YWxsZXRfNy5hZGRyZXNzKTtcbiAgICBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLnVwZGF0ZUxpcXVpZGl0eShjaGFpbi5ibG9ja0hlaWdodCwgMTAwXzAwMF8wMDAsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS5kcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgU1dBUF9ST1VURVIsWEJUQywgd2FsbGV0XzguYWRkcmVzcyldKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFsuLi5maW5hbGl6ZURyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBYQlRDLCBIQVNILCA5OTcwMDAwMCwgMCwgMjgsIHdhbGxldF84LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG5cbiAgICBjaGFpbi5taW5lRW1wdHlCbG9ja1VudGlsKGNvbnN1bWVVaW50KGxvYW4uZ2V0TG9hbkRhdGEoMCkucmVzdWx0LmV4cGVjdFR1cGxlKClbXCJuZXh0LXBheW1lbnRcIl0pIC0gMSk7XG5cbiAgICBsZXQgcmVndWxhclBheW1lbnREdWUgPSAoY29uc3VtZVVpbnQoUGF5bWVudC5nZXRFYXJseVJlcGF5bWVudEFtb3VudChjaGFpbiwgMCwgd2FsbGV0XzguYWRkcmVzcykpKTtcbiAgICBsZXQgbWluUGF5bWVudFRvUmVjZWl2ZSA9ICBNYXRoLmZsb29yKHJlZ3VsYXJQYXltZW50RHVlICogZmVlIC8gMTBfMDAwKTtcblxuICAgIGxldCBleHBpcmF0aW9uID0gNTAwO1xuICAgIGxldCBzd2FwcGVySWQgPSAxO1xuICAgIGxldCBvdXRwdXRWYWx1ZSA9IHJlZ3VsYXJQYXltZW50RHVlO1xuICAgIGxldCBtaW5Ub1JlY2VpdmUgPSBtaW5QYXltZW50VG9SZWNlaXZlXG4gICAgbGV0IGhhc2ggPSBnZXRIYXNoKFwiMDFcIik7XG4gICAgbGV0IHR4MSA9IGdlbmVyYXRlUDJTSFR4KHNlbmRlciwgcmVjaXBpZW50LCBleHBpcmF0aW9uLCBoYXNoLCBzd2FwcGVySWQsIG91dHB1dFZhbHVlKTtcbiAgICBsZXQgdHhpZDEgPSBnZXRUeElkKHR4MSk7XG4gICAgXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIod2FsbGV0XzguYWRkcmVzcyksXG4gICAgICBUZXN0VXRpbHMuc2V0TWluZWRUeCh0eGlkMSwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyksXG4gICAgICAvLyBjYWxsZWQgYnkgZGlmZmVyZW50IFN0YWNrcyBhZGRyZXNzXG4gICAgICBTdXBwbGllckludGVyZmFjZS5zZW5kRnVuZHMoXG4gICAgICAgIHsgaGVhZGVyOiBcIlwiLCBoZWlnaHQ6IGNoYWluLmJsb2NrSGVpZ2h0IC0gMSB9LFxuICAgICAgICBbXSxcbiAgICAgICAgdHgxLFxuICAgICAgICB7IFwidHgtaW5kZXhcIjogMCwgXCJoYXNoZXNcIjogW10sIFwidHJlZS1kZXB0aFwiOiAwIH0sXG4gICAgICAgIDAsXG4gICAgICAgIHNlbmRlcixcbiAgICAgICAgcmVjaXBpZW50LFxuICAgICAgICBnZXRFeHBpcmF0aW9uKGV4cGlyYXRpb24pLFxuICAgICAgICBoYXNoLFxuICAgICAgICBzd2FwcGVyQnVmZihzd2FwcGVySWQpLFxuICAgICAgICBzdXBwbGllcklkLFxuICAgICAgICBtaW5Ub1JlY2VpdmUsXG4gICAgICAgIHdhbGxldF84LmFkZHJlc3MsXG4gICAgICApLFxuICAgICAgLy8gd3JvbmcgYWRkcmVzcyBmaW5hbGl6ZXNcbiAgICAgIE1hZ2ljLmZpbmFsaXplU3dhcCh0eGlkMSwgXCIwMVwiLCB3YWxsZXRfOS5hZGRyZXNzKSxcbiAgICAgIC4uLm1ha2VGdWxsUGF5bWVudFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCB3YWxsZXRfOC5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDEscmVndWxhclBheW1lbnREdWUsXCIwMVwiLHN1cHBsaWVySWQsbWluUGF5bWVudFRvUmVjZWl2ZSwwLCBQQVlNRU5ULCBMUF9UT0tFTixMSVFVSURJVFlfVkFVTFQsMCwgQ1BfVE9LRU4sIENQX1JFV0FSRFNfVE9LRU4sIFpQX1RPS0VOLCBTV0FQX1JPVVRFUixjaGFpbi5ibG9ja0hlaWdodCAtIDIsIFhCVEMpLFxuICAgICAgU3VwcGxpZXJJbnRlcmZhY2UubWFrZUZ1bGxQYXltZW50Q29tcGxldGVkKHR4aWQxLCAwLCBQQVlNRU5ULCBMUF9UT0tFTiwgTElRVUlESVRZX1ZBVUxULCAwLCBDUF9UT0tFTiwgQ1BfUkVXQVJEU19UT0tFTiwgWlBfVE9LRU4sIFNXQVBfUk9VVEVSLCBYQlRDLCB3YWxsZXRfOC5hZGRyZXNzKSxcbiAgICBdKTtcbiAgICBibG9jay5yZWNlaXB0c1szXS5yZXN1bHQuZXhwZWN0T2soKTtcbiAgICBibG9jay5yZWNlaXB0c1s1XS5yZXN1bHQuZXhwZWN0RXJyKCk7XG4gICAgYmxvY2sucmVjZWlwdHNbN10ucmVzdWx0LmV4cGVjdE9rKCk7XG4gIH0sXG59KTtcblxuQ2xhcmluZXQudGVzdCh7XG4gIG5hbWU6IFwiQ2FuIG1ha2UgYWxsIHRoZSBwYXltZW50cyBmb3IgdGhlIGxvYW4gYWZ0ZXIgbWlzc2luZyBtdWx0aXBsZSBwYXltZW50cy5cIixcbiAgYXN5bmMgZm4oY2hhaW46IENoYWluLCBhY2NvdW50czogTWFwPHN0cmluZywgQWNjb3VudD4pIHtcbiAgICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgICBsZXQgTFBfMSA9IGFjY291bnRzLmdldChcIndhbGxldF8xXCIpIGFzIEFjY291bnQ7IC8vIExQXzFcbiAgICAgIGxldCBMUF8yID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzJcIikgYXMgQWNjb3VudDsgLy8gTFBfMlxuICAgICAgbGV0IGNvdmVyID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzNcIikgYXMgQWNjb3VudDsgLy8gQ292ZXJfMVxuICAgICAgbGV0IHdhbGxldF83ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzdcIikgYXMgQWNjb3VudDsgLy8gRGVsZWdhdGVfMVxuICAgICAgbGV0IHdhbGxldF84ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzhcIikgYXMgQWNjb3VudDsgLy8gYm9ycm93ZXJfMVxuXG4gICAgICBsZXQgYXNzZXRNYXBzID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpO1xuICAgICAgbGV0IHBvb2wgPSBuZXcgUG9vbChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgICAgbGV0IGNvdmVyUG9vbCA9IG5ldyBDb3ZlclBvb2woY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcblxuICAgICAgbGV0IGJsb2NrID0gcnVuQm9vdHN0cmFwKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgICBibG9jayA9IEdsb2JhbHMub25ib2FyZFVzZXJBZGRyZXNzKGNoYWluLCB3YWxsZXRfOC5hZGRyZXNzLCBQMlBLSF9WRVJTSU9OLCBIQVNILCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcblxuICAgICAgcG9vbC5jcmVhdGVQb29sKHdhbGxldF83LmFkZHJlc3MsTFBfVE9LRU4sWlBfVE9LRU4sUEFZTUVOVCxSRVdBUkRTX0NBTEMsMTAwMCwxMDAwLDEwXzAwMF8wMDBfMDAwLDEwXzAwMF8wMDBfMDAwLDEsTUFYX01BVFVSSVRZX0xFTkdUSCxMSVFVSURJVFlfVkFVTFQsQ1BfVE9LRU4sQ09WRVJfVkFVTFQsQ1BfUkVXQVJEU19UT0tFTixYQlRDLHRydWUpO1xuICAgICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4gICAgICBibG9jayA9IGNvdmVyUG9vbC5zZW5kRnVuZHMoQ1BfVE9LRU4sQ09WRVJfVkFVTFQsQ1BfUkVXQVJEU19UT0tFTixYQlRDLCAwLCAxMDBfMDAwXzAwMF8wMDBuLCAxMCwgUkVXQVJEU19DQUxDLCBjb3Zlci5hZGRyZXNzKTtcblxuICAgICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICAgIGxldCBmZWUgPSBOdW1iZXIoTWFnaWMuZ2V0U3VwcGxpZXIoY2hhaW4sIHN1cHBsaWVySWQsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLmV4cGVjdFNvbWUoKS5leHBlY3RUdXBsZSgpW1wiaW5ib3VuZC1mZWVcIl0uZXhwZWN0U29tZSgpKTtcblxuICAgICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcihMUF8xLmFkZHJlc3MpLFxuICAgICAgICAuLi5zZW5kRnVuZHNQMlNIVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsMCxMUF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSwwLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDEsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKVxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IExPQU5fQU1PVU5UID0gMTAwXzAwMF8wMDA7XG5cbiAgICAgIGJsb2NrID0gcG9vbC5jcmVhdGVMb2FuKExQX1RPS0VOLDAsTE9BTl9BTU9VTlQsWEJUQywwLFhCVEMsMzAwLDU3NjAsMTQ0MCxDT0xMX1ZBVUxULEZVTkRJTkdfVkFVTFQsd2FsbGV0XzguYWRkcmVzcyk7XG4gICAgICBibG9jayA9IHBvb2wuZnVuZExvYW4oMCxMUF9UT0tFTiwwLExJUVVJRElUWV9WQVVMVCxGVU5ESU5HX1ZBVUxULFhCVEMsd2FsbGV0XzcuYWRkcmVzcyk7XG4gICAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UudXBkYXRlTGlxdWlkaXR5KGNoYWluLmJsb2NrSGVpZ2h0LCAxMDBfMDAwXzAwMCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcbiAgICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgICAgU3VwcGxpZXJJbnRlcmZhY2UuZHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIDAsIFNXQVBfUk9VVEVSLFhCVEMsIHdhbGxldF84LmFkZHJlc3MpXG4gICAgICBdKTtcblxuICAgICAgY2hhaW4ubWluZUVtcHR5QmxvY2soMTApO1xuXG4gICAgICBsZXQgZ2xvYmFscyA9IEdsb2JhbHMuZ2V0R2xvYmFscyhjaGFpbiwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykuZXhwZWN0VHVwbGUoKTtcbiAgICAgIGxldCB0b3RhbEludmVzdG9yRmVlcyA9IGdldEJQKExPQU5fQU1PVU5ULCBjb25zdW1lVWludChnbG9iYWxzW1widHJlYXN1cnktZmVlXCJdKSArIGNvbnN1bWVVaW50KGdsb2JhbHNbXCJpbnZlc3Rvci1mZWVcIl0pKTtcblxuICAgICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soWy4uLmZpbmFsaXplRHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFhCVEMsIEhBU0gsIDk5NzAwMDAwLCAwLCAyOCwgd2FsbGV0XzguYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcblxuICAgICAgbGV0IGdyYWNlUGVyaW9kID0gY29uc3VtZVVpbnQoZ2xvYmFsc1tcImdyYWNlLXBlcmlvZFwiXSk7XG4gICAgICBsZXQgbmV4dFBheW1lbnRJbiA9IGNvbnN1bWVVaW50KGxvYW4uZ2V0TmV4dHBheW1lbnRJbigwKS5yZXN1bHQpO1xuICAgICAgY2hhaW4ubWluZUVtcHR5QmxvY2sobmV4dFBheW1lbnRJbik7XG4gICAgICBjaGFpbi5taW5lRW1wdHlCbG9jayhuZXh0UGF5bWVudEluKTtcbiAgICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKG5leHRQYXltZW50SW4pO1xuICAgICAgY2hhaW4ubWluZUVtcHR5QmxvY2sobmV4dFBheW1lbnRJbik7XG4gICAgICBjaGFpbi5taW5lRW1wdHlCbG9jayhuZXh0UGF5bWVudEluKTtcblxuICAgICAgbGV0IHJlZ3VsYXJQYXltZW50RHVlID0gKGNvbnN1bWVVaW50KFBheW1lbnQuZ2V0Q3VycmVudExvYW5QYXltZW50KGNoYWluLCAwLCB3YWxsZXRfOC5hZGRyZXNzKSkpO1xuICAgICAgbGV0IGRlbGVnYXRlRmVlID0gTWF0aC5mbG9vcihjb25zdW1lVWludChwb29sLmdldFBvb2woMClbXCJkZWxlZ2F0ZS1mZWVcIl0pIC8gMTAwMDAgKiByZWd1bGFyUGF5bWVudER1ZSk7XG4gICAgICBsZXQgbWluUGF5bWVudFRvUmVjZWl2ZSA9ICBNYXRoLmZsb29yKHJlZ3VsYXJQYXltZW50RHVlICogZmVlIC8gMTBfMDAwKTtcblxuICAgICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfOC5hZGRyZXNzKSxcbiAgICAgICAgLi4ubWFrZVBheW1lbnRUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgd2FsbGV0XzguYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwxLHJlZ3VsYXJQYXltZW50RHVlLFwiMDBcIixzdXBwbGllcklkLG1pblBheW1lbnRUb1JlY2VpdmUsMCwgUEFZTUVOVCwgTFBfVE9LRU4sTElRVUlESVRZX1ZBVUxULDAsIENQX1RPS0VOLCBDUF9SRVdBUkRTX1RPS0VOLCBaUF9UT0tFTiwgU1dBUF9ST1VURVIsY2hhaW4uYmxvY2tIZWlnaHQgLSAyLCBYQlRDKVxuICAgICAgXSk7XG5cbiAgICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFsuLi5tYWtlUGF5bWVudFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCB3YWxsZXRfOC5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDEscmVndWxhclBheW1lbnREdWUsXCIwMVwiLHN1cHBsaWVySWQsbWluUGF5bWVudFRvUmVjZWl2ZSwwLCBQQVlNRU5ULCBMUF9UT0tFTixMSVFVSURJVFlfVkFVTFQsMCwgQ1BfVE9LRU4sIENQX1JFV0FSRFNfVE9LRU4sIFpQX1RPS0VOLCBTV0FQX1JPVVRFUixjaGFpbi5ibG9ja0hlaWdodCAtIDIsIFhCVEMpXSk7XG4gICAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbLi4ubWFrZVBheW1lbnRUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgd2FsbGV0XzguYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwxLHJlZ3VsYXJQYXltZW50RHVlLFwiMDJcIixzdXBwbGllcklkLG1pblBheW1lbnRUb1JlY2VpdmUsMCwgUEFZTUVOVCwgTFBfVE9LRU4sTElRVUlESVRZX1ZBVUxULDAsIENQX1RPS0VOLCBDUF9SRVdBUkRTX1RPS0VOLCBaUF9UT0tFTiwgU1dBUF9ST1VURVIsY2hhaW4uYmxvY2tIZWlnaHQgLSAyLCBYQlRDKV0pO1xuICAgICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soWy4uLm1ha2VQYXltZW50VHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHdhbGxldF84LmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMSxyZWd1bGFyUGF5bWVudER1ZSArIExPQU5fQU1PVU5ULFwiMDNcIixzdXBwbGllcklkLG1pblBheW1lbnRUb1JlY2VpdmUsMCwgUEFZTUVOVCwgTFBfVE9LRU4sTElRVUlESVRZX1ZBVUxULDAsIENQX1RPS0VOLCBDUF9SRVdBUkRTX1RPS0VOLCBaUF9UT0tFTiwgU1dBUF9ST1VURVIsY2hhaW4uYmxvY2tIZWlnaHQgLSAyLCBYQlRDKV0pO1xuICAgICAgYmxvY2sucmVjZWlwdHNbMl0ucmVzdWx0LmV4cGVjdE9rKCkuZXhwZWN0VHVwbGUoKVtcInJlcGF5bWVudFwiXS5leHBlY3RCb29sKHRydWUpO1xuICAgICAgbGV0IGxvYW5SZXN1bHQgPSBsb2FuLmdldExvYW5EYXRhKDApLnJlc3VsdC5leHBlY3RUdXBsZSgpO1xuICAgICAgbG9hblJlc3VsdFtcInJlbWFpbmluZy1wYXltZW50c1wiXS5leHBlY3RVaW50KDApO1xuICAgICAgbG9hblJlc3VsdFtcInN0YXR1c1wiXS5leHBlY3RCdWZmKEJ1ZmZlci5mcm9tKFwiMDVcIiwgXCJoZXhcIikpO1xuICB9LFxufSk7XG5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx3QkFBd0I7QUFDeEIsU0FBUyxRQUFRLFFBQW1DLDhDQUE4QyxDQUFDO0FBQ25HLFNBQVMsWUFBWSxRQUFnQixrREFBa0QsQ0FBQztBQUN4RixTQUFTLElBQUksUUFBUSwrQkFBK0IsQ0FBQztBQUNyRCxTQUFTLFNBQVMsUUFBUSxxQ0FBcUMsQ0FBQztBQUNoRSxTQUFTLElBQUksUUFBUSwrQkFBK0IsQ0FBQztBQUVyRCxTQUFTLE1BQU0sUUFBUSw4Q0FBOEMsQ0FBQztBQUN0RSxTQUFTLFNBQVMsUUFBUSxnQ0FBZ0MsQ0FBQztBQUMzRCxTQUFTLEtBQUssUUFBUSxnQ0FBZ0MsQ0FBQztBQUN2RCxTQUFTLE9BQU8sUUFBUSw2QkFBNkIsQ0FBQztBQUN0RCxTQUFTLGlCQUFpQixRQUFRLHdDQUF3QyxDQUFDO0FBQzNFLFNBQVMsT0FBTyxRQUFRLDZCQUE2QixDQUFDO0FBQ3RELFNBQVMsY0FBYyxRQUFRLHFDQUFxQyxDQUFDO0FBQ3JFLFNBQ0UsT0FBTyxFQUVQLE9BQU8sRUFDUCxhQUFhLEVBQ2IsV0FBVyxFQUViLGNBQWMsUUFDUCxZQUFZLENBQUM7QUFFcEIsU0FLRSxZQUFZLEVBRVosZ0JBQWdCLEVBQ2hCLG1CQUFtQixFQUVuQixjQUFjLEVBQ2QsV0FBVyxFQUNYLGtCQUFrQixFQUNsQixnQkFBZ0IsRUFDaEIsS0FBSyxRQUNBLDRCQUE0QixDQUFDO0FBRXBDLFNBQ0UsUUFBUSxFQUNSLFFBQVEsRUFDUixPQUFPLEVBQ1AsWUFBWSxFQUNaLGVBQWUsRUFDZixRQUFRLEVBQ1IsSUFBSSxFQUNKLFVBQVUsRUFDVixhQUFhLEVBQ2IsYUFBYSxFQUNiLElBQUksRUFDSixTQUFTLEVBQ1QsTUFBTSxF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