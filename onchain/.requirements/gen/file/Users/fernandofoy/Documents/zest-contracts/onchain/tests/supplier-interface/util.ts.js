import { Sha256 } from "https://deno.land/std@0.67.0/hash/sha256.ts";
import { createHash } from "https://deno.land/std@0.67.0/hash/mod.ts";
import { Buffer } from "https://deno.land/std@0.159.0/node/buffer.ts";
export const CSV_DELAY = 500;
export const CSV_DELAY_HEX = encode(numberToHex(CSV_DELAY));
export const OP_DROP = "75";
export const OP_DUP = "76";
export const OP_IF = "63";
export const OP_SHA256 = "a8";
export const OP_EQUALVERIFY = "88";
export const OP_ELSE = "67";
export const OP_CHECKSEQUENCEVERIFY = "b2";
export const OP_ENDIF = "68";
export const OP_CHECKSIG = "ac";
export const OP_HASH160 = "a9";
export const OP_EQUAL = "87";
function getHash(contents) {
    const hash = new Sha256().update(Buffer.from(contents, "hex"));
    return hash.toString();
}
function getReverseTxId(rawTx) {
    let hash = new Sha256().update(Buffer.from(rawTx, "hex"));
    hash = new Sha256().update(hash.array());
    return hash.hex();
}
function getTxId(rawTx) {
    let txId = getReverseTxId(rawTx);
    return toLittleEndian(txId);
}
export function generateRandomHexString(numBytes) {
    const letters = "0123456789ABCDEF";
    let result = "";
    for(let i = 0; i < numBytes * 2; i++)result += letters[Math.floor(Math.random() * 16)];
    return result;
}
export function toLittleEndian(hex) {
    let s = "";
    for(let i = 0; i < hex.length; i++){
        if (i % 2 == 0) {
            s = hex.slice(i, i + 2).concat(s);
        }
    }
    return s;
}
export function numberToHex(num) {
    let s = Number(num).toString(16);
    s = s.length % 2 ? "0".concat(s) : s;
    return s;
}
export function padTo(hex, length = 4) {
    return hex.padStart(length * 2, "0");
}
function encode(value) {
    return toLittleEndian(numberToHex(value.length / 2)).concat(toLittleEndian(value));
}
function addVarInt(scriptHex) {
    return toLittleEndian(numberToHex(scriptHex.length / 2)).concat(scriptHex);
}
function generateP2SHTx(sender, recipient, expiration, hash, swapper, outputValue) {
    const valueHex = padTo(numberToHex(outputValue), 8);
    const s = `0200000001f01c1021c9d15a6ddda9e7f016586c5e1e57e8b456a90a5f741238a3ea5f01b1010000006a47\
304402206f2e00a06d84a629d1583d3e37d046dc768346e9cfb9f29a54fca8e25401661a022055bfb842f1baaad40da4ff\
1e53431c30e383007ac53b9a93c938423c3d217b950121031aa68bfad0576216e20a30892af32e49948fbd2892c339c373\
bc28e49e04f9bffdffffff02${toLittleEndian(valueHex)}17${generateP2SHScript(sender, recipient, expiration, hash, swapper)}c0da0\
000000000001976a914c5b8cc55ab829cc07b08936234b14a039a38f4e288ac89692200`;
    return s;
}
function generateP2PKHTx(hash, outputValue) {
    let valueHex = padTo(numberToHex(outputValue), 8);
    let s = `0200000001f01c1021c9d15a6ddda9e7f016586c5e1e57e8b456a90a5f741238a3ea5f01b1010000006a47\
304402206f2e00a06d84a629d1583d3e37d046dc768346e9cfb9f29a54fca8e25401661a022055bfb842f1baaad40da4ff\
1e53431c30e383007ac53b9a93c938423c3d217b950121031aa68bfad0576216e20a30892af32e49948fbd2892c339c373\
bc28e49e04f9bffdffffff02${toLittleEndian(valueHex)}19${generateP2PKHScript(hash)}c0da0\
000000000001976a914c5b8cc55ab829cc07b08936234b14a039a38f4e288ac89692200`;
    return s;
}
function generateHtclScript(sender, recipient, expiration, hash, swapper) {
    return `\
${encode(padTo(numberToHex(swapper), 4))}${OP_DROP}\
${OP_IF}\
${OP_SHA256}${addVarInt(hash)}\
${OP_EQUALVERIFY}\
${addVarInt(recipient)}\
${OP_ELSE}\
${expiration !== undefined ? encode(numberToHex(expiration)) : CSV_DELAY_HEX}\
${OP_CHECKSEQUENCEVERIFY}\
${OP_DROP}\
${addVarInt(sender)}\
${OP_ENDIF}\
${OP_CHECKSIG}`.replace(/\s+/g, ' ').trim();
}
function generateP2SHScript(sender, recipient, expiration, hash, swapper) {
    let htlc = generateHtclScript(sender, recipient, expiration, hash, swapper);
    return `${OP_HASH160}${addVarInt(generateScriptHash(htlc))}${OP_EQUAL}`;
}
export function generateP2PKHScript(hash) {
    return `${OP_DUP}${OP_HASH160}${addVarInt(hash)}${OP_EQUALVERIFY}${OP_CHECKSIG}`;
}
function generateScriptHash(script) {
    let s = script;
    const hash = createHash("ripemd160").update(createHash("sha256").update(Buffer.from(s, "hex")).digest());
    return hash.toString();
}
function getExpiration(expirationVal) {
    return toLittleEndian(padTo(numberToHex(expirationVal), 2));
}
function swapperBuff(swapperVal) {
    return toLittleEndian(padTo(numberToHex(swapperVal), 4));
}
export { getHash, getReverseTxId, getTxId, generateHtclScript, generateP2SHTx, generateP2SHScript, getExpiration, generateP2PKHTx, swapperBuff };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvZmVybmFuZG9mb3kvRG9jdW1lbnRzL3plc3QtY29udHJhY3RzL29uY2hhaW4vdGVzdHMvc3VwcGxpZXItaW50ZXJmYWNlL3V0aWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBTaGEyNTYgfSBmcm9tIFwiaHR0cHM6Ly9kZW5vLmxhbmQvc3RkQDAuNjcuMC9oYXNoL3NoYTI1Ni50c1wiO1xuaW1wb3J0IHsgY3JlYXRlSGFzaCB9IGZyb20gXCJodHRwczovL2Rlbm8ubGFuZC9zdGRAMC42Ny4wL2hhc2gvbW9kLnRzXCI7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiaHR0cHM6Ly9kZW5vLmxhbmQvc3RkQDAuMTU5LjAvbm9kZS9idWZmZXIudHNcIjtcblxuZXhwb3J0IGNvbnN0IENTVl9ERUxBWSA9IDUwMDtcbmV4cG9ydCBjb25zdCBDU1ZfREVMQVlfSEVYID0gZW5jb2RlKG51bWJlclRvSGV4KENTVl9ERUxBWSkpO1xuZXhwb3J0IGNvbnN0IE9QX0RST1AgPSBcIjc1XCI7XG5leHBvcnQgY29uc3QgT1BfRFVQID0gXCI3NlwiO1xuZXhwb3J0IGNvbnN0IE9QX0lGID0gXCI2M1wiO1xuZXhwb3J0IGNvbnN0IE9QX1NIQTI1NiA9IFwiYThcIjtcbmV4cG9ydCBjb25zdCBPUF9FUVVBTFZFUklGWSA9IFwiODhcIjtcbmV4cG9ydCBjb25zdCBPUF9FTFNFID0gXCI2N1wiO1xuZXhwb3J0IGNvbnN0IE9QX0NIRUNLU0VRVUVOQ0VWRVJJRlkgPSBcImIyXCI7XG5leHBvcnQgY29uc3QgT1BfRU5ESUYgPSBcIjY4XCI7XG5leHBvcnQgY29uc3QgT1BfQ0hFQ0tTSUcgPSBcImFjXCI7XG5leHBvcnQgY29uc3QgT1BfSEFTSDE2MCA9IFwiYTlcIjtcbmV4cG9ydCBjb25zdCBPUF9FUVVBTFx0ID0gXCI4N1wiO1xuXG5mdW5jdGlvbiBnZXRIYXNoKGNvbnRlbnRzOiBzdHJpbmcpIHtcbiAgY29uc3QgaGFzaCA9IG5ldyBTaGEyNTYoKS51cGRhdGUoQnVmZmVyLmZyb20oY29udGVudHMsIFwiaGV4XCIpKTtcbiAgcmV0dXJuIGhhc2gudG9TdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmV2ZXJzZVR4SWQocmF3VHg6IHN0cmluZykge1xuICBsZXQgaGFzaCA9IG5ldyBTaGEyNTYoKS51cGRhdGUoQnVmZmVyLmZyb20ocmF3VHgsIFwiaGV4XCIpKTtcbiAgaGFzaCA9IG5ldyBTaGEyNTYoKS51cGRhdGUoaGFzaC5hcnJheSgpKTtcbiAgcmV0dXJuIGhhc2guaGV4KCk7XG59XG5cbmZ1bmN0aW9uIGdldFR4SWQocmF3VHg6IHN0cmluZykge1xuICBsZXQgdHhJZCA9IGdldFJldmVyc2VUeElkKHJhd1R4KTtcbiAgcmV0dXJuIHRvTGl0dGxlRW5kaWFuKHR4SWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21IZXhTdHJpbmcobnVtQnl0ZXM6IG51bWJlcikge1xuICBjb25zdCBsZXR0ZXJzID0gXCIwMTIzNDU2Nzg5QUJDREVGXCI7XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUJ5dGVzICogMjsgaSsrKVxuICAgIHJlc3VsdCArPSBsZXR0ZXJzWyhNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNikpXTtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9MaXR0bGVFbmRpYW4oaGV4OiBzdHJpbmcpIHtcbiAgbGV0IHMgPSBcIlwiO1xuICBmb3IobGV0IGkgPSAwOyBpIDwgaGV4Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYoaSAlIDIgPT0gMCkge1xuICAgICAgcyA9IChoZXguc2xpY2UoaSwgaSsyKSkuY29uY2F0KHMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlclRvSGV4KG51bTogbnVtYmVyKSB7XG4gIGxldCBzID0gTnVtYmVyKG51bSkudG9TdHJpbmcoMTYpO1xuICBzID0gcy5sZW5ndGggJSAyID8gXCIwXCIuY29uY2F0KHMpIDogcztcbiAgcmV0dXJuIHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYWRUbyhoZXg6IHN0cmluZywgbGVuZ3RoID0gNCkge1xuICByZXR1cm4gaGV4LnBhZFN0YXJ0KGxlbmd0aCAqIDIsIFwiMFwiKTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlKHZhbHVlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHRvTGl0dGxlRW5kaWFuKG51bWJlclRvSGV4KHZhbHVlLmxlbmd0aCAvIDIpKS5jb25jYXQodG9MaXR0bGVFbmRpYW4odmFsdWUpKTtcbn1cblxuZnVuY3Rpb24gYWRkVmFySW50KHNjcmlwdEhleDogc3RyaW5nKSB7XG4gIHJldHVybiB0b0xpdHRsZUVuZGlhbihudW1iZXJUb0hleChzY3JpcHRIZXgubGVuZ3RoIC8gMikpLmNvbmNhdChzY3JpcHRIZXgpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVAyU0hUeChcbiAgc2VuZGVyOiBzdHJpbmcsXG4gIHJlY2lwaWVudDogc3RyaW5nLFxuICBleHBpcmF0aW9uOiBudW1iZXIsIC8vIGluIGludGVnZXIgdmFsdWVcbiAgaGFzaDogc3RyaW5nLFxuICBzd2FwcGVyOiBudW1iZXIsICAvLyBpbiBoZXggTEVcbiAgb3V0cHV0VmFsdWU6IG51bWJlclxuKSB7XG4gIGNvbnN0IHZhbHVlSGV4ID0gcGFkVG8obnVtYmVyVG9IZXgob3V0cHV0VmFsdWUpLCA4KTtcblxuICBjb25zdCBzID0gYDAyMDAwMDAwMDFmMDFjMTAyMWM5ZDE1YTZkZGRhOWU3ZjAxNjU4NmM1ZTFlNTdlOGI0NTZhOTBhNWY3NDEyMzhhM2VhNWYwMWIxMDEwMDAwMDA2YTQ3XFxcbjMwNDQwMjIwNmYyZTAwYTA2ZDg0YTYyOWQxNTgzZDNlMzdkMDQ2ZGM3NjgzNDZlOWNmYjlmMjlhNTRmY2E4ZTI1NDAxNjYxYTAyMjA1NWJmYjg0MmYxYmFhYWQ0MGRhNGZmXFxcbjFlNTM0MzFjMzBlMzgzMDA3YWM1M2I5YTkzYzkzODQyM2MzZDIxN2I5NTAxMjEwMzFhYTY4YmZhZDA1NzYyMTZlMjBhMzA4OTJhZjMyZTQ5OTQ4ZmJkMjg5MmMzMzljMzczXFxcbmJjMjhlNDllMDRmOWJmZmRmZmZmZmYwMiR7dG9MaXR0bGVFbmRpYW4odmFsdWVIZXgpfTE3JHtnZW5lcmF0ZVAyU0hTY3JpcHQoc2VuZGVyLCByZWNpcGllbnQsIGV4cGlyYXRpb24sIGhhc2gsIHN3YXBwZXIpfWMwZGEwXFxcbjAwMDAwMDAwMDAwMTk3NmE5MTRjNWI4Y2M1NWFiODI5Y2MwN2IwODkzNjIzNGIxNGEwMzlhMzhmNGUyODhhYzg5NjkyMjAwYDtcblxuICByZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVQMlBLSFR4KFxuICBoYXNoOiBzdHJpbmcsXG4gIG91dHB1dFZhbHVlOiBudW1iZXJcbikge1xuICBsZXQgdmFsdWVIZXggPSBwYWRUbyhudW1iZXJUb0hleChvdXRwdXRWYWx1ZSksIDgpO1xuXG4gIGxldCBzID0gYDAyMDAwMDAwMDFmMDFjMTAyMWM5ZDE1YTZkZGRhOWU3ZjAxNjU4NmM1ZTFlNTdlOGI0NTZhOTBhNWY3NDEyMzhhM2VhNWYwMWIxMDEwMDAwMDA2YTQ3XFxcbjMwNDQwMjIwNmYyZTAwYTA2ZDg0YTYyOWQxNTgzZDNlMzdkMDQ2ZGM3NjgzNDZlOWNmYjlmMjlhNTRmY2E4ZTI1NDAxNjYxYTAyMjA1NWJmYjg0MmYxYmFhYWQ0MGRhNGZmXFxcbjFlNTM0MzFjMzBlMzgzMDA3YWM1M2I5YTkzYzkzODQyM2MzZDIxN2I5NTAxMjEwMzFhYTY4YmZhZDA1NzYyMTZlMjBhMzA4OTJhZjMyZTQ5OTQ4ZmJkMjg5MmMzMzljMzczXFxcbmJjMjhlNDllMDRmOWJmZmRmZmZmZmYwMiR7dG9MaXR0bGVFbmRpYW4odmFsdWVIZXgpfTE5JHtnZW5lcmF0ZVAyUEtIU2NyaXB0KGhhc2gpfWMwZGEwXFxcbjAwMDAwMDAwMDAwMTk3NmE5MTRjNWI4Y2M1NWFiODI5Y2MwN2IwODkzNjIzNGIxNGEwMzlhMzhmNGUyODhhYzg5NjkyMjAwYDtcblxuICByZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVIdGNsU2NyaXB0KFxuICBzZW5kZXI6IHN0cmluZyxcbiAgcmVjaXBpZW50OiBzdHJpbmcsXG4gIGV4cGlyYXRpb246IG51bWJlciwgLy8gaW4gaW50ZWdlciB2YWx1ZVxuICBoYXNoOiBzdHJpbmcsXG4gIHN3YXBwZXI6IG51bWJlciwgIC8vIGluIGhleCBMRVxuICAvLyBvdXRwdXRWYWx1ZTogbnVtYmVyIC8vIGluIGludGVnZXIgdmFsdWVcbikge1xuICByZXR1cm4gYFxcXG4ke2VuY29kZShwYWRUbyhudW1iZXJUb0hleChzd2FwcGVyKSwgNCkpfSR7T1BfRFJPUH1cXFxuJHtPUF9JRn1cXFxuJHtPUF9TSEEyNTZ9JHthZGRWYXJJbnQoaGFzaCl9XFxcbiR7T1BfRVFVQUxWRVJJRll9XFxcbiR7YWRkVmFySW50KHJlY2lwaWVudCl9XFxcbiR7T1BfRUxTRX1cXFxuJHtleHBpcmF0aW9uICE9PSB1bmRlZmluZWQgPyBlbmNvZGUobnVtYmVyVG9IZXgoZXhwaXJhdGlvbikpIDogQ1NWX0RFTEFZX0hFWH1cXFxuJHtPUF9DSEVDS1NFUVVFTkNFVkVSSUZZfVxcXG4ke09QX0RST1B9XFxcbiR7YWRkVmFySW50KHNlbmRlcil9XFxcbiR7T1BfRU5ESUZ9XFxcbiR7T1BfQ0hFQ0tTSUd9YFxuICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICAudHJpbSgpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVAyU0hTY3JpcHQoXG4gIHNlbmRlcjogc3RyaW5nLFxuICByZWNpcGllbnQ6IHN0cmluZyxcbiAgZXhwaXJhdGlvbjogbnVtYmVyLCAvLyBpbiBpbnRlZ2VyIHZhbHVlXG4gIGhhc2g6IHN0cmluZyxcbiAgc3dhcHBlcjogbnVtYmVyLCAgLy8gaW4gaGV4IExFXG4gICkge1xuICAgIGxldCBodGxjID0gZ2VuZXJhdGVIdGNsU2NyaXB0KHNlbmRlciwgcmVjaXBpZW50LCBleHBpcmF0aW9uLCBoYXNoLCBzd2FwcGVyKTtcbiAgICByZXR1cm4gYCR7T1BfSEFTSDE2MH0ke2FkZFZhckludChnZW5lcmF0ZVNjcmlwdEhhc2goaHRsYykpfSR7T1BfRVFVQUx9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUDJQS0hTY3JpcHQoXG4gIGhhc2g6IHN0cmluZyxcbikge1xuICByZXR1cm4gYCR7T1BfRFVQfSR7T1BfSEFTSDE2MH0ke2FkZFZhckludChoYXNoKX0ke09QX0VRVUFMVkVSSUZZfSR7T1BfQ0hFQ0tTSUd9YDtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTY3JpcHRIYXNoKHNjcmlwdDogc3RyaW5nKSB7XG4gIGxldCBzID0gc2NyaXB0O1xuICBjb25zdCBoYXNoID0gY3JlYXRlSGFzaChcInJpcGVtZDE2MFwiKS51cGRhdGUoY3JlYXRlSGFzaChcInNoYTI1NlwiKS51cGRhdGUoQnVmZmVyLmZyb20ocywgXCJoZXhcIikpLmRpZ2VzdCgpKTtcbiAgcmV0dXJuIGhhc2gudG9TdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gZ2V0RXhwaXJhdGlvbihleHBpcmF0aW9uVmFsOiBudW1iZXIpIHtcbiAgcmV0dXJuIHRvTGl0dGxlRW5kaWFuKHBhZFRvKG51bWJlclRvSGV4KGV4cGlyYXRpb25WYWwpLCAyKSk7XG59XG5cbmZ1bmN0aW9uIHN3YXBwZXJCdWZmKHN3YXBwZXJWYWw6IG51bWJlcikge1xuICByZXR1cm4gdG9MaXR0bGVFbmRpYW4ocGFkVG8obnVtYmVyVG9IZXgoc3dhcHBlclZhbCksIDQpKTtcbn1cblxuZXhwb3J0IHsgZ2V0SGFzaCwgZ2V0UmV2ZXJzZVR4SWQsIGdldFR4SWQsIGdlbmVyYXRlSHRjbFNjcmlwdCwgZ2VuZXJhdGVQMlNIVHgsIGdlbmVyYXRlUDJTSFNjcmlwdCwgZ2V0RXhwaXJhdGlvbiwgZ2VuZXJhdGVQMlBLSFR4LCBzd2FwcGVyQnVmZiB9OyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxTQUFTLE1BQU0sUUFBUSw2Q0FBNkMsQ0FBQztBQUNyRSxTQUFTLFVBQVUsUUFBUSwwQ0FBMEMsQ0FBQztBQUN0RSxTQUFTLE1B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