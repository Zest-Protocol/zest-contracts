// deno-lint-ignore-file
import { Clarinet, types } from 'https://deno.land/x/clarinet@v1.0.3/index.ts';
import { assertEquals } from 'https://deno.land/std@0.159.0/testing/asserts.ts';
import { Pool } from '../../interfaces/pool-v1-0.ts';
import { Loan } from '../../interfaces/loan-v1-0.ts';
import { Magic } from '../../interfaces/magic_real.ts';
import { Globals } from '../../interfaces/globals.ts';
import { SupplierInterface } from '../../interfaces/supplier_interface.ts';
import { ZestRewardDist } from '../../interfaces/zestRewardDist.ts';
import { Payment } from '../../interfaces/payment.ts';
import { sendFundsP2SHTxs, registerSupplierTxs, consumeUint, makePaymentTxs, finalizeDrawdown } from '../../interfaces/common.ts';
import { LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, LIQUIDITY_VAULT, CP_TOKEN, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, recipient, sender, preimage, ERRORS, SWAP_ROUTER, CP_REWARDS_TOKEN, COVER_VAULT } from "../config.ts";
const MAX_MATURITY_LENGTH = 144 * 365 * 3; // 3 years
Clarinet.test({
    name: "Liquidity Provider can withdraw funds sent to a pool",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let globals = Globals.getGlobals(chain, deployerWallet.address).expectTuple();
        let cooldownTime = consumeUint(globals["lp-cooldown-period"]);
        let unstakeWindow = consumeUint(globals["lp-unstake-window"]);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 2, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 2, chain.blockHeight - 1)
        ]);
        chain.mineEmptyBlock(consumeUint(pool.fundsCommitmentEndsAtHeight(0, wallet_1.address, deployerWallet.address).result));
        block = pool.signalWithdrawal(LP_TOKEN, 0, 100_000_000, wallet_1.address);
        chain.mineEmptyBlock(cooldownTime);
        // console.log(cooldownTime);
        block = chain.mineBlock([
            SupplierInterface.withdraw(100_000_000, P2PKH_VERSION, HASH, 0, LP_TOKEN, ZP_TOKEN, 0, LIQUIDITY_VAULT, XBTC, wallet_1.address)
        ]);
        assetMaps = chain.getAssetsMaps();
        assertEquals(assetMaps.assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.magic-protocol"], 10000000000);
    }
});
Clarinet.test({
    name: "Liquidity Provider cannot withdraw before lockup period and after unstake window expired",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 2, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 2, chain.blockHeight - 1)
        ]);
        let globals = Globals.getGlobals(chain, deployerWallet.address).expectTuple();
        let cooldownTime = consumeUint(globals["lp-cooldown-period"]);
        let unstakeWindow = consumeUint(globals["lp-unstake-window"]);
        block = pool.signalWithdrawal(LP_TOKEN, 0, 100_000_000, wallet_1.address);
        chain.mineEmptyBlock(cooldownTime - 10);
        // lockup period in progress even after cooldown period
        block = chain.mineBlock([
            SupplierInterface.withdraw(100_000_000, P2PKH_VERSION, HASH, 0, LP_TOKEN, ZP_TOKEN, 0, LIQUIDITY_VAULT, XBTC, wallet_1.address)
        ]);
        block.receipts[0].result.expectErr().expectUint(ERRORS.ERR_FUNDS_LOCKED);
        // wait arbitraririly large number
        chain.mineEmptyBlock(cooldownTime * 2);
        block = chain.mineBlock([
            SupplierInterface.withdraw(100_000_000, P2PKH_VERSION, HASH, 0, LP_TOKEN, ZP_TOKEN, 0, LIQUIDITY_VAULT, XBTC, wallet_1.address)
        ]);
        block.receipts[0].result.expectErr().expectUint(ERRORS.ERR_UNSTAKE_WINDOW_EXPIRED);
        pool.signalWithdrawal(LP_TOKEN, 0, 100_000_000, wallet_1.address);
        block = chain.mineBlock([
            SupplierInterface.withdraw(100_000_000, P2PKH_VERSION, HASH, 0, LP_TOKEN, ZP_TOKEN, 0, LIQUIDITY_VAULT, XBTC, wallet_1.address)
        ]);
        block.receipts[0].result.expectErr().expectUint(ERRORS.ERR_COOLDOWN_ONGOING);
        chain.mineEmptyBlock(cooldownTime + unstakeWindow);
        block = chain.mineBlock([
            SupplierInterface.withdraw(100_000_000, P2PKH_VERSION, HASH, 0, LP_TOKEN, ZP_TOKEN, 0, LIQUIDITY_VAULT, XBTC, wallet_1.address)
        ]);
        block.receipts[0].result.expectErr().expectUint(ERRORS.ERR_UNSTAKE_WINDOW_EXPIRED);
        pool.signalWithdrawal(LP_TOKEN, 0, 100_000_000, wallet_1.address);
        chain.mineEmptyBlock(cooldownTime);
        block = chain.mineBlock([
            SupplierInterface.withdraw(100_000_000, P2PKH_VERSION, HASH, 0, LP_TOKEN, ZP_TOKEN, 0, LIQUIDITY_VAULT, XBTC, wallet_1.address)
        ]);
        block.receipts[0].result.expectOk();
    }
});
Clarinet.test({
    name: "Liquidity Provider can withdraw Zest and xBTC rewards",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        // initContractOwners(chain, deployerWallet);
        block = pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        block = pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        pool.createLoan(LP_TOKEN, 0, 100_000_000, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        chain.mineEmptyBlock(1300);
        let regularPaymentDue = consumeUint(Payment.getCurrentLoanPayment(chain, 0, wallet_8.address));
        let delegateFee = Math.floor(consumeUint(pool.getPool(0)["delegate-fee"]) / 10000 * regularPaymentDue);
        let minPaymentToReceive = Math.floor(regularPaymentDue * fee / 10_000);
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_8.address),
            ...makePaymentTxs(deployerWallet.address, wallet_8.address, sender, recipient, 500, 1, regularPaymentDue, "00", supplierId, minPaymentToReceive, 0, PAYMENT, LP_TOKEN, LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER, chain.blockHeight - 1, XBTC)
        ]);
        chain.mineEmptyBlockUntil(consumeUint(ZestRewardDist.getNextCycleHeight(0, chain, deployerWallet.address).result.expectSome()));
        chain.mineEmptyBlockUntil(consumeUint(ZestRewardDist.getNextCycleHeight(0, chain, deployerWallet.address).result.expectSome()));
        // console.log(consumeUint(ZestRewardDist.getNextCycleHeight(0, chain, deployerWallet.address).result.expectSome() as string));
        block = pool.withdrawZestRewards(0, ZP_TOKEN, REWARDS_CALC, wallet_1.address);
        let before = chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.magic-protocol"];
        block = chain.mineBlock([
            SupplierInterface.withdrawRewards(P2PKH_VERSION, HASH, 0, LP_TOKEN, 0, LIQUIDITY_VAULT, XBTC, wallet_1.address)
        ]);
        let result = chain.callReadOnlyFn("lp-token", "withdrawable-funds-of", [
            types.uint(0),
            types.principal(wallet_1.address)
        ], deployerWallet.address);
        let difference = consumeUint(String(block.receipts[0].result.expectOk()));
        let after = chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.magic-protocol"];
        assertEquals(after - before, difference);
    }
}); // Clarinet.test({
 //   name: "Liquidity Provider",
 //   async fn(chain: Chain, accounts: Map<string, Account>) {
 //     let deployerWallet = accounts.get("deployer") as Account;
 //     let wallet_1 = accounts.get("wallet_1") as Account; // LP_1
 //     let wallet_7 = accounts.get("wallet_7") as Account; // Delegate_1
 //     let wallet_8 = accounts.get("wallet_8") as Account; // borrower_1
 //     let assetMaps = chain.getAssetsMaps();
 //     let pool = new Pool(chain, deployerWallet);
 //     let loan = new Loan(chain, deployerWallet);
 //     let block = runBootstrap(chain, deployerWallet);
 //     block = Globals.onboardUserAddress(chain, wallet_8.address, deployerWallet.address);
 //     initContractOwners(chain, deployerWallet);
 //     block = pool.createPool(wallet_7.address,LP_TOKEN,0,ZP_TOKEN,PAYMENT,REWARDS_CALC,1000,1000,10_000_000_000,1,LIQUIDITY_VAULT,CP_TOKEN,CP_REWARDS_TOKEN,XBTC,true);
 //     console.log(block);
 //     pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
 //     chain.mineEmptyBlock(2);
 //     block = chain.mineBlock([
 //       ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000),
 //       Magic.initializeSwapper(wallet_1.address),
 //       ...sendFundsP2SHTxs(deployerWallet.address,0,wallet_1.address,sender,recipient,500,0,100_000_000,preimage,0,1,29)
 //     ]);
 //     pool.createLoan(LP_TOKEN,0,100_000_000,0,XBTC,300,12960,1440,COLL_VAULT,FUNDING_VAULT,wallet_8.address);
 //     pool.fundLoan(0,LP_TOKEN,0,LIQUIDITY_VAULT,XBTC,wallet_7.address);
 //     block = chain.mineBlock([
 //       SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, XBTC, wallet_8.address)
 //     ]);
 //     chain.mineEmptyBlock(10);
 //     block = chain.mineBlock([
 //       ...finalizeOutboundTxs(HASH, 99000000, 0, 43, wallet_8.address, deployerWallet.address)
 //     ]);
 //     chain.mineEmptyBlock(1300);
 //     block = chain.mineBlock([
 //       Magic.initializeSwapper(wallet_8.address),
 //       ...makePaymentTxs(deployerWallet.address, wallet_8.address,sender,recipient,500,1,82191,"00",0,0, PAYMENT, LP_TOKEN,LIQUIDITY_VAULT, 0, CP_TOKEN, CP_REWARDS_TOKEN, ZP_TOKEN, SWAP_ROUTER,1343, XBTC)
 //     ]);
 //     chain.mineEmptyBlock(697);
 //     block = pool.withdrawZestRewards(0,ZP_TOKEN, REWARDS_CALC, wallet_1.address);
 //     // console.log(block.receipts[0].events);
 //     assetMaps = chain.getAssetsMaps();
 //     // TODO: correct to use cycle rewards
 //     // assert(assetMaps.assets[".zge000-governance-token.zest"][wallet_1.address] > 0);
 //     let before = (chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.magic-protocol"]);
 //     block = chain.mineBlock([
 //       SupplierInterface.withdrawRewards(P2PKH_VERSION, HASH, 0, LP_TOKEN, 0, LIQUIDITY_VAULT, XBTC, wallet_1.address)
 //     ]);
 //     let result = chain.callReadOnlyFn("lp-token", "withdrawable-funds-of", [ types.uint(0), types.principal(wallet_1.address) ], deployerWallet.address);
 //     // console.log(chain.getAssetsMaps());
 //     let difference = (consumeUint(String(block.receipts[0].result.expectOk())));
 //     let after = (chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.magic-protocol"]);
 //     assertEquals(after - before, difference);
 //   },
 // });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvZmVybmFuZG9mb3kvRG9jdW1lbnRzL3plc3QtY29udHJhY3RzL29uY2hhaW4vdGVzdHMvc3VwcGxpZXItaW50ZXJmYWNlL3Rlc3RpbmcvbHBfd2l0aGRyYXdhbF90ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGRlbm8tbGludC1pZ25vcmUtZmlsZVxuaW1wb3J0IHsgQ2xhcmluZXQsIFR4LCBDaGFpbiwgQWNjb3VudCwgdHlwZXMgfSBmcm9tICdodHRwczovL2Rlbm8ubGFuZC94L2NsYXJpbmV0QHYxLjAuMy9pbmRleC50cyc7XG5pbXBvcnQgeyBhc3NlcnRFcXVhbHMsIGFzc2VydCB9IGZyb20gJ2h0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE1OS4wL3Rlc3RpbmcvYXNzZXJ0cy50cyc7XG5pbXBvcnQgeyBQb29sIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9wb29sLXYxLTAudHMnO1xuaW1wb3J0IHsgQ292ZXJQb29sIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9jb3Zlci1wb29sLXYxLTAudHMnO1xuaW1wb3J0IHsgTG9hbiB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvbG9hbi12MS0wLnRzJztcbmltcG9ydCB7IExQVG9rZW4gfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2xwLXRva2VuLnRzJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJodHRwczovL2Rlbm8ubGFuZC9zdGRAMC4xNTkuMC9ub2RlL2J1ZmZlci50c1wiO1xuaW1wb3J0IHsgVGVzdFV0aWxzIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy90ZXN0LXV0aWxzLnRzJztcbmltcG9ydCB7IE1hZ2ljIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9tYWdpY19yZWFsLnRzJztcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2dsb2JhbHMudHMnO1xuaW1wb3J0IHsgU3VwcGxpZXJJbnRlcmZhY2UgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL3N1cHBsaWVyX2ludGVyZmFjZS50cyc7XG5pbXBvcnQgeyBaZXN0UmV3YXJkRGlzdCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvemVzdFJld2FyZERpc3QudHMnO1xuaW1wb3J0IHsgUGF5bWVudCB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvcGF5bWVudC50cyc7XG5pbXBvcnQgeyBcbiAgZ2V0SGFzaCxcbiAgZ2V0UmV2ZXJzZVR4SWQsXG4gIGdldFR4SWQsXG4gIGdldEV4cGlyYXRpb24sXG4gIHN3YXBwZXJCdWZmLFxuICBnZW5lcmF0ZVAyUEtIVHhcbn0gZnJvbSBcIi4uL3V0aWwudHNcIjtcblxuaW1wb3J0IHtcbiAgc2V0Q29udHJhY3RPd25lcixcbiAgaW5pdENvbnRyYWN0T3duZXJzLFxuICBib290c3RyYXBBcHByb3ZlZENvbnRyYWN0cyxcbiAgYWRkQXBwcm92ZWRDb250cmFjdCxcbiAgcnVuQm9vdHN0cmFwLFxuICBhZGRCb3Jyb3dlcixcbiAgc2VuZEZ1bmRzUDJTSFR4cyxcbiAgcmVnaXN0ZXJTdXBwbGllclR4cyxcbiAgZmluYWxpemVPdXRib3VuZFR4cyxcbiAgY29uc3VtZVVpbnQsXG4gIG1ha2VQYXltZW50VHhzLFxuICBzZXRQb29sQ29udHJhY3QsXG4gIGZpbmFsaXplRHJhd2Rvd25cbn0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9jb21tb24udHMnO1xuXG5pbXBvcnQge1xuICBMUF9UT0tFTixcbiAgWlBfVE9LRU4sXG4gIFBBWU1FTlQsXG4gIFJFV0FSRFNfQ0FMQyxcbiAgTElRVUlESVRZX1ZBVUxULFxuICBDUF9UT0tFTixcbiAgWEJUQyxcbiAgQ09MTF9WQVVMVCxcbiAgRlVORElOR19WQVVMVCxcbiAgUDJQS0hfVkVSU0lPTixcbiAgSEFTSCxcbiAgcmVjaXBpZW50LFxuICBzZW5kZXIsXG4gIHByZWltYWdlLFxuICBFUlJPUlMsXG4gIE9ORV9EQVksXG4gIFNXQVBfUk9VVEVSLFxuICBDWUNMRV9MRU5HVEgsXG4gIENQX1JFV0FSRFNfVE9LRU4sXG4gIENPVkVSX1ZBVUxUXG59IGZyb20gXCIuLi9jb25maWcudHNcIjtcblxuY29uc3QgTUFYX01BVFVSSVRZX0xFTkdUSCA9IDE0NCAqIDM2NSAqIDM7IC8vIDMgeWVhcnNcblxuQ2xhcmluZXQudGVzdCh7XG4gIG5hbWU6IFwiTGlxdWlkaXR5IFByb3ZpZGVyIGNhbiB3aXRoZHJhdyBmdW5kcyBzZW50IHRvIGEgcG9vbFwiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfNyA9IGFjY291bnRzLmdldChcIndhbGxldF83XCIpIGFzIEFjY291bnQ7IC8vIERlbGVnYXRlXzFcbiAgICBsZXQgd2FsbGV0XzggPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfOFwiKSBhcyBBY2NvdW50OyAvLyBib3Jyb3dlcl8xXG5cbiAgICBsZXQgYXNzZXRNYXBzID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpO1xuICAgIGxldCBwb29sID0gbmV3IFBvb2woY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBsZXQgbG9hbiA9IG5ldyBMb2FuKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG5cbiAgICBcbiAgICBsZXQgZ2xvYmFscyA9IEdsb2JhbHMuZ2V0R2xvYmFscyhjaGFpbiwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykuZXhwZWN0VHVwbGUoKTtcbiAgICBsZXQgY29vbGRvd25UaW1lID0gY29uc3VtZVVpbnQoZ2xvYmFsc1tcImxwLWNvb2xkb3duLXBlcmlvZFwiXSk7XG4gICAgbGV0IHVuc3Rha2VXaW5kb3cgPSBjb25zdW1lVWludChnbG9iYWxzW1wibHAtdW5zdGFrZS13aW5kb3dcIl0pO1xuXG4gICAgbGV0IGJsb2NrID0gR2xvYmFscy5vbmJvYXJkVXNlckFkZHJlc3MoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuXG4gICAgcG9vbC5jcmVhdGVQb29sKHdhbGxldF83LmFkZHJlc3MsTFBfVE9LRU4sWlBfVE9LRU4sUEFZTUVOVCxSRVdBUkRTX0NBTEMsMTAwMCwxMDAwLDEwXzAwMF8wMDBfMDAwLDEwXzAwMF8wMDBfMDAwLDIsTUFYX01BVFVSSVRZX0xFTkdUSCxMSVFVSURJVFlfVkFVTFQsQ1BfVE9LRU4sQ09WRVJfVkFVTFQsQ1BfUkVXQVJEU19UT0tFTixYQlRDLHRydWUpO1xuICAgIHBvb2wuZmluYWxpemVQb29sKHdhbGxldF83LmFkZHJlc3MsIExQX1RPS0VOLCBaUF9UT0tFTiwgQ1BfVE9LRU4sIDApO1xuXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSxzdXBwbGllcklkLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDIsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKVxuICAgIF0pO1xuXG4gICAgY2hhaW4ubWluZUVtcHR5QmxvY2soY29uc3VtZVVpbnQocG9vbC5mdW5kc0NvbW1pdG1lbnRFbmRzQXRIZWlnaHQoMCwgd2FsbGV0XzEuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykucmVzdWx0KSk7XG4gICAgYmxvY2sgPSBwb29sLnNpZ25hbFdpdGhkcmF3YWwoTFBfVE9LRU4sMCwgMTAwXzAwMF8wMDAsIHdhbGxldF8xLmFkZHJlc3MpO1xuICAgIFxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKGNvb2xkb3duVGltZSk7XG4gICAgLy8gY29uc29sZS5sb2coY29vbGRvd25UaW1lKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIFN1cHBsaWVySW50ZXJmYWNlLndpdGhkcmF3KDEwMF8wMDBfMDAwLCBQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBMUF9UT0tFTixaUF9UT0tFTiwgMCxMSVFVSURJVFlfVkFVTFQsIFhCVEMsIHdhbGxldF8xLmFkZHJlc3MpXG4gICAgXSk7XG5cbiAgICBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4gICAgYXNzZXJ0RXF1YWxzKGFzc2V0TWFwcy5hc3NldHNbXCIuV3JhcHBlZC1CaXRjb2luLndyYXBwZWQtYml0Y29pblwiXVtcIlNUMVBRSFFLVjBSSlhaRlkxREdYOE1OU05ZVkUzVkdaSlNSVFBHWkdNLm1hZ2ljLXByb3RvY29sXCJdLCAxMDAwMDAwMDAwMCk7XG4gIH0sXG59KTtcblxuQ2xhcmluZXQudGVzdCh7XG4gIG5hbWU6IFwiTGlxdWlkaXR5IFByb3ZpZGVyIGNhbm5vdCB3aXRoZHJhdyBiZWZvcmUgbG9ja3VwIHBlcmlvZCBhbmQgYWZ0ZXIgdW5zdGFrZSB3aW5kb3cgZXhwaXJlZFwiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfNyA9IGFjY291bnRzLmdldChcIndhbGxldF83XCIpIGFzIEFjY291bnQ7IC8vIERlbGVnYXRlXzFcbiAgICBsZXQgd2FsbGV0XzggPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfOFwiKSBhcyBBY2NvdW50OyAvLyBib3Jyb3dlcl8xXG5cbiAgICBsZXQgYXNzZXRNYXBzID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpO1xuICAgIGxldCBwb29sID0gbmV3IFBvb2woY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBsZXQgbG9hbiA9IG5ldyBMb2FuKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG5cbiAgICBsZXQgYmxvY2sgPSBHbG9iYWxzLm9uYm9hcmRVc2VyQWRkcmVzcyhjaGFpbiwgd2FsbGV0XzguYWRkcmVzcywgUDJQS0hfVkVSU0lPTiwgSEFTSCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMixNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4gICAgXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSxzdXBwbGllcklkLCAxMDBfMDAwXzAwMCAqIGZlZSAvIDEwXzAwMCwyLGNoYWluLmJsb2NrSGVpZ2h0IC0gMSlcbiAgICBdKTtcblxuICAgIGxldCBnbG9iYWxzID0gR2xvYmFscy5nZXRHbG9iYWxzKGNoYWluLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RUdXBsZSgpO1xuICAgIGxldCBjb29sZG93blRpbWUgPSBjb25zdW1lVWludChnbG9iYWxzW1wibHAtY29vbGRvd24tcGVyaW9kXCJdKTtcbiAgICBsZXQgdW5zdGFrZVdpbmRvdyA9IGNvbnN1bWVVaW50KGdsb2JhbHNbXCJscC11bnN0YWtlLXdpbmRvd1wiXSk7XG5cbiAgICBibG9jayA9IHBvb2wuc2lnbmFsV2l0aGRyYXdhbChMUF9UT0tFTiwwLCAxMDBfMDAwXzAwMCwgd2FsbGV0XzEuYWRkcmVzcyk7XG5cbiAgICBjaGFpbi5taW5lRW1wdHlCbG9jayhjb29sZG93blRpbWUgLSAxMCk7XG4gICAgLy8gbG9ja3VwIHBlcmlvZCBpbiBwcm9ncmVzcyBldmVuIGFmdGVyIGNvb2xkb3duIHBlcmlvZFxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS53aXRoZHJhdygxMDBfMDAwXzAwMCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgTFBfVE9LRU4sWlBfVE9LRU4sIDAsIExJUVVJRElUWV9WQVVMVCwgWEJUQywgd2FsbGV0XzEuYWRkcmVzcyldKTtcbiAgICBibG9jay5yZWNlaXB0c1swXS5yZXN1bHQuZXhwZWN0RXJyKCkuZXhwZWN0VWludChFUlJPUlMuRVJSX0ZVTkRTX0xPQ0tFRCk7XG4gICAgXG4gICAgLy8gd2FpdCBhcmJpdHJhcmlyaWx5IGxhcmdlIG51bWJlclxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKChjb29sZG93blRpbWUgKiAyKSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2Uud2l0aGRyYXcoMTAwXzAwMF8wMDAsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIDAsIExQX1RPS0VOLFpQX1RPS0VOLCAwLCBMSVFVSURJVFlfVkFVTFQsIFhCVEMsIHdhbGxldF8xLmFkZHJlc3MpXSk7XG4gICAgYmxvY2sucmVjZWlwdHNbMF0ucmVzdWx0LmV4cGVjdEVycigpLmV4cGVjdFVpbnQoRVJST1JTLkVSUl9VTlNUQUtFX1dJTkRPV19FWFBJUkVEKTtcblxuICAgIHBvb2wuc2lnbmFsV2l0aGRyYXdhbChMUF9UT0tFTiwwLCAxMDBfMDAwXzAwMCwgd2FsbGV0XzEuYWRkcmVzcyk7XG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLndpdGhkcmF3KDEwMF8wMDBfMDAwLCBQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBMUF9UT0tFTixaUF9UT0tFTiwgMCwgTElRVUlESVRZX1ZBVUxULCBYQlRDLCB3YWxsZXRfMS5hZGRyZXNzKV0pO1xuXG4gICAgYmxvY2sucmVjZWlwdHNbMF0ucmVzdWx0LmV4cGVjdEVycigpLmV4cGVjdFVpbnQoRVJST1JTLkVSUl9DT09MRE9XTl9PTkdPSU5HKTtcblxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKChjb29sZG93blRpbWUpICsgdW5zdGFrZVdpbmRvdyk7XG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLndpdGhkcmF3KDEwMF8wMDBfMDAwLCBQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBMUF9UT0tFTixaUF9UT0tFTiwgMCwgTElRVUlESVRZX1ZBVUxULCBYQlRDLCB3YWxsZXRfMS5hZGRyZXNzKV0pO1xuICAgIGJsb2NrLnJlY2VpcHRzWzBdLnJlc3VsdC5leHBlY3RFcnIoKS5leHBlY3RVaW50KEVSUk9SUy5FUlJfVU5TVEFLRV9XSU5ET1dfRVhQSVJFRCk7XG5cbiAgICBwb29sLnNpZ25hbFdpdGhkcmF3YWwoTFBfVE9LRU4sMCwgMTAwXzAwMF8wMDAsIHdhbGxldF8xLmFkZHJlc3MpO1xuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKGNvb2xkb3duVGltZSk7XG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLndpdGhkcmF3KDEwMF8wMDBfMDAwLCBQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBMUF9UT0tFTixaUF9UT0tFTiwgMCwgTElRVUlESVRZX1ZBVUxULCBYQlRDLCB3YWxsZXRfMS5hZGRyZXNzKV0pO1xuXG4gICAgYmxvY2sucmVjZWlwdHNbMF0ucmVzdWx0LmV4cGVjdE9rKCk7XG4gIH0sXG59KTtcblxuQ2xhcmluZXQudGVzdCh7XG4gIG5hbWU6IFwiTGlxdWlkaXR5IFByb3ZpZGVyIGNhbiB3aXRoZHJhdyBaZXN0IGFuZCB4QlRDIHJld2FyZHNcIixcbiAgYXN5bmMgZm4oY2hhaW46IENoYWluLCBhY2NvdW50czogTWFwPHN0cmluZywgQWNjb3VudD4pIHtcbiAgICBsZXQgZGVwbG95ZXJXYWxsZXQgPSBhY2NvdW50cy5nZXQoXCJkZXBsb3llclwiKSBhcyBBY2NvdW50O1xuICAgIGxldCB3YWxsZXRfMSA9IGFjY291bnRzLmdldChcIndhbGxldF8xXCIpIGFzIEFjY291bnQ7IC8vIExQXzFcbiAgICBsZXQgd2FsbGV0XzcgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfN1wiKSBhcyBBY2NvdW50OyAvLyBEZWxlZ2F0ZV8xXG4gICAgbGV0IHdhbGxldF84ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzhcIikgYXMgQWNjb3VudDsgLy8gYm9ycm93ZXJfMVxuXG4gICAgbGV0IGFzc2V0TWFwcyA9IGNoYWluLmdldEFzc2V0c01hcHMoKTtcbiAgICBsZXQgcG9vbCA9IG5ldyBQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuXG4gICAgbGV0IGJsb2NrID0gR2xvYmFscy5vbmJvYXJkVXNlckFkZHJlc3MoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuICAgIC8vIGluaXRDb250cmFjdE93bmVycyhjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuXG4gICAgYmxvY2sgPSBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgYmxvY2sgPSBwb29sLmZpbmFsaXplUG9vbCh3YWxsZXRfNy5hZGRyZXNzLCBMUF9UT0tFTiwgWlBfVE9LRU4sIENQX1RPS0VOLCAwKTtcbiAgICBcbiAgICBsZXQgc3VwcGxpZXJJZCA9IGNvbnN1bWVVaW50KGNoYWluLm1pbmVCbG9jayhbLi4ucmVnaXN0ZXJTdXBwbGllclR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCBkZXBsb3llcldhbGxldC5hZGRyZXNzLCByZWNpcGllbnQsIDEwLCAxMCwgNTAwLCA1MDAsIFwic3VwcGxpZXItMVwiLCAxMF8wMDBfMDAwXzAwMCldKS5yZWNlaXB0c1sxXS5yZXN1bHQuZXhwZWN0T2soKSBhcyBzdHJpbmcpO1xuICAgIGxldCBmZWUgPSBOdW1iZXIoTWFnaWMuZ2V0U3VwcGxpZXIoY2hhaW4sIHN1cHBsaWVySWQsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLmV4cGVjdFNvbWUoKS5leHBlY3RUdXBsZSgpW1wiaW5ib3VuZC1mZWVcIl0uZXhwZWN0U29tZSgpKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF8xLmFkZHJlc3MpLFxuICAgICAgLi4uc2VuZEZ1bmRzUDJTSFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLDAsd2FsbGV0XzEuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwwLDEwMF8wMDBfMDAwLHByZWltYWdlLHN1cHBsaWVySWQsMTAwXzAwMF8wMDAgKiBmZWUgLyAxMF8wMDAsMSxjaGFpbi5ibG9ja0hlaWdodCAtIDEpXG4gICAgXSk7XG5cbiAgICBwb29sLmNyZWF0ZUxvYW4oTFBfVE9LRU4sMCwxMDBfMDAwXzAwMCxYQlRDLDAsWEJUQywzMDAsMTI5NjAsMTQ0MCxDT0xMX1ZBVUxULEZVTkRJTkdfVkFVTFQsd2FsbGV0XzguYWRkcmVzcyk7XG4gICAgcG9vbC5mdW5kTG9hbigwLExQX1RPS0VOLDAsTElRVUlESVRZX1ZBVUxULEZVTkRJTkdfVkFVTFQsWEJUQyx3YWxsZXRfNy5hZGRyZXNzKTtcbiAgICBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLnVwZGF0ZUxpcXVpZGl0eShjaGFpbi5ibG9ja0hlaWdodCwgMTAwXzAwMF8wMDAsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgU3VwcGxpZXJJbnRlcmZhY2UuZHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIDAsIFNXQVBfUk9VVEVSLFhCVEMsIHdhbGxldF84LmFkZHJlc3MpXG4gICAgXSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbLi4uZmluYWxpemVEcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgWEJUQywgSEFTSCwgOTk3MDAwMDAsIDAsIDI4LCB3YWxsZXRfOC5hZGRyZXNzLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pO1xuXG4gICAgY2hhaW4ubWluZUVtcHR5QmxvY2soMTMwMCk7XG5cbiAgICBsZXQgcmVndWxhclBheW1lbnREdWUgPSAoY29uc3VtZVVpbnQoUGF5bWVudC5nZXRDdXJyZW50TG9hblBheW1lbnQoY2hhaW4sIDAsIHdhbGxldF84LmFkZHJlc3MpKSk7XG4gICAgbGV0IGRlbGVnYXRlRmVlID0gTWF0aC5mbG9vcihjb25zdW1lVWludChwb29sLmdldFBvb2woMClbXCJkZWxlZ2F0ZS1mZWVcIl0pIC8gMTAwMDAgKiByZWd1bGFyUGF5bWVudER1ZSk7XG4gICAgbGV0IG1pblBheW1lbnRUb1JlY2VpdmUgPSAgTWF0aC5mbG9vcihyZWd1bGFyUGF5bWVudER1ZSAqIGZlZSAvIDEwXzAwMCk7XG4gICAgXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIod2FsbGV0XzguYWRkcmVzcyksXG4gICAgICAuLi5tYWtlUGF5bWVudFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCB3YWxsZXRfOC5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDEscmVndWxhclBheW1lbnREdWUsXCIwMFwiLHN1cHBsaWVySWQsbWluUGF5bWVudFRvUmVjZWl2ZSwwLCBQQVlNRU5ULCBMUF9UT0tFTixMSVFVSURJVFlfVkFVTFQsIDAsIENQX1RPS0VOLCBDUF9SRVdBUkRTX1RPS0VOLCBaUF9UT0tFTiwgU1dBUF9ST1VURVIsY2hhaW4uYmxvY2tIZWlnaHQgLSAxLFhCVEMpXG4gICAgXSk7XG5cbiAgICBjaGFpbi5taW5lRW1wdHlCbG9ja1VudGlsKGNvbnN1bWVVaW50KFplc3RSZXdhcmREaXN0LmdldE5leHRDeWNsZUhlaWdodCgwLCBjaGFpbiwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykucmVzdWx0LmV4cGVjdFNvbWUoKSBhcyBzdHJpbmcpKTtcbiAgICBjaGFpbi5taW5lRW1wdHlCbG9ja1VudGlsKGNvbnN1bWVVaW50KFplc3RSZXdhcmREaXN0LmdldE5leHRDeWNsZUhlaWdodCgwLCBjaGFpbiwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykucmVzdWx0LmV4cGVjdFNvbWUoKSBhcyBzdHJpbmcpKTtcbiAgICAvLyBjb25zb2xlLmxvZyhjb25zdW1lVWludChaZXN0UmV3YXJkRGlzdC5nZXROZXh0Q3ljbGVIZWlnaHQoMCwgY2hhaW4sIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLnJlc3VsdC5leHBlY3RTb21lKCkgYXMgc3RyaW5nKSk7XG5cbiAgICBibG9jayA9IHBvb2wud2l0aGRyYXdaZXN0UmV3YXJkcygwLFpQX1RPS0VOLCBSRVdBUkRTX0NBTEMsIHdhbGxldF8xLmFkZHJlc3MpO1xuXG4gICAgbGV0IGJlZm9yZSA9IChjaGFpbi5nZXRBc3NldHNNYXBzKCkuYXNzZXRzW1wiLldyYXBwZWQtQml0Y29pbi53cmFwcGVkLWJpdGNvaW5cIl1bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5tYWdpYy1wcm90b2NvbFwiXSk7XG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLndpdGhkcmF3UmV3YXJkcyhQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBMUF9UT0tFTiwgMCwgTElRVUlESVRZX1ZBVUxULCBYQlRDLCB3YWxsZXRfMS5hZGRyZXNzKV0pO1xuICAgIGxldCByZXN1bHQgPSBjaGFpbi5jYWxsUmVhZE9ubHlGbihcImxwLXRva2VuXCIsIFwid2l0aGRyYXdhYmxlLWZ1bmRzLW9mXCIsIFsgdHlwZXMudWludCgwKSwgdHlwZXMucHJpbmNpcGFsKHdhbGxldF8xLmFkZHJlc3MpIF0sIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuICAgIFxuICAgIGxldCBkaWZmZXJlbmNlID0gKGNvbnN1bWVVaW50KFN0cmluZyhibG9jay5yZWNlaXB0c1swXS5yZXN1bHQuZXhwZWN0T2soKSkpKTtcbiAgICBsZXQgYWZ0ZXIgPSAoY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdW1wiU1QxUFFIUUtWMFJKWFpGWTFER1g4TU5TTllWRTNWR1pKU1JUUEdaR00ubWFnaWMtcHJvdG9jb2xcIl0pO1xuICAgIFxuICAgIGFzc2VydEVxdWFscyhhZnRlciAtIGJlZm9yZSwgZGlmZmVyZW5jZSk7XG4gIH0sXG59KTtcblxuLy8gQ2xhcmluZXQudGVzdCh7XG4vLyAgIG5hbWU6IFwiTGlxdWlkaXR5IFByb3ZpZGVyXCIsXG4vLyAgIGFzeW5jIGZuKGNoYWluOiBDaGFpbiwgYWNjb3VudHM6IE1hcDxzdHJpbmcsIEFjY291bnQ+KSB7XG4vLyAgICAgbGV0IGRlcGxveWVyV2FsbGV0ID0gYWNjb3VudHMuZ2V0KFwiZGVwbG95ZXJcIikgYXMgQWNjb3VudDtcbi8vICAgICBsZXQgd2FsbGV0XzEgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfMVwiKSBhcyBBY2NvdW50OyAvLyBMUF8xXG4vLyAgICAgbGV0IHdhbGxldF83ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzdcIikgYXMgQWNjb3VudDsgLy8gRGVsZWdhdGVfMVxuLy8gICAgIGxldCB3YWxsZXRfOCA9IGFjY291bnRzLmdldChcIndhbGxldF84XCIpIGFzIEFjY291bnQ7IC8vIGJvcnJvd2VyXzFcblxuLy8gICAgIGxldCBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4vLyAgICAgbGV0IHBvb2wgPSBuZXcgUG9vbChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuLy8gICAgIGxldCBsb2FuID0gbmV3IExvYW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcblxuLy8gICAgIGxldCBibG9jayA9IHJ1bkJvb3RzdHJhcChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuXG4vLyAgICAgYmxvY2sgPSBHbG9iYWxzLm9uYm9hcmRVc2VyQWRkcmVzcyhjaGFpbiwgd2FsbGV0XzguYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG4gICAgXG4vLyAgICAgaW5pdENvbnRyYWN0T3duZXJzKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG5cbi8vICAgICBibG9jayA9IHBvb2wuY3JlYXRlUG9vbCh3YWxsZXRfNy5hZGRyZXNzLExQX1RPS0VOLDAsWlBfVE9LRU4sUEFZTUVOVCxSRVdBUkRTX0NBTEMsMTAwMCwxMDAwLDEwXzAwMF8wMDBfMDAwLDEsTElRVUlESVRZX1ZBVUxULENQX1RPS0VOLENQX1JFV0FSRFNfVE9LRU4sWEJUQyx0cnVlKTtcbi8vICAgICBjb25zb2xlLmxvZyhibG9jayk7XG4vLyAgICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4vLyAgICAgY2hhaW4ubWluZUVtcHR5QmxvY2soMik7XG5cbi8vICAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4vLyAgICAgICAuLi5yZWdpc3RlclN1cHBsaWVyVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHJlY2lwaWVudCwgMTAsIDEwLCA1MDAsIDUwMCwgXCJzdXBwbGllci0xXCIsIDEwXzAwMF8wMDBfMDAwKSxcbi8vICAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF8xLmFkZHJlc3MpLFxuLy8gICAgICAgLi4uc2VuZEZ1bmRzUDJTSFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLDAsd2FsbGV0XzEuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwwLDEwMF8wMDBfMDAwLHByZWltYWdlLDAsMSwyOSlcbi8vICAgICBdKTtcblxuLy8gICAgIHBvb2wuY3JlYXRlTG9hbihMUF9UT0tFTiwwLDEwMF8wMDBfMDAwLDAsWEJUQywzMDAsMTI5NjAsMTQ0MCxDT0xMX1ZBVUxULEZVTkRJTkdfVkFVTFQsd2FsbGV0XzguYWRkcmVzcyk7XG4vLyAgICAgcG9vbC5mdW5kTG9hbigwLExQX1RPS0VOLDAsTElRVUlESVRZX1ZBVUxULFhCVEMsd2FsbGV0XzcuYWRkcmVzcyk7XG4vLyAgICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuLy8gICAgICAgU3VwcGxpZXJJbnRlcmZhY2UuZHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIDAsIFhCVEMsIHdhbGxldF84LmFkZHJlc3MpXG4vLyAgICAgXSk7XG5cbi8vICAgICBjaGFpbi5taW5lRW1wdHlCbG9jaygxMCk7XG5cbi8vICAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4vLyAgICAgICAuLi5maW5hbGl6ZU91dGJvdW5kVHhzKEhBU0gsIDk5MDAwMDAwLCAwLCA0Mywgd2FsbGV0XzguYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcylcbi8vICAgICBdKTtcblxuLy8gICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKDEzMDApO1xuICAgIFxuLy8gICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbi8vICAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF84LmFkZHJlc3MpLFxuLy8gICAgICAgLi4ubWFrZVBheW1lbnRUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgd2FsbGV0XzguYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwxLDgyMTkxLFwiMDBcIiwwLDAsIFBBWU1FTlQsIExQX1RPS0VOLExJUVVJRElUWV9WQVVMVCwgMCwgQ1BfVE9LRU4sIENQX1JFV0FSRFNfVE9LRU4sIFpQX1RPS0VOLCBTV0FQX1JPVVRFUiwxMzQzLCBYQlRDKVxuLy8gICAgIF0pO1xuXG4vLyAgICAgY2hhaW4ubWluZUVtcHR5QmxvY2soNjk3KTtcblxuLy8gICAgIGJsb2NrID0gcG9vbC53aXRoZHJhd1plc3RSZXdhcmRzKDAsWlBfVE9LRU4sIFJFV0FSRFNfQ0FMQywgd2FsbGV0XzEuYWRkcmVzcyk7XG4vLyAgICAgLy8gY29uc29sZS5sb2coYmxvY2sucmVjZWlwdHNbMF0uZXZlbnRzKTtcbiAgICBcbi8vICAgICBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4vLyAgICAgLy8gVE9ETzogY29ycmVjdCB0byB1c2UgY3ljbGUgcmV3YXJkc1xuLy8gICAgIC8vIGFzc2VydChhc3NldE1hcHMuYXNzZXRzW1wiLnpnZTAwMC1nb3Zlcm5hbmNlLXRva2VuLnplc3RcIl1bd2FsbGV0XzEuYWRkcmVzc10gPiAwKTtcblxuLy8gICAgIGxldCBiZWZvcmUgPSAoY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdW1wiU1QxUFFIUUtWMFJKWFpGWTFER1g4TU5TTllWRTNWR1pKU1JUUEdaR00ubWFnaWMtcHJvdG9jb2xcIl0pO1xuLy8gICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbi8vICAgICAgIFN1cHBsaWVySW50ZXJmYWNlLndpdGhkcmF3UmV3YXJkcyhQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBMUF9UT0tFTiwgMCwgTElRVUlESVRZX1ZBVUxULCBYQlRDLCB3YWxsZXRfMS5hZGRyZXNzKVxuLy8gICAgIF0pO1xuLy8gICAgIGxldCByZXN1bHQgPSBjaGFpbi5jYWxsUmVhZE9ubHlGbihcImxwLXRva2VuXCIsIFwid2l0aGRyYXdhYmxlLWZ1bmRzLW9mXCIsIFsgdHlwZXMudWludCgwKSwgdHlwZXMucHJpbmNpcGFsKHdhbGxldF8xLmFkZHJlc3MpIF0sIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuLy8gICAgIC8vIGNvbnNvbGUubG9nKGNoYWluLmdldEFzc2V0c01hcHMoKSk7XG4vLyAgICAgbGV0IGRpZmZlcmVuY2UgPSAoY29uc3VtZVVpbnQoU3RyaW5nKGJsb2NrLnJlY2VpcHRzWzBdLnJlc3VsdC5leHBlY3RPaygpKSkpO1xuLy8gICAgIGxldCBhZnRlciA9IChjaGFpbi5nZXRBc3NldHNNYXBzKCkuYXNzZXRzW1wiLldyYXBwZWQtQml0Y29pbi53cmFwcGVkLWJpdGNvaW5cIl1bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5tYWdpYy1wcm90b2NvbFwiXSk7XG4gICAgXG4vLyAgICAgYXNzZXJ0RXF1YWxzKGFmdGVyIC0gYmVmb3JlLCBkaWZmZXJlbmNlKTtcbi8vICAgfSxcbi8vIH0pOyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx3QkFBd0I7QUFDeEIsU0FBUyxRQUFRLEVBQXNCLEtBQUssUUFBUSw4Q0FBOEMsQ0FBQztBQUNuRyxTQUFTLFlBQVksUUFBZ0Isa0RBQWtELENBQUM7QUFDeEYsU0FBUyxJQUFJLFFBQVEsK0JBQStCLENBQUM7QUFFckQsU0FBUyxJQUFJLFFBQVEsK0JBQStCLENBQUM7QUFJckQsU0FBUyxLQUFLLFFBQVEsZ0NBQWdDLENBQUM7QUFDdkQsU0FBUyxPQUFPLFFBQVEsNkJBQTZCLENBQUM7QUFDdEQsU0FBUyxpQkFBaUIsUUFBUSx3Q0FBd0MsQ0FBQztBQUMzRSxTQUFTLGNBQWMsUUFBUSxvQ0FBb0MsQ0FBQztBQUNw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