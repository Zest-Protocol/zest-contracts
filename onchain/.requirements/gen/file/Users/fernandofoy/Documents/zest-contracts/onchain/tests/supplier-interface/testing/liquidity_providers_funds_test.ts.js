// deno-lint-ignore-file
import { Clarinet } from 'https://deno.land/x/clarinet@v1.0.3/index.ts';
import { assertEquals } from 'https://deno.land/std@0.159.0/testing/asserts.ts';
import { Pool } from '../../interfaces/pool-v1-0.ts';
import { CoverPool } from '../../interfaces/cover-pool-v1-0.ts';
import { Loan } from '../../interfaces/loan-v1-0.ts';
import { LPToken } from '../../interfaces/lp-token.ts';
import { CPToken } from '../../interfaces/cp-token.ts';
import { TestUtils } from '../../interfaces/test-utils.ts';
import { Magic } from '../../interfaces/magic_real.ts';
import { Globals } from '../../interfaces/globals.ts';
import { SupplierInterface } from '../../interfaces/supplier_interface.ts';
import { SwapRouter } from '../../interfaces/swapRouter.ts';
import { getHash, getTxId, getExpiration, swapperBuff, generateP2SHTx } from "../util.ts";
import { runBootstrap, sendFundsP2SHTxs, registerSupplierTxs, consumeUint, getBP, finalizeDrawdown } from '../../interfaces/common.ts';
import { LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, LIQUIDITY_VAULT, CP_TOKEN, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, XBTC, recipient, sender, preimage, CP_REWARDS_TOKEN, ERRORS, SWAP_ROUTER, XUSD_CONTRACT_SIMNET, USDA_CONTRACT_SIMNET, COVER_VAULT } from "../config.ts";
const MAX_MATURITY_LENGTH = 144 * 365 * 3; // 3 years
Clarinet.test({
    name: "Liquidity providers can send funds to the liquidity vault",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_2 = accounts.get("wallet_2"); // LP_2
        let wallet_7 = accounts.get("wallet_7"); // DELEGATE_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        // let block = runBootstrap(chain, deployerWallet);
        // bootstrapApprovedContracts(chain, deployerWallet);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        let block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1),
            Magic.initializeSwapper(wallet_2.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_2.address, sender, recipient, 500, 1, 200_000_000, preimage, supplierId, 200_000_000 * fee / 10_000, 1, chain.blockHeight - 1), 
        ]);
        assetMaps = chain.getAssetsMaps();
        assertEquals(assetMaps.assets[".Wrapped-Bitcoin.wrapped-bitcoin"][`${deployerWallet.address}.liquidity-vault-v1-0`], 300000000);
    }
});
Clarinet.test({
    name: "Liquidity providers can send funds to the liquidity vault multiple times. Add extra time to the lockup period.",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_2 = accounts.get("wallet_2"); // LP_2
        let wallet_7 = accounts.get("wallet_7"); // DELEGATE_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, 0, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1),
            Magic.initializeSwapper(wallet_2.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_2.address, sender, recipient, 500, 1, 200_000_000, preimage, 0, 200_000_000 * fee / 10_000, 1, chain.blockHeight - 1), 
        ]);
        chain.mineEmptyBlock(10);
        block = chain.mineBlock([
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 200_000_000, "00", supplierId, 200_000_000 * fee / 10_000, 2, chain.blockHeight - 1)
        ]);
        let fundsSent = pool.getFundsSent(wallet_1.address, 0).expectOk().expectTuple();
        assertEquals(consumeUint(fundsSent.factor), 1);
    }
});
Clarinet.test({
    name: "Borrower can drawdown funds in pool",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, 0, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        const LOAN_AMOUNT = 100_000_000;
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 0, 28, wallet_8.address, deployerWallet.address)
        ]);
        assetMaps = chain.getAssetsMaps();
        assertEquals(assetMaps.assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.magic-protocol"], 9999700000);
        chain.mineEmptyBlock(10);
        // block = chain.mineBlock([...finalizeOutboundTxs(HASH, 99000000, 0, 58010, wallet_8.address, deployerWallet.address)]);
        let globals = Globals.getGlobals(chain, deployerWallet.address).expectTuple();
        let poolParams = pool.getPool(0);
        let treasuryFee = getBP(LOAN_AMOUNT, consumeUint(globals["treasury-fee"]));
        let investorFee = getBP(LOAN_AMOUNT, consumeUint(globals["investor-fee"]));
        let delegateFee = getBP(investorFee, consumeUint(poolParams["delegate-fee"]));
        let lpPortion = investorFee - delegateFee;
        block.receipts[1].result.expectOk();
        assertEquals(assetMaps.assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.protocol-treasury"], treasuryFee);
    // assertEquals(assetMaps.assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.liquidity-vault-v1-0"], lpPortion);
    // assertEquals(assetMaps.assets[".Wrapped-Bitcoin.wrapped-bitcoin"][`${wallet_7.address}`], delegateFee);
    }
});
Clarinet.test({
    name: "Pool Delegate can unwind a funded loan",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        const LOAN_AMOUNT = 100_000_000;
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        block = pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        chain.mineEmptyBlock(consumeUint(Globals.getGlobals(chain, deployerWallet.address).expectTuple()["funding-period"]) + 1);
        block = pool.unwind(0, LP_TOKEN, 0, FUNDING_VAULT, LIQUIDITY_VAULT, XBTC, wallet_7.address);
        assertEquals(chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.funding-vault"], 0);
        assertEquals(chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.liquidity-vault-v1-0"], 100_000_000);
        assertEquals(consumeUint(pool.getPool(0)["principal-out"]), 0);
        assertEquals(loan.getLoanData(0).result.expectTuple()["status"], "0x07");
    }
});
Clarinet.test({
    name: "Borrower cannot drawdown after loan was unwinded",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        const LOAN_AMOUNT = 100_000_000;
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        block = pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        chain.mineEmptyBlock(consumeUint(Globals.getGlobals(chain, deployerWallet.address).expectTuple()["funding-period"]) + 1);
        block = pool.unwind(0, LP_TOKEN, 0, FUNDING_VAULT, LIQUIDITY_VAULT, XBTC, wallet_7.address);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        // ERR_FUNDING_EXPIRED
        block.receipts[0].result.expectErr().expectUint(ERRORS.ERR_FUNDING_EXPIRED);
    }
});
Clarinet.test({
    name: "Drawdown can be cancelled if funds have not been confirmed as sent.",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, supplierId, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        const LOAN_AMOUNT = 100_000_000;
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        chain.mineEmptyBlock(250);
        block = chain.mineBlock([
            SupplierInterface.cancelDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, 0, deployerWallet.address)
        ]);
        let loanResult = loan.getLoanData(0).result.expectTuple();
        let poolResult = pool.getPool(0);
        assertEquals(loanResult["status"], "0x01");
        assertEquals(poolResult["principal-out"], "u100000000");
    }
});
Clarinet.test({
    name: "Drawdown can be cancelled if funds have not been confirmed as sent. Then, borrower can retry drawdown process",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let wallet_1 = accounts.get("wallet_1"); // LP_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        block = chain.mineBlock([
            Magic.initializeSwapper(wallet_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, wallet_1.address, sender, recipient, 500, 0, 100_000_000, preimage, 0, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        const LOAN_AMOUNT = 100_000_000;
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, 0, XBTC, 300, 12960, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        let beforeDrawdown = chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"];
        let loanBeforeDrawdown = loan.getLoanData(0).result;
        chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, 100_000_000, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        // TRY TO FINALIZEDRAWDOWN BUT FAIL
        chain.mineEmptyBlock(250);
        block = chain.mineBlock([
            SupplierInterface.cancelDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, 0, deployerWallet.address)
        ]);
        let afterCancelledDrawdown = chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"];
        let loanAfterDrawdown = loan.getLoanData(0).result;
        assertEquals(beforeDrawdown["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.liquidity-vault-v1-0"], afterCancelledDrawdown["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.liquidity-vault-v1-0"]);
        assertEquals(beforeDrawdown["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.supplier-interface"], afterCancelledDrawdown["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.supplier-interface"]);
        assertEquals(loanBeforeDrawdown, loanAfterDrawdown);
        // console.log(chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        assertEquals(block.receipts[0].result.expectOk().expectTuple()["sats"], "u99700000");
        block = chain.mineBlock([
            ...finalizeDrawdown(0, LP_TOKEN, 0, XBTC, COLL_VAULT, FUNDING_VAULT, XBTC, HASH, 99700000, 1, 28, wallet_8.address, deployerWallet.address)
        ]);
        assertEquals(chain.getAssetsMaps().assets[".Wrapped-Bitcoin.wrapped-bitcoin"][`${deployerWallet.address}.protocol-treasury`], 300000);
        block.receipts[1].result.expectOk();
    }
});
Clarinet.test({
    name: "When drawdown is called, collateral is required for the loan and sent to the collateral vault.",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let LP_1 = accounts.get("wallet_1"); // LP_1
        let LP_2 = accounts.get("wallet_2"); // LP_2
        let cover = accounts.get("wallet_3"); // Cover_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let coverPool = new CoverPool(chain, deployerWallet);
        let CpToken = new CPToken(chain, deployerWallet);
        let LpToken = new LPToken(chain, deployerWallet);
        let block = runBootstrap(chain, deployerWallet);
        block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        block = Globals.addCollateralContract(chain, USDA_CONTRACT_SIMNET, deployerWallet.address);
        block = Globals.addCollateralContract(chain, XUSD_CONTRACT_SIMNET, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        pool.enableCover(LP_TOKEN, CP_TOKEN, 0, wallet_7.address);
        block = coverPool.sendFunds(CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, 0, 100_000_000_000n, 10, REWARDS_CALC, cover.address);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        const LP_1_amount = 100_000_000;
        block = chain.mineBlock([
            Magic.initializeSwapper(LP_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, LP_1.address, sender, recipient, 500, 0, LP_1_amount, preimage, 0, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        const LOAN_AMOUNT = 100_000_000;
        const LOAN_RATIO = 5000;
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, LOAN_RATIO, XUSD_CONTRACT_SIMNET, 300, 5760, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        // console.log(chain.getAssetsMaps().assets[".Wrapped-USD.wrapped-usd"]);
        block = pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        block = chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, LOAN_AMOUNT, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XUSD_CONTRACT_SIMNET, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        let collAmount = Math.floor(consumeUint(SwapRouter.getXgivenY(XUSD_CONTRACT_SIMNET, XBTC, LOAN_AMOUNT, chain, deployerWallet.address).result.expectOk()) * LOAN_RATIO / 10_000);
        assertEquals(chain.getAssetsMaps().assets[".Wrapped-USD.wrapped-usd"][`${deployerWallet.address}.coll-vault`], collAmount);
    }
});
Clarinet.test({
    name: "When drawdown is called and is unable to go through Magic, cancel-drawdown returns collateral.",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let LP_1 = accounts.get("wallet_1"); // LP_1
        let LP_2 = accounts.get("wallet_2"); // LP_2
        let cover = accounts.get("wallet_3"); // Cover_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let coverPool = new CoverPool(chain, deployerWallet);
        let CpToken = new CPToken(chain, deployerWallet);
        let LpToken = new LPToken(chain, deployerWallet);
        let block = runBootstrap(chain, deployerWallet);
        block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        block = Globals.addCollateralContract(chain, USDA_CONTRACT_SIMNET, deployerWallet.address);
        block = Globals.addCollateralContract(chain, XUSD_CONTRACT_SIMNET, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        pool.enableCover(LP_TOKEN, CP_TOKEN, 0, wallet_7.address);
        block = coverPool.sendFunds(CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, 0, 100_000_000_000n, 10, REWARDS_CALC, cover.address);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        const LP_1_amount = 100_000_000;
        block = chain.mineBlock([
            Magic.initializeSwapper(LP_1.address),
            ...sendFundsP2SHTxs(deployerWallet.address, 0, LP_1.address, sender, recipient, 500, 0, LP_1_amount, preimage, 0, 100_000_000 * fee / 10_000, 1, chain.blockHeight - 1)
        ]);
        const LOAN_AMOUNT = 100_000_000;
        const LOAN_RATIO = 5000;
        block = pool.createLoan(LP_TOKEN, 0, LOAN_AMOUNT, XBTC, LOAN_RATIO, XUSD_CONTRACT_SIMNET, 300, 5760, 1440, COLL_VAULT, FUNDING_VAULT, wallet_8.address);
        // console.log(chain.getAssetsMaps().assets[".Wrapped-USD.wrapped-usd"]);
        block = pool.fundLoan(0, LP_TOKEN, 0, LIQUIDITY_VAULT, FUNDING_VAULT, XBTC, wallet_7.address);
        block = chain.mineBlock([
            SupplierInterface.updateLiquidity(chain.blockHeight, LOAN_AMOUNT, deployerWallet.address)
        ]);
        block = chain.mineBlock([
            SupplierInterface.drawdown(0, LP_TOKEN, 0, XUSD_CONTRACT_SIMNET, COLL_VAULT, FUNDING_VAULT, P2PKH_VERSION, HASH, 0, SWAP_ROUTER, XBTC, wallet_8.address)
        ]);
        chain.mineEmptyBlock(250);
        block = chain.mineBlock([
            SupplierInterface.cancelDrawdown(0, LP_TOKEN, 0, XUSD_CONTRACT_SIMNET, COLL_VAULT, FUNDING_VAULT, XBTC, 0, deployerWallet.address)
        ]);
    // let collAmount = Math.floor(consumeUint(SwapRouter.getXgivenY(XUSD_CONTRACT_SIMNET, XBTC, LOAN_AMOUNT, chain, deployerWallet.address).result.expectOk() as string) * LOAN_RATIO / 10_000);
    // assertEquals(chain.getAssetsMaps().assets[".Wrapped-USD.wrapped-usd"][`${deployerWallet.address}.coll-vault`], collAmount);
    }
});
Clarinet.test({
    name: "Complete swap in case of leaked preimage",
    async fn (chain, accounts) {
        let deployerWallet = accounts.get("deployer");
        let LP_1 = accounts.get("wallet_1"); // LP_1
        let LP_2 = accounts.get("wallet_2"); // LP_2
        let cover = accounts.get("wallet_3"); // Cover_1
        let wallet_7 = accounts.get("wallet_7"); // Delegate_1
        let wallet_8 = accounts.get("wallet_8"); // borrower_1
        let assetMaps = chain.getAssetsMaps();
        let pool = new Pool(chain, deployerWallet);
        let loan = new Loan(chain, deployerWallet);
        let coverPool = new CoverPool(chain, deployerWallet);
        let CpToken = new CPToken(chain, deployerWallet);
        let LpToken = new LPToken(chain, deployerWallet);
        let block = runBootstrap(chain, deployerWallet);
        block = Globals.onboardUserAddress(chain, wallet_8.address, P2PKH_VERSION, HASH, deployerWallet.address);
        block = Globals.addCollateralContract(chain, USDA_CONTRACT_SIMNET, deployerWallet.address);
        block = Globals.addCollateralContract(chain, XUSD_CONTRACT_SIMNET, deployerWallet.address);
        pool.createPool(wallet_7.address, LP_TOKEN, ZP_TOKEN, PAYMENT, REWARDS_CALC, 1000, 1000, 10_000_000_000, 10_000_000_000, 1, MAX_MATURITY_LENGTH, LIQUIDITY_VAULT, CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, true);
        pool.finalizePool(wallet_7.address, LP_TOKEN, ZP_TOKEN, CP_TOKEN, 0);
        pool.enableCover(LP_TOKEN, CP_TOKEN, 0, wallet_7.address);
        block = coverPool.sendFunds(CP_TOKEN, COVER_VAULT, CP_REWARDS_TOKEN, XBTC, 0, 100_000_000_000n, 10, REWARDS_CALC, cover.address);
        let supplierId = consumeUint(chain.mineBlock([
            ...registerSupplierTxs(deployerWallet.address, deployerWallet.address, recipient, 10, 10, 500, 500, "supplier-1", 10_000_000_000)
        ]).receipts[1].result.expectOk());
        let fee = Number(Magic.getSupplier(chain, supplierId, deployerWallet.address).expectSome().expectTuple()["inbound-fee"].expectSome());
        const LP_1_amount = 100_000_000;
        const expiration = 500;
        const swapperId = 0;
        const outputValue = LP_1_amount;
        const minToReceive = LP_1_amount * fee / 10_000;
        let hash = getHash(preimage);
        let tx1 = generateP2SHTx(sender, recipient, expiration, hash, swapperId, outputValue);
        let txid1 = getTxId(tx1);
        block = chain.mineBlock([
            Magic.initializeSwapper(LP_1.address),
            TestUtils.setMinedTx(txid1, deployerWallet.address),
            // called by different Stacks address
            SupplierInterface.sendFunds({
                header: "",
                height: chain.blockHeight - 1
            }, [], tx1, {
                "tx-index": 0,
                "hashes": [],
                "tree-depth": 0
            }, 0, sender, recipient, getExpiration(expiration), hash, swapperBuff(swapperId), supplierId, minToReceive, LP_1.address),
            Magic.finalizeSwap(txid1, preimage, wallet_8.address),
            // called by wrong stacks address
            SupplierInterface.sendFundsFinalizeCompleted(txid1, 1, LP_TOKEN, 0, ZP_TOKEN, LIQUIDITY_VAULT, XBTC, REWARDS_CALC, wallet_8.address),
            // done by correct address
            SupplierInterface.sendFundsFinalizeCompleted(txid1, 1, LP_TOKEN, 0, ZP_TOKEN, LIQUIDITY_VAULT, XBTC, REWARDS_CALC, LP_1.address),
            SupplierInterface.sendFundsFinalizeCompleted(txid1, 1, LP_TOKEN, 0, ZP_TOKEN, LIQUIDITY_VAULT, XBTC, REWARDS_CALC, LP_1.address), 
        ]);
        block.receipts[4].result.expectErr().expectUint(1001);
        block.receipts[5].result.expectOk().expectUint(LP_1_amount);
        block.receipts[6].result.expectErr().expectUint(1004);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvZmVybmFuZG9mb3kvRG9jdW1lbnRzL3plc3QtY29udHJhY3RzL29uY2hhaW4vdGVzdHMvc3VwcGxpZXItaW50ZXJmYWNlL3Rlc3RpbmcvbGlxdWlkaXR5X3Byb3ZpZGVyc19mdW5kc190ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGRlbm8tbGludC1pZ25vcmUtZmlsZVxuaW1wb3J0IHsgQ2xhcmluZXQsIFR4LCBDaGFpbiwgQWNjb3VudCwgdHlwZXMgfSBmcm9tICdodHRwczovL2Rlbm8ubGFuZC94L2NsYXJpbmV0QHYxLjAuMy9pbmRleC50cyc7XG5pbXBvcnQgeyBhc3NlcnRFcXVhbHMsIGFzc2VydCB9IGZyb20gJ2h0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE1OS4wL3Rlc3RpbmcvYXNzZXJ0cy50cyc7XG5pbXBvcnQgeyBQb29sIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9wb29sLXYxLTAudHMnO1xuaW1wb3J0IHsgQ292ZXJQb29sIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9jb3Zlci1wb29sLXYxLTAudHMnO1xuaW1wb3J0IHsgTG9hbiB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvbG9hbi12MS0wLnRzJztcbmltcG9ydCB7IExQVG9rZW4gfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2xwLXRva2VuLnRzJztcbmltcG9ydCB7IENQVG9rZW4gfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2NwLXRva2VuLnRzJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJodHRwczovL2Rlbm8ubGFuZC9zdGRAMC4xNTkuMC9ub2RlL2J1ZmZlci50c1wiO1xuaW1wb3J0IHsgVGVzdFV0aWxzIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy90ZXN0LXV0aWxzLnRzJztcbmltcG9ydCB7IE1hZ2ljIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9tYWdpY19yZWFsLnRzJztcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2dsb2JhbHMudHMnO1xuaW1wb3J0IHsgU3VwcGxpZXJJbnRlcmZhY2UgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL3N1cHBsaWVyX2ludGVyZmFjZS50cyc7XG5pbXBvcnQgeyBTd2FwUm91dGVyIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9zd2FwUm91dGVyLnRzJztcbmltcG9ydCB7IFxuICBnZXRIYXNoLFxuICBnZXRSZXZlcnNlVHhJZCxcbiAgZ2V0VHhJZCxcbiAgZ2V0RXhwaXJhdGlvbixcbiAgc3dhcHBlckJ1ZmYsXG4gIGdlbmVyYXRlUDJQS0hUeCxcbmdlbmVyYXRlUDJTSFR4XG59IGZyb20gXCIuLi91dGlsLnRzXCI7XG5cbmltcG9ydCB7XG4gIHNldENvbnRyYWN0T3duZXIsXG4gIGluaXRDb250cmFjdE93bmVycyxcbiAgYm9vdHN0cmFwQXBwcm92ZWRDb250cmFjdHMsXG4gIGFkZEFwcHJvdmVkQ29udHJhY3QsXG4gIHJ1bkJvb3RzdHJhcCxcbiAgYWRkQm9ycm93ZXIsXG4gIHNlbmRGdW5kc1AyU0hUeHMsXG4gIHJlZ2lzdGVyU3VwcGxpZXJUeHMsXG4gIGZpbmFsaXplT3V0Ym91bmRUeHMsXG4gIGNvbnN1bWVVaW50LFxuICBnZXRCUCxcbiAgZmluYWxpemVEcmF3ZG93blxufSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2NvbW1vbi50cyc7XG5cbmltcG9ydCB7XG4gIExQX1RPS0VOLFxuICBaUF9UT0tFTixcbiAgUEFZTUVOVCxcbiAgUkVXQVJEU19DQUxDLFxuICBMSVFVSURJVFlfVkFVTFQsXG4gIENQX1RPS0VOLFxuICBDT0xMX1ZBVUxULFxuICBGVU5ESU5HX1ZBVUxULFxuICBQMlBLSF9WRVJTSU9OLFxuICBIQVNILFxuICBYQlRDLFxuICByZWNpcGllbnQsXG4gIHNlbmRlcixcbiAgcHJlaW1hZ2UsXG4gIE9ORV9EQVksXG4gIENQX1JFV0FSRFNfVE9LRU4sXG4gIEVSUk9SUyxcbiAgU1dBUF9ST1VURVIsXG4gIFhVU0RfQ09OVFJBQ1RfU0lNTkVULFxuICBVU0RBX0NPTlRSQUNUX1NJTU5FVCxcbiAgQ09WRVJfVkFVTFRcbn0gZnJvbSBcIi4uL2NvbmZpZy50c1wiO1xuXG5jb25zdCBNQVhfTUFUVVJJVFlfTEVOR1RIID0gMTQ0ICogMzY1ICogMzsgLy8gMyB5ZWFyc1xuXG5DbGFyaW5ldC50ZXN0KHtcbiAgbmFtZTogXCJMaXF1aWRpdHkgcHJvdmlkZXJzIGNhbiBzZW5kIGZ1bmRzIHRvIHRoZSBsaXF1aWRpdHkgdmF1bHRcIixcbiAgYXN5bmMgZm4oY2hhaW46IENoYWluLCBhY2NvdW50czogTWFwPHN0cmluZywgQWNjb3VudD4pIHtcbiAgICBsZXQgZGVwbG95ZXJXYWxsZXQgPSBhY2NvdW50cy5nZXQoXCJkZXBsb3llclwiKSBhcyBBY2NvdW50O1xuICAgIGxldCB3YWxsZXRfMSA9IGFjY291bnRzLmdldChcIndhbGxldF8xXCIpIGFzIEFjY291bnQ7IC8vIExQXzFcbiAgICBsZXQgd2FsbGV0XzIgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfMlwiKSBhcyBBY2NvdW50OyAvLyBMUF8yXG4gICAgbGV0IHdhbGxldF83ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzdcIikgYXMgQWNjb3VudDsgLy8gREVMRUdBVEVfMVxuICAgIGxldCBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4gICAgbGV0IHBvb2wgPSBuZXcgUG9vbChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBsb2FuID0gbmV3IExvYW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcblxuICAgIC8vIGxldCBibG9jayA9IHJ1bkJvb3RzdHJhcChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIC8vIGJvb3RzdHJhcEFwcHJvdmVkQ29udHJhY3RzKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG5cbiAgICBsZXQgc3VwcGxpZXJJZCA9IGNvbnN1bWVVaW50KGNoYWluLm1pbmVCbG9jayhbLi4ucmVnaXN0ZXJTdXBwbGllclR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCBkZXBsb3llcldhbGxldC5hZGRyZXNzLCByZWNpcGllbnQsIDEwLCAxMCwgNTAwLCA1MDAsIFwic3VwcGxpZXItMVwiLCAxMF8wMDBfMDAwXzAwMCldKS5yZWNlaXB0c1sxXS5yZXN1bHQuZXhwZWN0T2soKSBhcyBzdHJpbmcpO1xuICAgIGxldCBmZWUgPSBOdW1iZXIoTWFnaWMuZ2V0U3VwcGxpZXIoY2hhaW4sIHN1cHBsaWVySWQsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLmV4cGVjdFNvbWUoKS5leHBlY3RUdXBsZSgpW1wiaW5ib3VuZC1mZWVcIl0uZXhwZWN0U29tZSgpKTtcblxuICAgIGxldCBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSxzdXBwbGllcklkLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDEsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKSxcbiAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF8yLmFkZHJlc3MpLFxuICAgICAgLi4uc2VuZEZ1bmRzUDJTSFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLDAsd2FsbGV0XzIuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwxLDIwMF8wMDBfMDAwLHByZWltYWdlLHN1cHBsaWVySWQsMjAwXzAwMF8wMDAgKiBmZWUgLyAxMF8wMDAsMSxjaGFpbi5ibG9ja0hlaWdodCAtIDEpLFxuICAgIF0pO1xuXG4gICAgYXNzZXRNYXBzID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpO1xuICAgIGFzc2VydEVxdWFscyhhc3NldE1hcHMuYXNzZXRzW1wiLldyYXBwZWQtQml0Y29pbi53cmFwcGVkLWJpdGNvaW5cIl1bYCR7ZGVwbG95ZXJXYWxsZXQuYWRkcmVzc30ubGlxdWlkaXR5LXZhdWx0LXYxLTBgXSwgMzAwMDAwMDAwKTtcbiAgfSxcbn0pO1xuXG5DbGFyaW5ldC50ZXN0KHtcbiAgbmFtZTogXCJMaXF1aWRpdHkgcHJvdmlkZXJzIGNhbiBzZW5kIGZ1bmRzIHRvIHRoZSBsaXF1aWRpdHkgdmF1bHQgbXVsdGlwbGUgdGltZXMuIEFkZCBleHRyYSB0aW1lIHRvIHRoZSBsb2NrdXAgcGVyaW9kLlwiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfMiA9IGFjY291bnRzLmdldChcIndhbGxldF8yXCIpIGFzIEFjY291bnQ7IC8vIExQXzJcbiAgICBsZXQgd2FsbGV0XzcgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfN1wiKSBhcyBBY2NvdW50OyAvLyBERUxFR0FURV8xXG4gICAgbGV0IGFzc2V0TWFwcyA9IGNoYWluLmdldEFzc2V0c01hcHMoKTtcbiAgICBsZXQgcG9vbCA9IG5ldyBQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuXG4gICAgbGV0IGJsb2NrID0gcG9vbC5jcmVhdGVQb29sKHdhbGxldF83LmFkZHJlc3MsTFBfVE9LRU4sWlBfVE9LRU4sUEFZTUVOVCxSRVdBUkRTX0NBTEMsMTAwMCwxMDAwLDEwXzAwMF8wMDBfMDAwLDEwXzAwMF8wMDBfMDAwLDEsTUFYX01BVFVSSVRZX0xFTkdUSCxMSVFVSURJVFlfVkFVTFQsQ1BfVE9LRU4sQ09WRVJfVkFVTFQsQ1BfUkVXQVJEU19UT0tFTixYQlRDLHRydWUpO1xuICAgIHBvb2wuZmluYWxpemVQb29sKHdhbGxldF83LmFkZHJlc3MsIExQX1RPS0VOLCBaUF9UT0tFTiwgQ1BfVE9LRU4sIDApO1xuXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSwwLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDEsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKSxcbiAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF8yLmFkZHJlc3MpLFxuICAgICAgLi4uc2VuZEZ1bmRzUDJTSFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLDAsd2FsbGV0XzIuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwxLDIwMF8wMDBfMDAwLHByZWltYWdlLDAsMjAwXzAwMF8wMDAgKiBmZWUgLyAxMF8wMDAsMSxjaGFpbi5ibG9ja0hlaWdodCAtIDEpLFxuICAgIF0pO1xuXG4gICAgY2hhaW4ubWluZUVtcHR5QmxvY2soMTApO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgLi4uc2VuZEZ1bmRzUDJTSFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLDAsd2FsbGV0XzEuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwwLDIwMF8wMDBfMDAwLFwiMDBcIixzdXBwbGllcklkLDIwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDIsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKVxuICAgIF0pO1xuXG4gICAgbGV0IGZ1bmRzU2VudCA9IHBvb2wuZ2V0RnVuZHNTZW50KHdhbGxldF8xLmFkZHJlc3MsIDApLmV4cGVjdE9rKCkuZXhwZWN0VHVwbGUoKTtcbiAgICBhc3NlcnRFcXVhbHMoY29uc3VtZVVpbnQoZnVuZHNTZW50LmZhY3RvciksIDEpO1xuICB9LFxufSk7XG5cbkNsYXJpbmV0LnRlc3Qoe1xuICBuYW1lOiBcIkJvcnJvd2VyIGNhbiBkcmF3ZG93biBmdW5kcyBpbiBwb29sXCIsXG4gIGFzeW5jIGZuKGNoYWluOiBDaGFpbiwgYWNjb3VudHM6IE1hcDxzdHJpbmcsIEFjY291bnQ+KSB7XG4gICAgbGV0IGRlcGxveWVyV2FsbGV0ID0gYWNjb3VudHMuZ2V0KFwiZGVwbG95ZXJcIikgYXMgQWNjb3VudDtcbiAgICBsZXQgd2FsbGV0XzEgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfMVwiKSBhcyBBY2NvdW50OyAvLyBMUF8xXG4gICAgbGV0IHdhbGxldF83ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzdcIikgYXMgQWNjb3VudDsgLy8gRGVsZWdhdGVfMVxuICAgIGxldCB3YWxsZXRfOCA9IGFjY291bnRzLmdldChcIndhbGxldF84XCIpIGFzIEFjY291bnQ7IC8vIGJvcnJvd2VyXzFcblxuICAgIGxldCBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4gICAgbGV0IHBvb2wgPSBuZXcgUG9vbChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBsb2FuID0gbmV3IExvYW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBcbiAgICBsZXQgYmxvY2sgPSBHbG9iYWxzLm9uYm9hcmRVc2VyQWRkcmVzcyhjaGFpbiwgd2FsbGV0XzguYWRkcmVzcywgUDJQS0hfVkVSU0lPTiwgSEFTSCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG5cbiAgICBsZXQgc3VwcGxpZXJJZCA9IGNvbnN1bWVVaW50KGNoYWluLm1pbmVCbG9jayhbLi4ucmVnaXN0ZXJTdXBwbGllclR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLCBkZXBsb3llcldhbGxldC5hZGRyZXNzLCByZWNpcGllbnQsIDEwLCAxMCwgNTAwLCA1MDAsIFwic3VwcGxpZXItMVwiLCAxMF8wMDBfMDAwXzAwMCldKS5yZWNlaXB0c1sxXS5yZXN1bHQuZXhwZWN0T2soKSBhcyBzdHJpbmcpO1xuICAgIGxldCBmZWUgPSBOdW1iZXIoTWFnaWMuZ2V0U3VwcGxpZXIoY2hhaW4sIHN1cHBsaWVySWQsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLmV4cGVjdFNvbWUoKS5leHBlY3RUdXBsZSgpW1wiaW5ib3VuZC1mZWVcIl0uZXhwZWN0U29tZSgpKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKHdhbGxldF8xLmFkZHJlc3MpLFxuICAgICAgLi4uc2VuZEZ1bmRzUDJTSFR4cyhkZXBsb3llcldhbGxldC5hZGRyZXNzLDAsd2FsbGV0XzEuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwwLDEwMF8wMDBfMDAwLHByZWltYWdlLDAsMTAwXzAwMF8wMDAgKiBmZWUgLyAxMF8wMDAsMSxjaGFpbi5ibG9ja0hlaWdodCAtIDEpXG4gICAgXSk7XG4gICAgXG4gICAgY29uc3QgTE9BTl9BTU9VTlQgPSAxMDBfMDAwXzAwMDtcblxuICAgIGJsb2NrID0gcG9vbC5jcmVhdGVMb2FuKExQX1RPS0VOLDAsTE9BTl9BTU9VTlQsWEJUQywwLFhCVEMsMzAwLDEyOTYwLDE0NDAsQ09MTF9WQVVMVCxGVU5ESU5HX1ZBVUxULHdhbGxldF84LmFkZHJlc3MpO1xuICAgIGJsb2NrID0gcG9vbC5jcmVhdGVMb2FuKExQX1RPS0VOLDAsTE9BTl9BTU9VTlQsWEJUQywwLFhCVEMsMzAwLDEyOTYwLDE0NDAsQ09MTF9WQVVMVCxGVU5ESU5HX1ZBVUxULHdhbGxldF84LmFkZHJlc3MpO1xuICAgIHBvb2wuZnVuZExvYW4oMCxMUF9UT0tFTiwwLExJUVVJRElUWV9WQVVMVCxGVU5ESU5HX1ZBVUxULFhCVEMsd2FsbGV0XzcuYWRkcmVzcyk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS51cGRhdGVMaXF1aWRpdHkoY2hhaW4uYmxvY2tIZWlnaHQsIDEwMF8wMDBfMDAwLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pO1xuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS5kcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgU1dBUF9ST1VURVIsWEJUQywgd2FsbGV0XzguYWRkcmVzcyldKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFsuLi5maW5hbGl6ZURyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBYQlRDLCBIQVNILCA5OTcwMDAwMCwgMCwgMjgsIHdhbGxldF84LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG5cbiAgICBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4gICAgXG4gICAgYXNzZXJ0RXF1YWxzKGFzc2V0TWFwcy5hc3NldHNbXCIuV3JhcHBlZC1CaXRjb2luLndyYXBwZWQtYml0Y29pblwiXVtcIlNUMVBRSFFLVjBSSlhaRlkxREdYOE1OU05ZVkUzVkdaSlNSVFBHWkdNLm1hZ2ljLXByb3RvY29sXCJdLCA5OTk5NzAwMDAwKTtcblxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKDEwKTtcblxuICAgIC8vIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFsuLi5maW5hbGl6ZU91dGJvdW5kVHhzKEhBU0gsIDk5MDAwMDAwLCAwLCA1ODAxMCwgd2FsbGV0XzguYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcblxuICAgIGxldCBnbG9iYWxzID0gR2xvYmFscy5nZXRHbG9iYWxzKGNoYWluLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RUdXBsZSgpO1xuICAgIGxldCBwb29sUGFyYW1zID0gcG9vbC5nZXRQb29sKDApO1xuICAgIFxuICAgIGxldCB0cmVhc3VyeUZlZSA9IGdldEJQKExPQU5fQU1PVU5ULCBjb25zdW1lVWludChnbG9iYWxzW1widHJlYXN1cnktZmVlXCJdKSk7XG4gICAgbGV0IGludmVzdG9yRmVlID0gZ2V0QlAoTE9BTl9BTU9VTlQsIGNvbnN1bWVVaW50KGdsb2JhbHNbXCJpbnZlc3Rvci1mZWVcIl0pKTtcbiAgICBsZXQgZGVsZWdhdGVGZWUgPSBnZXRCUChpbnZlc3RvckZlZSwgY29uc3VtZVVpbnQocG9vbFBhcmFtc1tcImRlbGVnYXRlLWZlZVwiXSkpO1xuICAgIGxldCBscFBvcnRpb24gPSBpbnZlc3RvckZlZSAtIGRlbGVnYXRlRmVlO1xuICAgIFxuICAgIGJsb2NrLnJlY2VpcHRzWzFdLnJlc3VsdC5leHBlY3RPaygpO1xuICAgIGFzc2VydEVxdWFscyhhc3NldE1hcHMuYXNzZXRzW1wiLldyYXBwZWQtQml0Y29pbi53cmFwcGVkLWJpdGNvaW5cIl1bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5wcm90b2NvbC10cmVhc3VyeVwiXSwgdHJlYXN1cnlGZWUpO1xuICAgIC8vIGFzc2VydEVxdWFscyhhc3NldE1hcHMuYXNzZXRzW1wiLldyYXBwZWQtQml0Y29pbi53cmFwcGVkLWJpdGNvaW5cIl1bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5saXF1aWRpdHktdmF1bHQtdjEtMFwiXSwgbHBQb3J0aW9uKTtcbiAgICAvLyBhc3NlcnRFcXVhbHMoYXNzZXRNYXBzLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdW2Ake3dhbGxldF83LmFkZHJlc3N9YF0sIGRlbGVnYXRlRmVlKTtcbiAgfSxcbn0pO1xuXG5DbGFyaW5ldC50ZXN0KHtcbiAgbmFtZTogXCJQb29sIERlbGVnYXRlIGNhbiB1bndpbmQgYSBmdW5kZWQgbG9hblwiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfNyA9IGFjY291bnRzLmdldChcIndhbGxldF83XCIpIGFzIEFjY291bnQ7IC8vIERlbGVnYXRlXzFcbiAgICBsZXQgd2FsbGV0XzggPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfOFwiKSBhcyBBY2NvdW50OyAvLyBib3Jyb3dlcl8xXG5cbiAgICBsZXQgYXNzZXRNYXBzID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpO1xuICAgIGxldCBwb29sID0gbmV3IFBvb2woY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBsZXQgbG9hbiA9IG5ldyBMb2FuKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgXG4gICAgbGV0IGJsb2NrID0gR2xvYmFscy5vbmJvYXJkVXNlckFkZHJlc3MoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuXG4gICAgcG9vbC5jcmVhdGVQb29sKHdhbGxldF83LmFkZHJlc3MsTFBfVE9LRU4sWlBfVE9LRU4sUEFZTUVOVCxSRVdBUkRTX0NBTEMsMTAwMCwxMDAwLDEwXzAwMF8wMDBfMDAwLDEwXzAwMF8wMDBfMDAwLDEsTUFYX01BVFVSSVRZX0xFTkdUSCxMSVFVSURJVFlfVkFVTFQsQ1BfVE9LRU4sQ09WRVJfVkFVTFQsQ1BfUkVXQVJEU19UT0tFTixYQlRDLHRydWUpO1xuICAgIHBvb2wuZmluYWxpemVQb29sKHdhbGxldF83LmFkZHJlc3MsIExQX1RPS0VOLCBaUF9UT0tFTiwgQ1BfVE9LRU4sIDApO1xuXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSxzdXBwbGllcklkLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDEsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKVxuICAgIF0pO1xuICAgIFxuICAgIGNvbnN0IExPQU5fQU1PVU5UID0gMTAwXzAwMF8wMDA7XG5cbiAgICBibG9jayA9IHBvb2wuY3JlYXRlTG9hbihMUF9UT0tFTiwwLExPQU5fQU1PVU5ULFhCVEMsMCxYQlRDLDMwMCwxMjk2MCwxNDQwLENPTExfVkFVTFQsRlVORElOR19WQVVMVCx3YWxsZXRfOC5hZGRyZXNzKTtcbiAgICBibG9jayA9IHBvb2wuZnVuZExvYW4oMCxMUF9UT0tFTiwwLExJUVVJRElUWV9WQVVMVCxGVU5ESU5HX1ZBVUxULFhCVEMsd2FsbGV0XzcuYWRkcmVzcyk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS51cGRhdGVMaXF1aWRpdHkoY2hhaW4uYmxvY2tIZWlnaHQsIDEwMF8wMDBfMDAwLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pO1xuXG4gICAgY2hhaW4ubWluZUVtcHR5QmxvY2soY29uc3VtZVVpbnQoR2xvYmFscy5nZXRHbG9iYWxzKGNoYWluLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RUdXBsZSgpW1wiZnVuZGluZy1wZXJpb2RcIl0pICsgMSk7XG5cbiAgICBibG9jayA9IHBvb2wudW53aW5kKDAsTFBfVE9LRU4sMCxGVU5ESU5HX1ZBVUxULExJUVVJRElUWV9WQVVMVCxYQlRDLHdhbGxldF83LmFkZHJlc3MpO1xuICAgIFxuICAgIGFzc2VydEVxdWFscyhjaGFpbi5nZXRBc3NldHNNYXBzKCkuYXNzZXRzW1wiLldyYXBwZWQtQml0Y29pbi53cmFwcGVkLWJpdGNvaW5cIl1bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5mdW5kaW5nLXZhdWx0XCJdLCAwKTtcbiAgICBhc3NlcnRFcXVhbHMoY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdW1wiU1QxUFFIUUtWMFJKWFpGWTFER1g4TU5TTllWRTNWR1pKU1JUUEdaR00ubGlxdWlkaXR5LXZhdWx0LXYxLTBcIl0sIDEwMF8wMDBfMDAwKTtcbiAgICBhc3NlcnRFcXVhbHMoY29uc3VtZVVpbnQocG9vbC5nZXRQb29sKDApW1wicHJpbmNpcGFsLW91dFwiXSksIDApO1xuICAgIGFzc2VydEVxdWFscyhsb2FuLmdldExvYW5EYXRhKDApLnJlc3VsdC5leHBlY3RUdXBsZSgpW1wic3RhdHVzXCJdLCBcIjB4MDdcIik7XG4gIH0sXG59KTtcblxuQ2xhcmluZXQudGVzdCh7XG4gIG5hbWU6IFwiQm9ycm93ZXIgY2Fubm90IGRyYXdkb3duIGFmdGVyIGxvYW4gd2FzIHVud2luZGVkXCIsXG4gIGFzeW5jIGZuKGNoYWluOiBDaGFpbiwgYWNjb3VudHM6IE1hcDxzdHJpbmcsIEFjY291bnQ+KSB7XG4gICAgbGV0IGRlcGxveWVyV2FsbGV0ID0gYWNjb3VudHMuZ2V0KFwiZGVwbG95ZXJcIikgYXMgQWNjb3VudDtcbiAgICBsZXQgd2FsbGV0XzEgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfMVwiKSBhcyBBY2NvdW50OyAvLyBMUF8xXG4gICAgbGV0IHdhbGxldF83ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzdcIikgYXMgQWNjb3VudDsgLy8gRGVsZWdhdGVfMVxuICAgIGxldCB3YWxsZXRfOCA9IGFjY291bnRzLmdldChcIndhbGxldF84XCIpIGFzIEFjY291bnQ7IC8vIGJvcnJvd2VyXzFcblxuICAgIGxldCBhc3NldE1hcHMgPSBjaGFpbi5nZXRBc3NldHNNYXBzKCk7XG4gICAgbGV0IHBvb2wgPSBuZXcgUG9vbChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBsb2FuID0gbmV3IExvYW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBcbiAgICBsZXQgYmxvY2sgPSBHbG9iYWxzLm9uYm9hcmRVc2VyQWRkcmVzcyhjaGFpbiwgd2FsbGV0XzguYWRkcmVzcywgUDJQS0hfVkVSU0lPTiwgSEFTSCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4gICAgXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSxzdXBwbGllcklkLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDEsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKVxuICAgIF0pO1xuICAgIFxuICAgIGNvbnN0IExPQU5fQU1PVU5UID0gMTAwXzAwMF8wMDA7XG5cbiAgICBibG9jayA9IHBvb2wuY3JlYXRlTG9hbihMUF9UT0tFTiwwLExPQU5fQU1PVU5ULFhCVEMsMCxYQlRDLDMwMCwxMjk2MCwxNDQwLENPTExfVkFVTFQsRlVORElOR19WQVVMVCx3YWxsZXRfOC5hZGRyZXNzKTtcbiAgICBibG9jayA9IHBvb2wuZnVuZExvYW4oMCxMUF9UT0tFTiwwLExJUVVJRElUWV9WQVVMVCxGVU5ESU5HX1ZBVUxULFhCVEMsd2FsbGV0XzcuYWRkcmVzcyk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS51cGRhdGVMaXF1aWRpdHkoY2hhaW4uYmxvY2tIZWlnaHQsIDEwMF8wMDBfMDAwLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pO1xuXG4gICAgY2hhaW4ubWluZUVtcHR5QmxvY2soY29uc3VtZVVpbnQoR2xvYmFscy5nZXRHbG9iYWxzKGNoYWluLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RUdXBsZSgpW1wiZnVuZGluZy1wZXJpb2RcIl0pICsgMSk7XG5cbiAgICBibG9jayA9IHBvb2wudW53aW5kKDAsTFBfVE9LRU4sMCxGVU5ESU5HX1ZBVUxULExJUVVJRElUWV9WQVVMVCxYQlRDLHdhbGxldF83LmFkZHJlc3MpO1xuICAgIFxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS5kcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgU1dBUF9ST1VURVIsWEJUQywgd2FsbGV0XzguYWRkcmVzcyldKTtcbiAgICAvLyBFUlJfRlVORElOR19FWFBJUkVEXG4gICAgYmxvY2sucmVjZWlwdHNbMF0ucmVzdWx0LmV4cGVjdEVycigpLmV4cGVjdFVpbnQoRVJST1JTLkVSUl9GVU5ESU5HX0VYUElSRUQpO1xuICB9LFxufSk7XG5cbkNsYXJpbmV0LnRlc3Qoe1xuICBuYW1lOiBcIkRyYXdkb3duIGNhbiBiZSBjYW5jZWxsZWQgaWYgZnVuZHMgaGF2ZSBub3QgYmVlbiBjb25maXJtZWQgYXMgc2VudC5cIixcbiAgYXN5bmMgZm4oY2hhaW46IENoYWluLCBhY2NvdW50czogTWFwPHN0cmluZywgQWNjb3VudD4pIHtcbiAgICBsZXQgZGVwbG95ZXJXYWxsZXQgPSBhY2NvdW50cy5nZXQoXCJkZXBsb3llclwiKSBhcyBBY2NvdW50O1xuICAgIGxldCB3YWxsZXRfMSA9IGFjY291bnRzLmdldChcIndhbGxldF8xXCIpIGFzIEFjY291bnQ7IC8vIExQXzFcbiAgICBsZXQgd2FsbGV0XzcgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfN1wiKSBhcyBBY2NvdW50OyAvLyBEZWxlZ2F0ZV8xXG4gICAgbGV0IHdhbGxldF84ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzhcIikgYXMgQWNjb3VudDsgLy8gYm9ycm93ZXJfMVxuXG4gICAgbGV0IGFzc2V0TWFwcyA9IGNoYWluLmdldEFzc2V0c01hcHMoKTtcbiAgICBsZXQgcG9vbCA9IG5ldyBQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIFxuICAgIGxldCBibG9jayA9IEdsb2JhbHMub25ib2FyZFVzZXJBZGRyZXNzKGNoYWluLCB3YWxsZXRfOC5hZGRyZXNzLCBQMlBLSF9WRVJTSU9OLCBIQVNILCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcblxuICAgIHBvb2wuY3JlYXRlUG9vbCh3YWxsZXRfNy5hZGRyZXNzLExQX1RPS0VOLFpQX1RPS0VOLFBBWU1FTlQsUkVXQVJEU19DQUxDLDEwMDAsMTAwMCwxMF8wMDBfMDAwXzAwMCwxMF8wMDBfMDAwXzAwMCwxLE1BWF9NQVRVUklUWV9MRU5HVEgsTElRVUlESVRZX1ZBVUxULENQX1RPS0VOLENPVkVSX1ZBVUxULENQX1JFV0FSRFNfVE9LRU4sWEJUQyx0cnVlKTtcbiAgICBwb29sLmZpbmFsaXplUG9vbCh3YWxsZXRfNy5hZGRyZXNzLCBMUF9UT0tFTiwgWlBfVE9LRU4sIENQX1RPS0VOLCAwKTtcblxuICAgIGxldCBzdXBwbGllcklkID0gY29uc3VtZVVpbnQoY2hhaW4ubWluZUJsb2NrKFsuLi5yZWdpc3RlclN1cHBsaWVyVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsIHJlY2lwaWVudCwgMTAsIDEwLCA1MDAsIDUwMCwgXCJzdXBwbGllci0xXCIsIDEwXzAwMF8wMDBfMDAwKV0pLnJlY2VpcHRzWzFdLnJlc3VsdC5leHBlY3RPaygpIGFzIHN0cmluZyk7XG4gICAgbGV0IGZlZSA9IE51bWJlcihNYWdpYy5nZXRTdXBwbGllcihjaGFpbiwgc3VwcGxpZXJJZCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykuZXhwZWN0U29tZSgpLmV4cGVjdFR1cGxlKClbXCJpbmJvdW5kLWZlZVwiXS5leHBlY3RTb21lKCkpO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIod2FsbGV0XzEuYWRkcmVzcyksXG4gICAgICAuLi5zZW5kRnVuZHNQMlNIVHhzKGRlcGxveWVyV2FsbGV0LmFkZHJlc3MsMCx3YWxsZXRfMS5hZGRyZXNzLHNlbmRlcixyZWNpcGllbnQsNTAwLDAsMTAwXzAwMF8wMDAscHJlaW1hZ2Usc3VwcGxpZXJJZCwxMDBfMDAwXzAwMCAqIGZlZSAvIDEwXzAwMCwxLCBjaGFpbi5ibG9ja0hlaWdodCAtIDEpXG4gICAgXSk7XG4gICAgXG4gICAgY29uc3QgTE9BTl9BTU9VTlQgPSAxMDBfMDAwXzAwMDtcblxuICAgIGJsb2NrID0gcG9vbC5jcmVhdGVMb2FuKExQX1RPS0VOLDAsTE9BTl9BTU9VTlQsWEJUQywwLFhCVEMsMzAwLDEyOTYwLDE0NDAsQ09MTF9WQVVMVCxGVU5ESU5HX1ZBVUxULHdhbGxldF84LmFkZHJlc3MpO1xuICAgIHBvb2wuZnVuZExvYW4oMCxMUF9UT0tFTiwwLExJUVVJRElUWV9WQVVMVCxGVU5ESU5HX1ZBVUxULFhCVEMsd2FsbGV0XzcuYWRkcmVzcyk7XG4gICAgY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS51cGRhdGVMaXF1aWRpdHkoY2hhaW4uYmxvY2tIZWlnaHQsIDEwMF8wMDBfMDAwLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLmRyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBQMlBLSF9WRVJTSU9OLCBIQVNILCAwLCBTV0FQX1JPVVRFUixYQlRDLCB3YWxsZXRfOC5hZGRyZXNzKV0pO1xuXG4gICAgY2hhaW4ubWluZUVtcHR5QmxvY2soMjUwKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS5jYW5jZWxEcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgWEJUQywwLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKV0pXG4gICAgbGV0IGxvYW5SZXN1bHQgPSBsb2FuLmdldExvYW5EYXRhKDApLnJlc3VsdC5leHBlY3RUdXBsZSgpO1xuICAgIGxldCBwb29sUmVzdWx0ID0gKHBvb2wuZ2V0UG9vbCgwKSk7XG5cbiAgICBhc3NlcnRFcXVhbHMobG9hblJlc3VsdFtcInN0YXR1c1wiXSwgXCIweDAxXCIpO1xuICAgIGFzc2VydEVxdWFscyhwb29sUmVzdWx0W1wicHJpbmNpcGFsLW91dFwiXSwgXCJ1MTAwMDAwMDAwXCIpO1xuICB9LFxufSk7XG5cblxuQ2xhcmluZXQudGVzdCh7XG4gIG5hbWU6IFwiRHJhd2Rvd24gY2FuIGJlIGNhbmNlbGxlZCBpZiBmdW5kcyBoYXZlIG5vdCBiZWVuIGNvbmZpcm1lZCBhcyBzZW50LiBUaGVuLCBib3Jyb3dlciBjYW4gcmV0cnkgZHJhd2Rvd24gcHJvY2Vzc1wiLFxuICBhc3luYyBmbihjaGFpbjogQ2hhaW4sIGFjY291bnRzOiBNYXA8c3RyaW5nLCBBY2NvdW50Pikge1xuICAgIGxldCBkZXBsb3llcldhbGxldCA9IGFjY291bnRzLmdldChcImRlcGxveWVyXCIpIGFzIEFjY291bnQ7XG4gICAgbGV0IHdhbGxldF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCB3YWxsZXRfNyA9IGFjY291bnRzLmdldChcIndhbGxldF83XCIpIGFzIEFjY291bnQ7IC8vIERlbGVnYXRlXzFcbiAgICBsZXQgd2FsbGV0XzggPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfOFwiKSBhcyBBY2NvdW50OyAvLyBib3Jyb3dlcl8xXG5cbiAgICBsZXQgYXNzZXRNYXBzID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpO1xuICAgIGxldCBwb29sID0gbmV3IFBvb2woY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcbiAgICBsZXQgbG9hbiA9IG5ldyBMb2FuKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgXG4gICAgbGV0IGJsb2NrID0gR2xvYmFscy5vbmJvYXJkVXNlckFkZHJlc3MoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuXG4gICAgcG9vbC5jcmVhdGVQb29sKHdhbGxldF83LmFkZHJlc3MsTFBfVE9LRU4sWlBfVE9LRU4sUEFZTUVOVCxSRVdBUkRTX0NBTEMsMTAwMCwxMDAwLDEwXzAwMF8wMDBfMDAwLDEwXzAwMF8wMDBfMDAwLDEsTUFYX01BVFVSSVRZX0xFTkdUSCxMSVFVSURJVFlfVkFVTFQsQ1BfVE9LRU4sQ09WRVJfVkFVTFQsQ1BfUkVXQVJEU19UT0tFTixYQlRDLHRydWUpO1xuICAgIHBvb2wuZmluYWxpemVQb29sKHdhbGxldF83LmFkZHJlc3MsIExQX1RPS0VOLCBaUF9UT0tFTiwgQ1BfVE9LRU4sIDApO1xuXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbXG4gICAgICBNYWdpYy5pbml0aWFsaXplU3dhcHBlcih3YWxsZXRfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLHdhbGxldF8xLmFkZHJlc3Msc2VuZGVyLHJlY2lwaWVudCw1MDAsMCwxMDBfMDAwXzAwMCxwcmVpbWFnZSwwLDEwMF8wMDBfMDAwICogZmVlIC8gMTBfMDAwLDEsY2hhaW4uYmxvY2tIZWlnaHQgLSAxKVxuICAgIF0pO1xuICAgIFxuICAgIGNvbnN0IExPQU5fQU1PVU5UID0gMTAwXzAwMF8wMDA7XG5cbiAgICBibG9jayA9IHBvb2wuY3JlYXRlTG9hbihMUF9UT0tFTiwwLExPQU5fQU1PVU5ULFhCVEMsMCxYQlRDLDMwMCwxMjk2MCwxNDQwLENPTExfVkFVTFQsRlVORElOR19WQVVMVCx3YWxsZXRfOC5hZGRyZXNzKTtcblxuICAgIHBvb2wuZnVuZExvYW4oMCxMUF9UT0tFTiwwLExJUVVJRElUWV9WQVVMVCxGVU5ESU5HX1ZBVUxULFhCVEMsd2FsbGV0XzcuYWRkcmVzcyk7XG4gICAgbGV0IGJlZm9yZURyYXdkb3duID0gY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdO1xuICAgIGxldCBsb2FuQmVmb3JlRHJhd2Rvd24gPSBsb2FuLmdldExvYW5EYXRhKDApLnJlc3VsdDtcblxuICAgIGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UudXBkYXRlTGlxdWlkaXR5KGNoYWluLmJsb2NrSGVpZ2h0LCAxMDBfMDAwXzAwMCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtTdXBwbGllckludGVyZmFjZS5kcmF3ZG93bigwLCBMUF9UT0tFTiwgMCwgWEJUQywgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgU1dBUF9ST1VURVIsWEJUQywgd2FsbGV0XzguYWRkcmVzcyldKTtcbiAgICBcbiAgICAvLyBUUlkgVE8gRklOQUxJWkVEUkFXRE9XTiBCVVQgRkFJTFxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKDI1MCk7XG4gICAgXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1N1cHBsaWVySW50ZXJmYWNlLmNhbmNlbERyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBYQlRDLDAsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG5cbiAgICBsZXQgYWZ0ZXJDYW5jZWxsZWREcmF3ZG93biA9IGNoYWluLmdldEFzc2V0c01hcHMoKS5hc3NldHNbXCIuV3JhcHBlZC1CaXRjb2luLndyYXBwZWQtYml0Y29pblwiXTtcbiAgICBsZXQgbG9hbkFmdGVyRHJhd2Rvd24gPSBsb2FuLmdldExvYW5EYXRhKDApLnJlc3VsdDtcbiAgICBcbiAgICBhc3NlcnRFcXVhbHMoYmVmb3JlRHJhd2Rvd25bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5saXF1aWRpdHktdmF1bHQtdjEtMFwiXSwgYWZ0ZXJDYW5jZWxsZWREcmF3ZG93bltcIlNUMVBRSFFLVjBSSlhaRlkxREdYOE1OU05ZVkUzVkdaSlNSVFBHWkdNLmxpcXVpZGl0eS12YXVsdC12MS0wXCJdKTtcbiAgICBhc3NlcnRFcXVhbHMoYmVmb3JlRHJhd2Rvd25bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5zdXBwbGllci1pbnRlcmZhY2VcIl0sIGFmdGVyQ2FuY2VsbGVkRHJhd2Rvd25bXCJTVDFQUUhRS1YwUkpYWkZZMURHWDhNTlNOWVZFM1ZHWkpTUlRQR1pHTS5zdXBwbGllci1pbnRlcmZhY2VcIl0pO1xuXG4gICAgYXNzZXJ0RXF1YWxzKGxvYW5CZWZvcmVEcmF3ZG93biwgbG9hbkFmdGVyRHJhd2Rvd24pO1xuXG4gICAgLy8gY29uc29sZS5sb2coY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLUJpdGNvaW4ud3JhcHBlZC1iaXRjb2luXCJdKTtcbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UuZHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhCVEMsIENPTExfVkFVTFQsIEZVTkRJTkdfVkFVTFQsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIDAsIFNXQVBfUk9VVEVSLFhCVEMsIHdhbGxldF84LmFkZHJlc3MpXSk7XG4gICAgYXNzZXJ0RXF1YWxzKGJsb2NrLnJlY2VpcHRzWzBdLnJlc3VsdC5leHBlY3RPaygpLmV4cGVjdFR1cGxlKClbXCJzYXRzXCJdLCBcInU5OTcwMDAwMFwiKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFsuLi5maW5hbGl6ZURyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYQlRDLCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBYQlRDLCBIQVNILCA5OTcwMDAwMCwgMSwgMjgsIHdhbGxldF84LmFkZHJlc3MsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG4gICAgYXNzZXJ0RXF1YWxzKGNoYWluLmdldEFzc2V0c01hcHMoKS5hc3NldHNbXCIuV3JhcHBlZC1CaXRjb2luLndyYXBwZWQtYml0Y29pblwiXVtgJHtkZXBsb3llcldhbGxldC5hZGRyZXNzfS5wcm90b2NvbC10cmVhc3VyeWBdLCAzMDAwMDApO1xuICAgIGJsb2NrLnJlY2VpcHRzWzFdLnJlc3VsdC5leHBlY3RPaygpO1xuICB9LFxufSk7XG5cbkNsYXJpbmV0LnRlc3Qoe1xuICBuYW1lOiBcIldoZW4gZHJhd2Rvd24gaXMgY2FsbGVkLCBjb2xsYXRlcmFsIGlzIHJlcXVpcmVkIGZvciB0aGUgbG9hbiBhbmQgc2VudCB0byB0aGUgY29sbGF0ZXJhbCB2YXVsdC5cIixcbiAgYXN5bmMgZm4oY2hhaW46IENoYWluLCBhY2NvdW50czogTWFwPHN0cmluZywgQWNjb3VudD4pIHtcbiAgICBsZXQgZGVwbG95ZXJXYWxsZXQgPSBhY2NvdW50cy5nZXQoXCJkZXBsb3llclwiKSBhcyBBY2NvdW50O1xuICAgIGxldCBMUF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCBMUF8yID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzJcIikgYXMgQWNjb3VudDsgLy8gTFBfMlxuICAgIGxldCBjb3ZlciA9IGFjY291bnRzLmdldChcIndhbGxldF8zXCIpIGFzIEFjY291bnQ7IC8vIENvdmVyXzFcbiAgICBsZXQgd2FsbGV0XzcgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfN1wiKSBhcyBBY2NvdW50OyAvLyBEZWxlZ2F0ZV8xXG4gICAgbGV0IHdhbGxldF84ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzhcIikgYXMgQWNjb3VudDsgLy8gYm9ycm93ZXJfMVxuXG4gICAgbGV0IGFzc2V0TWFwcyA9IGNoYWluLmdldEFzc2V0c01hcHMoKTtcbiAgICBsZXQgcG9vbCA9IG5ldyBQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBjb3ZlclBvb2wgPSBuZXcgQ292ZXJQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IENwVG9rZW4gPSBuZXcgQ1BUb2tlbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBMcFRva2VuID0gbmV3IExQVG9rZW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcblxuICAgIGxldCBibG9jayA9IHJ1bkJvb3RzdHJhcChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGJsb2NrID0gR2xvYmFscy5vbmJvYXJkVXNlckFkZHJlc3MoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuICAgIGJsb2NrID0gR2xvYmFscy5hZGRDb2xsYXRlcmFsQ29udHJhY3QoY2hhaW4sIFVTREFfQ09OVFJBQ1RfU0lNTkVULCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcbiAgICBibG9jayA9IEdsb2JhbHMuYWRkQ29sbGF0ZXJhbENvbnRyYWN0KGNoYWluLCBYVVNEX0NPTlRSQUNUX1NJTU5FVCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4gICAgcG9vbC5lbmFibGVDb3ZlcihMUF9UT0tFTiwgQ1BfVE9LRU4sIDAsIHdhbGxldF83LmFkZHJlc3MpO1xuICAgIGJsb2NrID0gY292ZXJQb29sLnNlbmRGdW5kcyhDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsIDAsIDEwMF8wMDBfMDAwXzAwMG4sIDEwLCBSRVdBUkRTX0NBTEMsIGNvdmVyLmFkZHJlc3MpO1xuXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBjb25zdCBMUF8xX2Ftb3VudCA9IDEwMF8wMDBfMDAwO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIoTFBfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLExQXzEuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwwLExQXzFfYW1vdW50LHByZWltYWdlLDAsMTAwXzAwMF8wMDAgKiBmZWUgLyAxMF8wMDAsMSxjaGFpbi5ibG9ja0hlaWdodCAtIDEpXG4gICAgXSk7XG5cbiAgICBjb25zdCBMT0FOX0FNT1VOVCA9IDEwMF8wMDBfMDAwO1xuICAgIGNvbnN0IExPQU5fUkFUSU8gPSA1MDAwO1xuICAgIFxuICAgIGJsb2NrID0gcG9vbC5jcmVhdGVMb2FuKExQX1RPS0VOLDAsTE9BTl9BTU9VTlQsWEJUQyxMT0FOX1JBVElPLFhVU0RfQ09OVFJBQ1RfU0lNTkVULDMwMCw1NzYwLDE0NDAsQ09MTF9WQVVMVCxGVU5ESU5HX1ZBVUxULHdhbGxldF84LmFkZHJlc3MpO1xuICAgIFxuICAgIC8vIGNvbnNvbGUubG9nKGNoYWluLmdldEFzc2V0c01hcHMoKS5hc3NldHNbXCIuV3JhcHBlZC1VU0Qud3JhcHBlZC11c2RcIl0pO1xuICAgIGJsb2NrID0gcG9vbC5mdW5kTG9hbigwLExQX1RPS0VOLDAsTElRVUlESVRZX1ZBVUxULEZVTkRJTkdfVkFVTFQsWEJUQyx3YWxsZXRfNy5hZGRyZXNzKTtcbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UudXBkYXRlTGlxdWlkaXR5KGNoYWluLmJsb2NrSGVpZ2h0LCBMT0FOX0FNT1VOVCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIFN1cHBsaWVySW50ZXJmYWNlLmRyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYVVNEX0NPTlRSQUNUX1NJTU5FVCwgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgU1dBUF9ST1VURVIsWEJUQywgd2FsbGV0XzguYWRkcmVzcylcbiAgICBdKTtcblxuICAgIGxldCBjb2xsQW1vdW50ID0gTWF0aC5mbG9vcihjb25zdW1lVWludChTd2FwUm91dGVyLmdldFhnaXZlblkoWFVTRF9DT05UUkFDVF9TSU1ORVQsIFhCVEMsIExPQU5fQU1PVU5ULCBjaGFpbiwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcykucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKSAqIExPQU5fUkFUSU8gLyAxMF8wMDApO1xuXG4gICAgYXNzZXJ0RXF1YWxzKGNoYWluLmdldEFzc2V0c01hcHMoKS5hc3NldHNbXCIuV3JhcHBlZC1VU0Qud3JhcHBlZC11c2RcIl1bYCR7ZGVwbG95ZXJXYWxsZXQuYWRkcmVzc30uY29sbC12YXVsdGBdLCBjb2xsQW1vdW50KTtcbiAgfSxcbn0pO1xuXG5cbkNsYXJpbmV0LnRlc3Qoe1xuICBuYW1lOiBcIldoZW4gZHJhd2Rvd24gaXMgY2FsbGVkIGFuZCBpcyB1bmFibGUgdG8gZ28gdGhyb3VnaCBNYWdpYywgY2FuY2VsLWRyYXdkb3duIHJldHVybnMgY29sbGF0ZXJhbC5cIixcbiAgYXN5bmMgZm4oY2hhaW46IENoYWluLCBhY2NvdW50czogTWFwPHN0cmluZywgQWNjb3VudD4pIHtcbiAgICBsZXQgZGVwbG95ZXJXYWxsZXQgPSBhY2NvdW50cy5nZXQoXCJkZXBsb3llclwiKSBhcyBBY2NvdW50O1xuICAgIGxldCBMUF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCBMUF8yID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzJcIikgYXMgQWNjb3VudDsgLy8gTFBfMlxuICAgIGxldCBjb3ZlciA9IGFjY291bnRzLmdldChcIndhbGxldF8zXCIpIGFzIEFjY291bnQ7IC8vIENvdmVyXzFcbiAgICBsZXQgd2FsbGV0XzcgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfN1wiKSBhcyBBY2NvdW50OyAvLyBEZWxlZ2F0ZV8xXG4gICAgbGV0IHdhbGxldF84ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzhcIikgYXMgQWNjb3VudDsgLy8gYm9ycm93ZXJfMVxuXG4gICAgbGV0IGFzc2V0TWFwcyA9IGNoYWluLmdldEFzc2V0c01hcHMoKTtcbiAgICBsZXQgcG9vbCA9IG5ldyBQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBjb3ZlclBvb2wgPSBuZXcgQ292ZXJQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IENwVG9rZW4gPSBuZXcgQ1BUb2tlbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBMcFRva2VuID0gbmV3IExQVG9rZW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcblxuICAgIGxldCBibG9jayA9IHJ1bkJvb3RzdHJhcChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGJsb2NrID0gR2xvYmFscy5vbmJvYXJkVXNlckFkZHJlc3MoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuICAgIGJsb2NrID0gR2xvYmFscy5hZGRDb2xsYXRlcmFsQ29udHJhY3QoY2hhaW4sIFVTREFfQ09OVFJBQ1RfU0lNTkVULCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcbiAgICBibG9jayA9IEdsb2JhbHMuYWRkQ29sbGF0ZXJhbENvbnRyYWN0KGNoYWluLCBYVVNEX0NPTlRSQUNUX1NJTU5FVCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4gICAgcG9vbC5lbmFibGVDb3ZlcihMUF9UT0tFTiwgQ1BfVE9LRU4sIDAsIHdhbGxldF83LmFkZHJlc3MpO1xuICAgIGJsb2NrID0gY292ZXJQb29sLnNlbmRGdW5kcyhDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsIDAsIDEwMF8wMDBfMDAwXzAwMG4sIDEwLCBSRVdBUkRTX0NBTEMsIGNvdmVyLmFkZHJlc3MpO1xuXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBjb25zdCBMUF8xX2Ftb3VudCA9IDEwMF8wMDBfMDAwO1xuXG4gICAgYmxvY2sgPSBjaGFpbi5taW5lQmxvY2soW1xuICAgICAgTWFnaWMuaW5pdGlhbGl6ZVN3YXBwZXIoTFBfMS5hZGRyZXNzKSxcbiAgICAgIC4uLnNlbmRGdW5kc1AyU0hUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywwLExQXzEuYWRkcmVzcyxzZW5kZXIscmVjaXBpZW50LDUwMCwwLExQXzFfYW1vdW50LHByZWltYWdlLDAsMTAwXzAwMF8wMDAgKiBmZWUgLyAxMF8wMDAsMSxjaGFpbi5ibG9ja0hlaWdodCAtIDEpXG4gICAgXSk7XG5cbiAgICBjb25zdCBMT0FOX0FNT1VOVCA9IDEwMF8wMDBfMDAwO1xuICAgIGNvbnN0IExPQU5fUkFUSU8gPSA1MDAwO1xuICAgIFxuICAgIGJsb2NrID0gcG9vbC5jcmVhdGVMb2FuKExQX1RPS0VOLDAsTE9BTl9BTU9VTlQsWEJUQyxMT0FOX1JBVElPLFhVU0RfQ09OVFJBQ1RfU0lNTkVULDMwMCw1NzYwLDE0NDAsQ09MTF9WQVVMVCxGVU5ESU5HX1ZBVUxULHdhbGxldF84LmFkZHJlc3MpO1xuICAgIFxuICAgIC8vIGNvbnNvbGUubG9nKGNoYWluLmdldEFzc2V0c01hcHMoKS5hc3NldHNbXCIuV3JhcHBlZC1VU0Qud3JhcHBlZC11c2RcIl0pO1xuICAgIGJsb2NrID0gcG9vbC5mdW5kTG9hbigwLExQX1RPS0VOLDAsTElRVUlESVRZX1ZBVUxULEZVTkRJTkdfVkFVTFQsWEJUQyx3YWxsZXRfNy5hZGRyZXNzKTtcbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UudXBkYXRlTGlxdWlkaXR5KGNoYWluLmJsb2NrSGVpZ2h0LCBMT0FOX0FNT1VOVCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyldKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIFN1cHBsaWVySW50ZXJmYWNlLmRyYXdkb3duKDAsIExQX1RPS0VOLCAwLCBYVVNEX0NPTlRSQUNUX1NJTU5FVCwgQ09MTF9WQVVMVCwgRlVORElOR19WQVVMVCwgUDJQS0hfVkVSU0lPTiwgSEFTSCwgMCwgU1dBUF9ST1VURVIsWEJUQywgd2FsbGV0XzguYWRkcmVzcylcbiAgICBdKTtcblxuICAgIGNoYWluLm1pbmVFbXB0eUJsb2NrKDI1MCk7XG5cbiAgICBibG9jayA9IGNoYWluLm1pbmVCbG9jayhbU3VwcGxpZXJJbnRlcmZhY2UuY2FuY2VsRHJhd2Rvd24oMCwgTFBfVE9LRU4sIDAsIFhVU0RfQ09OVFJBQ1RfU0lNTkVULCBDT0xMX1ZBVUxULCBGVU5ESU5HX1ZBVUxULCBYQlRDLDAsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpXSk7XG5cbiAgICAvLyBsZXQgY29sbEFtb3VudCA9IE1hdGguZmxvb3IoY29uc3VtZVVpbnQoU3dhcFJvdXRlci5nZXRYZ2l2ZW5ZKFhVU0RfQ09OVFJBQ1RfU0lNTkVULCBYQlRDLCBMT0FOX0FNT1VOVCwgY2hhaW4sIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpLnJlc3VsdC5leHBlY3RPaygpIGFzIHN0cmluZykgKiBMT0FOX1JBVElPIC8gMTBfMDAwKTtcbiAgICAvLyBhc3NlcnRFcXVhbHMoY2hhaW4uZ2V0QXNzZXRzTWFwcygpLmFzc2V0c1tcIi5XcmFwcGVkLVVTRC53cmFwcGVkLXVzZFwiXVtgJHtkZXBsb3llcldhbGxldC5hZGRyZXNzfS5jb2xsLXZhdWx0YF0sIGNvbGxBbW91bnQpO1xuICB9LFxufSk7XG5cbkNsYXJpbmV0LnRlc3Qoe1xuICBuYW1lOiBcIkNvbXBsZXRlIHN3YXAgaW4gY2FzZSBvZiBsZWFrZWQgcHJlaW1hZ2VcIixcbiAgYXN5bmMgZm4oY2hhaW46IENoYWluLCBhY2NvdW50czogTWFwPHN0cmluZywgQWNjb3VudD4pIHtcbiAgICBsZXQgZGVwbG95ZXJXYWxsZXQgPSBhY2NvdW50cy5nZXQoXCJkZXBsb3llclwiKSBhcyBBY2NvdW50O1xuICAgIGxldCBMUF8xID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzFcIikgYXMgQWNjb3VudDsgLy8gTFBfMVxuICAgIGxldCBMUF8yID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzJcIikgYXMgQWNjb3VudDsgLy8gTFBfMlxuICAgIGxldCBjb3ZlciA9IGFjY291bnRzLmdldChcIndhbGxldF8zXCIpIGFzIEFjY291bnQ7IC8vIENvdmVyXzFcbiAgICBsZXQgd2FsbGV0XzcgPSBhY2NvdW50cy5nZXQoXCJ3YWxsZXRfN1wiKSBhcyBBY2NvdW50OyAvLyBEZWxlZ2F0ZV8xXG4gICAgbGV0IHdhbGxldF84ID0gYWNjb3VudHMuZ2V0KFwid2FsbGV0XzhcIikgYXMgQWNjb3VudDsgLy8gYm9ycm93ZXJfMVxuXG4gICAgbGV0IGFzc2V0TWFwcyA9IGNoYWluLmdldEFzc2V0c01hcHMoKTtcbiAgICBsZXQgcG9vbCA9IG5ldyBQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IGxvYW4gPSBuZXcgTG9hbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBjb3ZlclBvb2wgPSBuZXcgQ292ZXJQb29sKGNoYWluLCBkZXBsb3llcldhbGxldCk7XG4gICAgbGV0IENwVG9rZW4gPSBuZXcgQ1BUb2tlbihjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGxldCBMcFRva2VuID0gbmV3IExQVG9rZW4oY2hhaW4sIGRlcGxveWVyV2FsbGV0KTtcblxuICAgIGxldCBibG9jayA9IHJ1bkJvb3RzdHJhcChjaGFpbiwgZGVwbG95ZXJXYWxsZXQpO1xuICAgIGJsb2NrID0gR2xvYmFscy5vbmJvYXJkVXNlckFkZHJlc3MoY2hhaW4sIHdhbGxldF84LmFkZHJlc3MsIFAyUEtIX1ZFUlNJT04sIEhBU0gsIGRlcGxveWVyV2FsbGV0LmFkZHJlc3MpO1xuICAgIGJsb2NrID0gR2xvYmFscy5hZGRDb2xsYXRlcmFsQ29udHJhY3QoY2hhaW4sIFVTREFfQ09OVFJBQ1RfU0lNTkVULCBkZXBsb3llcldhbGxldC5hZGRyZXNzKTtcbiAgICBibG9jayA9IEdsb2JhbHMuYWRkQ29sbGF0ZXJhbENvbnRyYWN0KGNoYWluLCBYVVNEX0NPTlRSQUNUX1NJTU5FVCwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyk7XG5cbiAgICBwb29sLmNyZWF0ZVBvb2wod2FsbGV0XzcuYWRkcmVzcyxMUF9UT0tFTixaUF9UT0tFTixQQVlNRU5ULFJFV0FSRFNfQ0FMQywxMDAwLDEwMDAsMTBfMDAwXzAwMF8wMDAsMTBfMDAwXzAwMF8wMDAsMSxNQVhfTUFUVVJJVFlfTEVOR1RILExJUVVJRElUWV9WQVVMVCxDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsdHJ1ZSk7XG4gICAgcG9vbC5maW5hbGl6ZVBvb2wod2FsbGV0XzcuYWRkcmVzcywgTFBfVE9LRU4sIFpQX1RPS0VOLCBDUF9UT0tFTiwgMCk7XG4gICAgcG9vbC5lbmFibGVDb3ZlcihMUF9UT0tFTiwgQ1BfVE9LRU4sIDAsIHdhbGxldF83LmFkZHJlc3MpO1xuICAgIGJsb2NrID0gY292ZXJQb29sLnNlbmRGdW5kcyhDUF9UT0tFTixDT1ZFUl9WQVVMVCxDUF9SRVdBUkRTX1RPS0VOLFhCVEMsIDAsIDEwMF8wMDBfMDAwXzAwMG4sIDEwLCBSRVdBUkRTX0NBTEMsIGNvdmVyLmFkZHJlc3MpO1xuXG4gICAgbGV0IHN1cHBsaWVySWQgPSBjb25zdW1lVWludChjaGFpbi5taW5lQmxvY2soWy4uLnJlZ2lzdGVyU3VwcGxpZXJUeHMoZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcywgcmVjaXBpZW50LCAxMCwgMTAsIDUwMCwgNTAwLCBcInN1cHBsaWVyLTFcIiwgMTBfMDAwXzAwMF8wMDApXSkucmVjZWlwdHNbMV0ucmVzdWx0LmV4cGVjdE9rKCkgYXMgc3RyaW5nKTtcbiAgICBsZXQgZmVlID0gTnVtYmVyKE1hZ2ljLmdldFN1cHBsaWVyKGNoYWluLCBzdXBwbGllcklkLCBkZXBsb3llcldhbGxldC5hZGRyZXNzKS5leHBlY3RTb21lKCkuZXhwZWN0VHVwbGUoKVtcImluYm91bmQtZmVlXCJdLmV4cGVjdFNvbWUoKSk7XG5cbiAgICBjb25zdCBMUF8xX2Ftb3VudCA9IDEwMF8wMDBfMDAwO1xuXG4gICAgY29uc3QgZXhwaXJhdGlvbiA9IDUwMDtcbiAgICBjb25zdCBzd2FwcGVySWQgPSAwO1xuICAgIGNvbnN0IG91dHB1dFZhbHVlID0gTFBfMV9hbW91bnQ7XG4gICAgY29uc3QgbWluVG9SZWNlaXZlID0gTFBfMV9hbW91bnQgKiBmZWUgLyAxMF8wMDA7XG4gICAgbGV0IGhhc2ggPSBnZXRIYXNoKHByZWltYWdlKTtcbiAgICBsZXQgdHgxID0gZ2VuZXJhdGVQMlNIVHgoc2VuZGVyLCByZWNpcGllbnQsIGV4cGlyYXRpb24sIGhhc2gsIHN3YXBwZXJJZCwgb3V0cHV0VmFsdWUpO1xuICAgIGxldCB0eGlkMSA9IGdldFR4SWQodHgxKTtcblxuICAgIGJsb2NrID0gY2hhaW4ubWluZUJsb2NrKFtcbiAgICAgIE1hZ2ljLmluaXRpYWxpemVTd2FwcGVyKExQXzEuYWRkcmVzcyksXG4gICAgICBUZXN0VXRpbHMuc2V0TWluZWRUeCh0eGlkMSwgZGVwbG95ZXJXYWxsZXQuYWRkcmVzcyksXG4gICAgICAvLyBjYWxsZWQgYnkgZGlmZmVyZW50IFN0YWNrcyBhZGRyZXNzXG4gICAgICBTdXBwbGllckludGVyZmFjZS5zZW5kRnVuZHMoXG4gICAgICAgIHsgaGVhZGVyOiBcIlwiLCBoZWlnaHQ6IGNoYWluLmJsb2NrSGVpZ2h0IC0gMSB9LFxuICAgICAgICBbXSxcbiAgICAgICAgdHgxLFxuICAgICAgICB7IFwidHgtaW5kZXhcIjogMCwgXCJoYXNoZXNcIjogW10sIFwidHJlZS1kZXB0aFwiOiAwIH0sXG4gICAgICAgIDAsXG4gICAgICAgIHNlbmRlcixcbiAgICAgICAgcmVjaXBpZW50LFxuICAgICAgICBnZXRFeHBpcmF0aW9uKGV4cGlyYXRpb24pLFxuICAgICAgICBoYXNoLFxuICAgICAgICBzd2FwcGVyQnVmZihzd2FwcGVySWQpLFxuICAgICAgICBzdXBwbGllcklkLFxuICAgICAgICBtaW5Ub1JlY2VpdmUsXG4gICAgICAgIExQXzEuYWRkcmVzcyxcbiAgICAgICksXG4gICAgICBNYWdpYy5maW5hbGl6ZVN3YXAodHhpZDEsIHByZWltYWdlLCB3YWxsZXRfOC5hZGRyZXNzKSxcbiAgICAgIC8vIGNhbGxlZCBieSB3cm9uZyBzdGFja3MgYWRkcmVzc1xuICAgICAgU3VwcGxpZXJJbnRlcmZhY2Uuc2VuZEZ1bmRzRmluYWxpemVDb21wbGV0ZWQodHhpZDEsIDEsIExQX1RPS0VOLCAwLCBaUF9UT0tFTiwgTElRVUlESVRZX1ZBVUxULCBYQlRDLCBSRVdBUkRTX0NBTEMsIHdhbGxldF84LmFkZHJlc3MpLFxuICAgICAgLy8gZG9uZSBieSBjb3JyZWN0IGFkZHJlc3NcbiAgICAgIFN1cHBsaWVySW50ZXJmYWNlLnNlbmRGdW5kc0ZpbmFsaXplQ29tcGxldGVkKHR4aWQxLCAxLCBMUF9UT0tFTiwgMCwgWlBfVE9LRU4sIExJUVVJRElUWV9WQVVMVCwgWEJUQywgUkVXQVJEU19DQUxDLCBMUF8xLmFkZHJlc3MpLFxuICAgICAgU3VwcGxpZXJJbnRlcmZhY2Uuc2VuZEZ1bmRzRmluYWxpemVDb21wbGV0ZWQodHhpZDEsIDEsIExQX1RPS0VOLCAwLCBaUF9UT0tFTiwgTElRVUlESVRZX1ZBVUxULCBYQlRDLCBSRVdBUkRTX0NBTEMsIExQXzEuYWRkcmVzcyksXG4gICAgXSk7XG4gICAgYmxvY2sucmVjZWlwdHNbNF0ucmVzdWx0LmV4cGVjdEVycigpLmV4cGVjdFVpbnQoMTAwMSk7XG4gICAgYmxvY2sucmVjZWlwdHNbNV0ucmVzdWx0LmV4cGVjdE9rKCkuZXhwZWN0VWludChMUF8xX2Ftb3VudCk7XG4gICAgYmxvY2sucmVjZWlwdHNbNl0ucmVzdWx0LmV4cGVjdEVycigpLmV4cGVjdFVpbnQoMTAwNCk7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