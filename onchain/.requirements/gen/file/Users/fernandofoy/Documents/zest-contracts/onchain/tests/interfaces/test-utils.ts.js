import { Tx, types } from 'https://deno.land/x/clarinet@v1.0.2/index.ts';
import { Buffer } from "https://deno.land/std@0.159.0/node/buffer.ts";
class TestUtils {
    static setMinedTx(txid, caller) {
        return Tx.contractCall("test-utils", 'set-mined', [
            types.buff(Buffer.from(txid, "hex"))
        ], caller);
    }
    static setBurnHeaderTx(height, header, caller) {
        return Tx.contractCall("test-utils", 'set-burn-header', [
            types.uint(height),
            types.buff(Buffer.from(header, "hex"))
        ], caller);
    }
    static wasMinedTx(chain, txid, caller) {
        return chain.callReadOnlyFn(`test-utils`, "was-mined", [
            types.buff(Buffer.from(txid, "hex"))
        ], caller).result;
    }
    static burnBlockHeader(chain, height, header, caller) {
        return chain.callReadOnlyFn(`test-utils`, "was-mined", [
            types.uint(height),
            types.buff(Buffer.from(header, "hex"))
        ], caller).result;
    }
}
export { TestUtils };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvZmVybmFuZG9mb3kvRG9jdW1lbnRzL3plc3QtY29udHJhY3RzL29uY2hhaW4vdGVzdHMvaW50ZXJmYWNlcy90ZXN0LXV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR4LCBDaGFpbiwgQWNjb3VudCwgdHlwZXMgfSBmcm9tICdodHRwczovL2Rlbm8ubGFuZC94L2NsYXJpbmV0QHYxLjAuMi9pbmRleC50cyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tIFwiaHR0cHM6Ly9kZW5vLmxhbmQvc3RkQDAuMTU5LjAvbm9kZS9idWZmZXIudHNcIjtcblxuY2xhc3MgVGVzdFV0aWxzIHtcbiAgICBzdGF0aWMgc2V0TWluZWRUeCh0eGlkOiBzdHJpbmcsIGNhbGxlcjogc3RyaW5nKSB7XG4gICAgICByZXR1cm4gVHguY29udHJhY3RDYWxsKFwidGVzdC11dGlsc1wiLCAnc2V0LW1pbmVkJywgWyB0eXBlcy5idWZmKEJ1ZmZlci5mcm9tKHR4aWQsIFwiaGV4XCIpKSBdLCBjYWxsZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXRCdXJuSGVhZGVyVHgoaGVpZ2h0OiBudW1iZXIsIGhlYWRlcjogc3RyaW5nLCBjYWxsZXI6IHN0cmluZykge1xuICAgICAgcmV0dXJuIFR4LmNvbnRyYWN0Q2FsbChcInRlc3QtdXRpbHNcIiwgJ3NldC1idXJuLWhlYWRlcicsXG4gICAgICAgIFtcbiAgICAgICAgICB0eXBlcy51aW50KGhlaWdodCksXG4gICAgICAgICAgdHlwZXMuYnVmZihCdWZmZXIuZnJvbShoZWFkZXIsIFwiaGV4XCIpKVxuICAgICAgICBdLCBjYWxsZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyB3YXNNaW5lZFR4KGNoYWluOiBDaGFpbiwgdHhpZDogc3RyaW5nLCBjYWxsZXI6IHN0cmluZykge1xuICAgICAgcmV0dXJuIGNoYWluLmNhbGxSZWFkT25seUZuKGB0ZXN0LXV0aWxzYCwgXCJ3YXMtbWluZWRcIiwgWyB0eXBlcy5idWZmKEJ1ZmZlci5mcm9tKHR4aWQsIFwiaGV4XCIpKSBdLCBjYWxsZXIpLnJlc3VsdDtcbiAgICB9XG5cbiAgICBzdGF0aWMgYnVybkJsb2NrSGVhZGVyKGNoYWluOiBDaGFpbiwgaGVpZ2h0OiBudW1iZXIsIGhlYWRlcjogc3RyaW5nLCBjYWxsZXI6IHN0cmluZykge1xuICAgICAgcmV0dXJuIGNoYWluLmNhbGxSZWFkT25seUZuKGB0ZXN0LXV0aWxzYCwgXCJ3YXMtbWluZWRcIiwgWyB0eXBlcy51aW50KGhlaWdodCksIHR5cGVzLmJ1ZmYoQnVmZmVyLmZyb20oaGVhZGVyLCBcImhleFwiKSkgXSwgY2FsbGVyKS5yZXN1bHQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCB7IFRlc3RVdGlscyB9OyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLEVBQUUsRUFBa0IsS0FBSyxRQUFRLDhDQUE4QyxDQUFDO0FBQ3pGLFNBQVMsTUFBTSxRQUFRLDhDQUE4QyxDQUFDO0FBRXRFLE1BQU0sU0FBUztJQUNYLE9BQU8sVUFBVSxDQUFDLElBQVksRUFBRSxNQUFjLEVBQUU7UUFDOUMsT0FBTyxFQUFFLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxXQUFXLEVBQUU7WUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztLQUNyRztJQUVELE9BQU8sZUFBZSxDQUFDLE1BQWMsRUFBRSxNQUFjLEVBQUUsTUFBYyxFQUFFO1FBQ3JFLE9BQU8sRUFBRSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsaUJBQWlCLEVBQ3BEO1lBQ0UsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDbEIsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztTQUN2QyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQ2Q7SUFFRCxPQUFPLFVBQVUsQ0FBQyxLQUFZLEVBQUUsSUFBWSxFQUFFLE1BQWMsRUFBRTtRQUM1RCxPQUFPLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxVQUFVLENBQUMsRUFBRSxXQUFXLEVBQUU7WUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUM7S0FDakg7SUFFRCxPQUFPLGVBQWUsQ0FBQyxLQUFZLEVBQUUsTUFBYyxFQUFFLE1BQWMsRUFBRSxNQUFjLEVBQUU7UUFDbkYsT0FBTyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsV0FBVyxFQUFFO1lBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUM7S0FDdkk7Q0FFSjtBQUVELFNBQVMsU0FBUyxHQUFHIn0=